(()=>{var e={8075:(e,t,r)=>{"use strict";var n=r(453),i=r(487),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},487:(e,t,r)=>{"use strict";var n=r(6743),i=r(453),o=r(6897),s=r(9675),a=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||n.call(l,a),u=r(655),h=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=c(n,l,arguments);return o(t,1+h(0,e.length-(arguments.length-1)),!0)};var f=function(){return c(n,a,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},955:function(e,t,r){var n;e.exports=(n=r(9021),r(754),r(4636),r(9506),r(7165),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,i=[],o=[],s=[],a=[],l=[],c=[],u=[],h=[],f=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,i[r]=d,o[d]=r;var g=e[r],y=e[g],m=e[y],b=257*e[d]^16843008*d;s[r]=b<<24|b>>>8,a[r]=b<<16|b>>>16,l[r]=b<<8|b>>>24,c[r]=b,b=16843009*m^65537*y^257*g^16843008*r,u[d]=b<<24|b>>>8,h[d]=b<<16|b>>>16,f[d]=b<<8|b>>>24,p[d]=b,r?(r=g^e[e[e[m^g]]],n^=e[e[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)s<r?o[s]=t[s]:(c=o[s-1],s%r?r>6&&s%r==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=d[s/r|0]<<24),o[s]=o[s-r]^c);for(var a=this._invKeySchedule=[],l=0;l<n;l++){if(s=n-l,l%4)var c=o[s];else c=o[s-4];a[l]=l<4||s<=4?c:u[i[c>>>24]]^h[i[c>>>16&255]]^f[i[c>>>8&255]]^p[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,u,h,f,p,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,a){for(var l=this._nRounds,c=e[t]^r[0],u=e[t+1]^r[1],h=e[t+2]^r[2],f=e[t+3]^r[3],p=4,d=1;d<l;d++){var g=n[c>>>24]^i[u>>>16&255]^o[h>>>8&255]^s[255&f]^r[p++],y=n[u>>>24]^i[h>>>16&255]^o[f>>>8&255]^s[255&c]^r[p++],m=n[h>>>24]^i[f>>>16&255]^o[c>>>8&255]^s[255&u]^r[p++],b=n[f>>>24]^i[c>>>16&255]^o[u>>>8&255]^s[255&h]^r[p++];c=g,u=y,h=m,f=b}g=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^r[p++],y=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^r[p++],m=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^r[p++],b=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^r[p++],e[t]=g,e[t+1]=y,e[t+2]=m,e[t+3]=b},keySize:8});e.AES=t._createHelper(g)}(),n.AES)},3128:function(e,t,r){var n;e.exports=(n=r(9021),r(754),r(4636),r(9506),r(7165),function(){var e=n,t=e.lib.BlockCipher,r=e.algo;const i=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function l(e,t){let r=t>>24&255,n=t>>16&255,i=t>>8&255,o=255&t,s=e.sbox[0][r]+e.sbox[1][n];return s^=e.sbox[2][i],s+=e.sbox[3][o],s}function c(e,t,r){let n,o=t,s=r;for(let t=0;t<i;++t)o^=e.pbox[t],s=l(e,o)^s,n=o,o=s,s=n;return n=o,o=s,s=n,s^=e.pbox[i],o^=e.pbox[17],{left:o,right:s}}var u=r.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4;!function(e,t,r){for(let t=0;t<4;t++){e.sbox[t]=[];for(let r=0;r<256;r++)e.sbox[t][r]=s[t][r]}let n=0;for(let i=0;i<18;i++)e.pbox[i]=o[i]^t[n],n++,n>=r&&(n=0);let i=0,a=0,l=0;for(let t=0;t<18;t+=2)l=c(e,i,a),i=l.left,a=l.right,e.pbox[t]=i,e.pbox[t+1]=a;for(let t=0;t<4;t++)for(let r=0;r<256;r+=2)l=c(e,i,a),i=l.left,a=l.right,e.sbox[t][r]=i,e.sbox[t][r+1]=a}(a,t,r)}},encryptBlock:function(e,t){var r=c(a,e[t],e[t+1]);e[t]=r.left,e[t+1]=r.right},decryptBlock:function(e,t){var r=function(e,t,r){let n,i=t,o=r;for(let t=17;t>1;--t)i^=e.pbox[t],o=l(e,i)^o,n=i,i=o,o=n;return n=i,i=o,o=n,o^=e.pbox[1],i^=e.pbox[0],{left:i,right:o}}(a,e[t],e[t+1]);e[t]=r.left,e[t+1]=r.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(u)}(),n.Blowfish)},7165:function(e,t,r){var n,i,o,s,a,l,c,u,h,f,p,d,g,y,m,b,w,v,_;e.exports=(n=r(9021),r(9506),void(n.lib.Cipher||(i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,c=i.enc,c.Utf8,u=c.Base64,h=i.algo.EvpKDF,f=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:w}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),o.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),p=i.mode={},d=o.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),g=p.CBC=function(){var e=d.extend();function t(e,t,r){var n,i=this._iv;i?(n=i,this._iv=void 0):n=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=n[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=o}}),e}(),y=(i.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);var l=a.create(o,n);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=f.extend({cfg:f.cfg.extend({mode:g,padding:y}),reset:function(){var e;f.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),m=o.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),b=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?a.create([1398893684,1701076831]).concat(r).concat(t):t).toString(u)},parse:function(e){var t,r=u.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=a.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),m.create({ciphertext:r,salt:t})}},w=o.SerializableCipher=s.extend({cfg:s.extend({format:b}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return m.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(i.kdf={}).OpenSSL={execute:function(e,t,r,n,i){if(n||(n=a.random(8)),i)o=h.create({keySize:t+r,hasher:i}).compute(e,n);else var o=h.create({keySize:t+r}).compute(e,n);var s=a.create(o.words.slice(t),4*r);return o.sigBytes=4*t,m.create({key:o,iv:s,salt:n})}},_=o.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:v}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=i.iv;var o=w.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=i.iv,w.decrypt.call(this,e,t,i.key,n)}}))))},9021:function(e,t,r){var n;e.exports=(n=n||function(e){var t;if("undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof self&&self.msCrypto&&(t=self.msCrypto),!t&&void 0!==r.g&&r.g.crypto&&(t=r.g.crypto),!t)try{t=r(477)}catch(e){}var n=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),o={},s=o.lib={},a=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new l.init(t,e)}}),c=o.enc={},u=c.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},h=c.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*c,o);if(c){for(var h=0;h<c;h+=s)this._doProcessBlock(i,h);r=i.splice(0,c),n.sigBytes-=u}return new l.init(r,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(s.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),o.algo={});return o}(Math),n)},754:function(e,t,r){var n,i,o;e.exports=(n=r(9021),o=(i=n).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var n=[],i=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;n[i>>>2]|=a<<24-i%4*8,i++}return o.create(n,i)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},4725:function(e,t,r){var n,i,o;e.exports=(n=r(9021),o=(i=n).lib.WordArray,i.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var r=e.words,n=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<n;s+=3)for(var a=(r[s>>>2]>>>24-s%4*8&255)<<16|(r[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|r[s+2>>>2]>>>24-(s+2)%4*8&255,l=0;l<4&&s+.75*l<n;l++)o.push(i.charAt(a>>>6*(3-l)&63));var c=i.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,n=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<n.length;s++)i[n.charCodeAt(s)]=s}var a=n.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(r=l)}return function(e,t,r){for(var n=[],i=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;n[i>>>2]|=a<<24-i%4*8,i++}return o.create(n,i)}(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},n.enc.Base64url)},5503:function(e,t,r){var n;e.exports=(n=r(9021),function(){var e=n,t=e.lib.WordArray,r=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(n,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var s=i(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var r=e.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(n,2*r)}}}(),n.enc.Utf16)},9506:function(e,t,r){var n,i,o,s,a,l,c,u;e.exports=(u=r(9021),r(5471),r(1025),o=(i=(n=u).lib).Base,s=i.WordArray,l=(a=n.algo).MD5,c=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),o=s.create(),a=o.words,l=n.keySize,c=n.iterations;a.length<l;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var u=1;u<c;u++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*l,o}}),n.EvpKDF=function(e,t,r){return c.create(r).compute(e,t)},u.EvpKDF)},25:function(e,t,r){var n,i,o,s;e.exports=(s=r(9021),r(7165),i=(n=s).lib.CipherParams,o=n.enc.Hex,n.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},s.format.Hex)},1025:function(e,t,r){var n,i,o;e.exports=(i=(n=r(9021)).lib.Base,o=n.enc.Utf8,void(n.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,l=s.words,c=0;c<r;c++)a[c]^=1549556828,l[c]^=909522486;i.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},1396:function(e,t,r){var n;e.exports=(n=r(9021),r(3240),r(6440),r(5503),r(754),r(4725),r(4636),r(5471),r(3009),r(6308),r(1380),r(9557),r(5953),r(8056),r(1025),r(19),r(9506),r(7165),r(2169),r(6939),r(6372),r(3797),r(8454),r(2073),r(4905),r(482),r(2155),r(8124),r(25),r(955),r(7628),r(7193),r(6298),r(2696),r(3128),n)},6440:function(e,t,r){var n;e.exports=(n=r(9021),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init,r=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=e[i]<<24-i%4*8;t.call(this,n,r)}else t.apply(this,arguments)};r.prototype=e}}(),n.lib.WordArray)},4636:function(e,t,r){var n;e.exports=(n=r(9021),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],l=e[t+1],p=e[t+2],d=e[t+3],g=e[t+4],y=e[t+5],m=e[t+6],b=e[t+7],w=e[t+8],v=e[t+9],_=e[t+10],S=e[t+11],E=e[t+12],A=e[t+13],I=e[t+14],T=e[t+15],R=o[0],k=o[1],O=o[2],C=o[3];R=c(R,k,O,C,s,7,a[0]),C=c(C,R,k,O,l,12,a[1]),O=c(O,C,R,k,p,17,a[2]),k=c(k,O,C,R,d,22,a[3]),R=c(R,k,O,C,g,7,a[4]),C=c(C,R,k,O,y,12,a[5]),O=c(O,C,R,k,m,17,a[6]),k=c(k,O,C,R,b,22,a[7]),R=c(R,k,O,C,w,7,a[8]),C=c(C,R,k,O,v,12,a[9]),O=c(O,C,R,k,_,17,a[10]),k=c(k,O,C,R,S,22,a[11]),R=c(R,k,O,C,E,7,a[12]),C=c(C,R,k,O,A,12,a[13]),O=c(O,C,R,k,I,17,a[14]),R=u(R,k=c(k,O,C,R,T,22,a[15]),O,C,l,5,a[16]),C=u(C,R,k,O,m,9,a[17]),O=u(O,C,R,k,S,14,a[18]),k=u(k,O,C,R,s,20,a[19]),R=u(R,k,O,C,y,5,a[20]),C=u(C,R,k,O,_,9,a[21]),O=u(O,C,R,k,T,14,a[22]),k=u(k,O,C,R,g,20,a[23]),R=u(R,k,O,C,v,5,a[24]),C=u(C,R,k,O,I,9,a[25]),O=u(O,C,R,k,d,14,a[26]),k=u(k,O,C,R,w,20,a[27]),R=u(R,k,O,C,A,5,a[28]),C=u(C,R,k,O,p,9,a[29]),O=u(O,C,R,k,b,14,a[30]),R=h(R,k=u(k,O,C,R,E,20,a[31]),O,C,y,4,a[32]),C=h(C,R,k,O,w,11,a[33]),O=h(O,C,R,k,S,16,a[34]),k=h(k,O,C,R,I,23,a[35]),R=h(R,k,O,C,l,4,a[36]),C=h(C,R,k,O,g,11,a[37]),O=h(O,C,R,k,b,16,a[38]),k=h(k,O,C,R,_,23,a[39]),R=h(R,k,O,C,A,4,a[40]),C=h(C,R,k,O,s,11,a[41]),O=h(O,C,R,k,d,16,a[42]),k=h(k,O,C,R,m,23,a[43]),R=h(R,k,O,C,v,4,a[44]),C=h(C,R,k,O,E,11,a[45]),O=h(O,C,R,k,T,16,a[46]),R=f(R,k=h(k,O,C,R,p,23,a[47]),O,C,s,6,a[48]),C=f(C,R,k,O,b,10,a[49]),O=f(O,C,R,k,I,15,a[50]),k=f(k,O,C,R,y,21,a[51]),R=f(R,k,O,C,E,6,a[52]),C=f(C,R,k,O,d,10,a[53]),O=f(O,C,R,k,_,15,a[54]),k=f(k,O,C,R,l,21,a[55]),R=f(R,k,O,C,w,6,a[56]),C=f(C,R,k,O,T,10,a[57]),O=f(O,C,R,k,m,15,a[58]),k=f(k,O,C,R,A,21,a[59]),R=f(R,k,O,C,g,6,a[60]),C=f(C,R,k,O,S,10,a[61]),O=f(O,C,R,k,p,15,a[62]),k=f(k,O,C,R,v,21,a[63]),o[0]=o[0]+R|0,o[1]=o[1]+k|0,o[2]=o[2]+O|0,o[3]=o[3]+C|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var o=e.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+i+s;return(a<<o|a>>>32-o)+t}function u(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+i+s;return(a<<o|a>>>32-o)+t}function h(e,t,r,n,i,o,s){var a=e+(t^r^n)+i+s;return(a<<o|a>>>32-o)+t}function f(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+i+s;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(l),t.HmacMD5=o._createHmacHelper(l)}(Math),n.MD5)},2169:function(e,t,r){var n;e.exports=(n=r(9021),r(7165),n.mode.CFB=function(){var e=n.lib.BlockCipherMode.extend();function t(e,t,r,n){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var s=0;s<r;s++)e[t+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i,n),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);t.call(this,e,r,i,n),this._prevBlock=o}}),e}(),n.mode.CFB)},6372:function(e,t,r){var n;e.exports=(n=r(9021),r(7165),n.mode.CTRGladman=function(){var e=n.lib.BlockCipherMode.extend();function t(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}return e}var r=e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(s);var a=s.slice(0);n.encryptBlock(a,0);for(var l=0;l<i;l++)e[r+l]^=a[l]}});return e.Decryptor=r,e}(),n.mode.CTRGladman)},6939:function(e,t,r){var n,i,o;e.exports=(o=r(9021),r(7165),o.mode.CTR=(i=(n=o.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);r.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)e[t+a]^=s[a]}}),n.Decryptor=i,n),o.mode.CTR)},8454:function(e,t,r){var n,i;e.exports=(i=r(9021),r(7165),i.mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),i.mode.ECB)},3797:function(e,t,r){var n,i,o;e.exports=(o=r(9021),r(7165),o.mode.OFB=(i=(n=o.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<n;s++)e[t+s]^=o[s]}}),n.Decryptor=i,n),o.mode.OFB)},2073:function(e,t,r){var n;e.exports=(n=r(9021),r(7165),n.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,o=r+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Ansix923)},4905:function(e,t,r){var n;e.exports=(n=r(9021),r(7165),n.pad.Iso10126={pad:function(e,t){var r=4*t,i=r-e.sigBytes%r;e.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Iso10126)},482:function(e,t,r){var n;e.exports=(n=r(9021),r(7165),n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971)},8124:function(e,t,r){var n;e.exports=(n=r(9021),r(7165),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},2155:function(e,t,r){var n;e.exports=(n=r(9021),r(7165),n.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},n.pad.ZeroPadding)},19:function(e,t,r){var n,i,o,s,a,l,c,u,h;e.exports=(h=r(9021),r(3009),r(1025),o=(i=(n=h).lib).Base,s=i.WordArray,l=(a=n.algo).SHA256,c=a.HMAC,u=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=c.create(r.hasher,e),i=s.create(),o=s.create([1]),a=i.words,l=o.words,u=r.keySize,h=r.iterations;a.length<u;){var f=n.update(t).finalize(o);n.reset();for(var p=f.words,d=p.length,g=f,y=1;y<h;y++){g=n.finalize(g),n.reset();for(var m=g.words,b=0;b<d;b++)p[b]^=m[b]}i.concat(f),l[0]++}return i.sigBytes=4*u,i}}),n.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)},h.PBKDF2)},2696:function(e,t,r){var n;e.exports=(n=r(9021),r(754),r(4636),r(9506),r(7165),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,i=[],o=[],s=[],a=r.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,f=u<<16|65535&c;for(n[0]^=c,n[1]^=h,n[2]^=u,n[3]^=f,n[4]^=c,n[5]^=h,n[6]^=u,n[7]^=f,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,a=n>>>16,l=((i*i>>>17)+i*a>>>15)+a*a,c=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),n.RabbitLegacy)},6298:function(e,t,r){var n;e.exports=(n=r(9021),r(754),r(4636),r(9506),r(7165),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,i=[],o=[],s=[],a=r.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,f=u<<16|65535&c;for(i[0]^=c,i[1]^=h,i[2]^=u,i[3]^=f,i[4]^=c,i[5]^=h,i[6]^=u,i[7]^=f,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,a=n>>>16,l=((i*i>>>17)+i*a>>>15)+a*a,c=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),n.Rabbit)},7193:function(e,t,r){var n;e.exports=(n=r(9021),r(754),r(4636),r(9506),r(7165),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,i=r.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var s=i%r,a=t[s>>>2]>>>24-s%4*8&255;o=(o+n[i]+a)%256;var l=n[i];n[i]=n[o],n[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[r],e[r]=o,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}e.RC4=t._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(s)}(),n.RC4)},8056:function(e,t,r){var n;e.exports=(n=r(9021),function(){var e=n,t=e.lib,r=t.WordArray,i=t.Hasher,o=e.algo,s=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=r.create([0,1518500249,1859775393,2400959708,2840853838]),h=r.create([1352829926,1548603684,1836072691,2053994217,0]),f=o.RIPEMD160=i.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,f,w,v,_,S,E,A,I,T,R,k=this._hash.words,O=u.words,C=h.words,P=s.words,B=a.words,x=l.words,N=c.words;for(S=o=k[0],E=f=k[1],A=w=k[2],I=v=k[3],T=_=k[4],r=0;r<80;r+=1)R=o+e[t+P[r]]|0,R+=r<16?p(f,w,v)+O[0]:r<32?d(f,w,v)+O[1]:r<48?g(f,w,v)+O[2]:r<64?y(f,w,v)+O[3]:m(f,w,v)+O[4],R=(R=b(R|=0,x[r]))+_|0,o=_,_=v,v=b(w,10),w=f,f=R,R=S+e[t+B[r]]|0,R+=r<16?m(E,A,I)+C[0]:r<32?y(E,A,I)+C[1]:r<48?g(E,A,I)+C[2]:r<64?d(E,A,I)+C[3]:p(E,A,I)+C[4],R=(R=b(R|=0,N[r]))+T|0,S=T,T=I,I=b(A,10),A=E,E=R;R=k[1]+w+I|0,k[1]=k[2]+v+T|0,k[2]=k[3]+_+S|0,k[3]=k[4]+o+E|0,k[4]=k[0]+f+A|0,k[0]=R},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,r){return e^t^r}function d(e,t,r){return e&t|~e&r}function g(e,t,r){return(e|~t)^r}function y(e,t,r){return e&r|t&~r}function m(e,t,r){return e^(t|~r)}function b(e,t){return e<<t|e>>>32-t}e.RIPEMD160=i._createHelper(f),e.HmacRIPEMD160=i._createHmacHelper(f)}(Math),n.RIPEMD160)},5471:function(e,t,r){var n,i,o,s,a,l,c,u;e.exports=(i=(n=u=r(9021)).lib,o=i.WordArray,s=i.Hasher,a=n.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=0;c<80;c++){if(c<16)l[c]=0|e[t+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var h=(n<<5|n>>>27)+a+l[c];h+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=s._createHelper(c),n.HmacSHA1=s._createHmacHelper(c),u.SHA1)},6308:function(e,t,r){var n,i,o,s,a,l;e.exports=(l=r(9021),r(3009),i=(n=l).lib.WordArray,o=n.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),n.SHA224=s._createHelper(a),n.HmacSHA224=s._createHmacHelper(a),l.SHA224)},3009:function(e,t,r){var n;e.exports=(n=r(9021),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,s=t.algo,a=[],l=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(a[i]=r(e.pow(n,.5))),l[i]=r(e.pow(n,1/3)),i++),n++}();var c=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],h=r[6],f=r[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var d=c[p-15],g=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,y=c[p-2],m=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[p]=g+c[p-7]+m+c[p-16]}var b=n&i^n&o^i&o,w=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),v=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&h)+l[p]+c[p];f=h,h=u,u=a,a=s+v|0,s=o,o=i,i=n,n=v+(w+b)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+h|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),n.SHA256)},5953:function(e,t,r){var n;e.exports=(n=r(9021),r(3240),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,s=t.x64.Word,a=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,r=0;r<24;r++){l[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,h=0,f=0;f<7;f++){if(1&i){var p=(1<<f)-1;p<32?h^=1<<p:a^=1<<p-32}128&i?i=i<<1^113:i<<=1}u[o]=s.create(a,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=s.create()}();var f=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(k=r[i]).high^=s,k.low^=o}for(var a=0;a<24;a++){for(var f=0;f<5;f++){for(var p=0,d=0,g=0;g<5;g++)p^=(k=r[f+5*g]).high,d^=k.low;var y=h[f];y.high=p,y.low=d}for(f=0;f<5;f++){var m=h[(f+4)%5],b=h[(f+1)%5],w=b.high,v=b.low;for(p=m.high^(w<<1|v>>>31),d=m.low^(v<<1|w>>>31),g=0;g<5;g++)(k=r[f+5*g]).high^=p,k.low^=d}for(var _=1;_<25;_++){var S=(k=r[_]).high,E=k.low,A=l[_];A<32?(p=S<<A|E>>>32-A,d=E<<A|S>>>32-A):(p=E<<A-32|S>>>64-A,d=S<<A-32|E>>>64-A);var I=h[c[_]];I.high=p,I.low=d}var T=h[0],R=r[0];for(T.high=R.high,T.low=R.low,f=0;f<5;f++)for(g=0;g<5;g++){var k=r[_=f+5*g],O=h[_],C=h[(f+1)%5+5*g],P=h[(f+2)%5+5*g];k.high=O.high^~C.high&P.high,k.low=O.low^~C.low&P.low}k=r[0];var B=u[a];k.high^=B.high,k.low^=B.low}},_doFinalize:function(){var t=this._data,r=t.words,n=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,c=[],u=0;u<l;u++){var h=s[u],f=h.high,p=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(f)}return new i.init(c,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=o._createHelper(f),t.HmacSHA3=o._createHmacHelper(f)}(Math),n.SHA3)},9557:function(e,t,r){var n,i,o,s,a,l,c,u;e.exports=(u=r(9021),r(3240),r(1380),i=(n=u).x64,o=i.Word,s=i.WordArray,a=n.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=l._doFinalize.call(this);return e.sigBytes-=16,e}}),n.SHA384=l._createHelper(c),n.HmacSHA384=l._createHmacHelper(c),u.SHA384)},1380:function(e,t,r){var n;e.exports=(n=r(9021),r(3240),function(){var e=n,t=e.lib.Hasher,r=e.x64,i=r.Word,o=r.WordArray,s=e.algo;function a(){return i.create.apply(i,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var u=s.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],h=r[6],f=r[7],p=n.high,d=n.low,g=i.high,y=i.low,m=o.high,b=o.low,w=s.high,v=s.low,_=a.high,S=a.low,E=u.high,A=u.low,I=h.high,T=h.low,R=f.high,k=f.low,O=p,C=d,P=g,B=y,x=m,N=b,M=w,L=v,U=_,j=S,D=E,F=A,W=I,H=T,q=R,V=k,z=0;z<80;z++){var $,K,G=c[z];if(z<16)K=G.high=0|e[t+2*z],$=G.low=0|e[t+2*z+1];else{var Q=c[z-15],Y=Q.high,J=Q.low,X=(Y>>>1|J<<31)^(Y>>>8|J<<24)^Y>>>7,Z=(J>>>1|Y<<31)^(J>>>8|Y<<24)^(J>>>7|Y<<25),ee=c[z-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),oe=c[z-7],se=oe.high,ae=oe.low,le=c[z-16],ce=le.high,ue=le.low;K=(K=(K=X+se+(($=Z+ae)>>>0<Z>>>0?1:0))+ne+(($+=ie)>>>0<ie>>>0?1:0))+ce+(($+=ue)>>>0<ue>>>0?1:0),G.high=K,G.low=$}var he,fe=U&D^~U&W,pe=j&F^~j&H,de=O&P^O&x^P&x,ge=C&B^C&N^B&N,ye=(O>>>28|C<<4)^(O<<30|C>>>2)^(O<<25|C>>>7),me=(C>>>28|O<<4)^(C<<30|O>>>2)^(C<<25|O>>>7),be=(U>>>14|j<<18)^(U>>>18|j<<14)^(U<<23|j>>>9),we=(j>>>14|U<<18)^(j>>>18|U<<14)^(j<<23|U>>>9),ve=l[z],_e=ve.high,Se=ve.low,Ee=q+be+((he=V+we)>>>0<V>>>0?1:0),Ae=me+ge;q=W,V=H,W=D,H=F,D=U,F=j,U=M+(Ee=(Ee=(Ee=Ee+fe+((he+=pe)>>>0<pe>>>0?1:0))+_e+((he+=Se)>>>0<Se>>>0?1:0))+K+((he+=$)>>>0<$>>>0?1:0))+((j=L+he|0)>>>0<L>>>0?1:0)|0,M=x,L=N,x=P,N=B,P=O,B=C,O=Ee+(ye+de+(Ae>>>0<me>>>0?1:0))+((C=he+Ae|0)>>>0<he>>>0?1:0)|0}d=n.low=d+C,n.high=p+O+(d>>>0<C>>>0?1:0),y=i.low=y+B,i.high=g+P+(y>>>0<B>>>0?1:0),b=o.low=b+N,o.high=m+x+(b>>>0<N>>>0?1:0),v=s.low=v+L,s.high=w+M+(v>>>0<L>>>0?1:0),S=a.low=S+j,a.high=_+U+(S>>>0<j>>>0?1:0),A=u.low=A+F,u.high=E+D+(A>>>0<F>>>0?1:0),T=h.low=T+H,h.high=I+W+(T>>>0<H>>>0?1:0),k=f.low=k+V,f.high=R+q+(k>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),n.SHA512)},7628:function(e,t,r){var n;e.exports=(n=r(9021),r(754),r(4636),r(9506),r(7165),function(){var e=n,t=e.lib,r=t.WordArray,i=t.BlockCipher,o=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=s[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],u=l[o];for(r=0;r<24;r++)c[r/6|0]|=t[(a[r]-1+u)%28]<<31-r%6,c[4+(r/6|0)]|=t[28+(a[r+24]-1+u)%28]<<31-r%6;for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,s=this._rBlock,a=0,l=0;l<8;l++)a|=c[l][((s^i[l])&u[l])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=i._createHelper(h);var d=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(r.create(t)),this._des2=h.createEncryptor(r.create(n)),this._des3=h.createEncryptor(r.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(d)}(),n.TripleDES)},3240:function(e,t,r){var n,i,o,s,a,l;e.exports=(o=(i=n=r(9021)).lib,s=o.Base,a=o.WordArray,(l=i.x64={}).Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),l.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return a.create(r,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}}),n)},41:(e,t,r)=>{"use strict";var n=r(655),i=r(8068),o=r(9675),s=r(5795);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!s&&s(e,t);if(n)n(e,t,{configurable:null===c&&h?h.configurable:!c,enumerable:null===a&&h?h.enumerable:!a,value:r,writable:null===l&&h?h.writable:!l});else{if(!u&&(a||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},655:(e,t,r)=>{"use strict";var n=r(453)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},1237:e=>{"use strict";e.exports=EvalError},9383:e=>{"use strict";e.exports=Error},9290:e=>{"use strict";e.exports=RangeError},9538:e=>{"use strict";e.exports=ReferenceError},8068:e=>{"use strict";e.exports=SyntaxError},9675:e=>{"use strict";e.exports=TypeError},5345:e=>{"use strict";e.exports=URIError},9353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),a=r(0,i.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,n(s,arguments));return Object(t)===t?t:this}return i.apply(e,n(s,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},6743:(e,t,r)=>{"use strict";var n=r(9353);e.exports=Function.prototype.bind||n},453:(e,t,r)=>{"use strict";var n,i=r(9383),o=r(1237),s=r(9290),a=r(9538),l=r(8068),c=r(9675),u=r(5345),h=Function,f=function(e){try{return h('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var d=function(){throw new c},g=p?function(){try{return d}catch(e){try{return p(arguments,"callee").get}catch(e){return d}}}():d,y=r(4039)(),m=r(24)(),b=Object.getPrototypeOf||(m?function(e){return e.__proto__}:null),w={},v="undefined"!=typeof Uint8Array&&b?b(Uint8Array):n,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":y&&b?b([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":w,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&b?b(b([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&y&&b?b((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&y&&b?b((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&b?b(""[Symbol.iterator]()):n,"%Symbol%":y?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":g,"%TypedArray%":v,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(b)try{null.error}catch(e){var S=b(b(e));_["%Error.prototype%"]=S}var E=function e(t){var r;if("%AsyncFunction%"===t)r=f("async function () {}");else if("%GeneratorFunction%"===t)r=f("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=f("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&b&&(r=b(i.prototype))}return _[t]=r,r},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=r(6743),T=r(9957),R=I.call(Function.call,Array.prototype.concat),k=I.call(Function.apply,Array.prototype.splice),O=I.call(Function.call,String.prototype.replace),C=I.call(Function.call,String.prototype.slice),P=I.call(Function.call,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,N=function(e,t){var r,n=e;if(T(A,n)&&(n="%"+(r=A[n])[0]+"%"),T(_,n)){var i=_[n];if(i===w&&(i=E(n)),void 0===i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===P(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=C(e,0,1),r=C(e,-1);if("%"===t&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return O(e,B,(function(e,t,r,i){n[n.length]=r?O(i,x,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=N("%"+n+"%",t),o=i.name,s=i.value,a=!1,u=i.alias;u&&(n=u[0],k(r,R([0,1],u)));for(var h=1,f=!0;h<r.length;h+=1){var d=r[h],g=C(d,0,1),y=C(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new l("property names with quotes must have matching quotes");if("constructor"!==d&&f||(a=!0),T(_,o="%"+(n+="."+d)+"%"))s=_[o];else if(null!=s){if(!(d in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&h+1>=r.length){var m=p(s,d);s=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:s[d]}else f=T(s,d),s=s[d];f&&!a&&(_[o]=s)}}return s}},5795:(e,t,r)=>{"use strict";var n=r(453)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},592:(e,t,r)=>{"use strict";var n=r(655),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},24:e=>{"use strict";var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}},4039:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(1333);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},1333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(6743);e.exports=o.call(n,i)},8859:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,g=Object.prototype.toString,y=Function.prototype.toString,m=String.prototype.match,b=String.prototype.slice,w=String.prototype.replace,v=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,A=Array.prototype.join,I=Array.prototype.slice,T=Math.floor,R="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,P="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,x=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-T(-e):T(e);if(n!==e){var i=String(n),o=b.call(t,i.length+1);return w.call(i,r,"$&_")+"."+w.call(w.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(t,r,"$&_")}var M=r(2634),L=M.custom,U=H(L)?L:null;function j(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function D(e){return w.call(String(e),/"/g,"&quot;")}function F(e){return!("[object Array]"!==z(e)||P&&"object"==typeof e&&P in e)}function W(e){return!("[object RegExp]"!==z(e)||P&&"object"==typeof e&&P in e)}function H(e){if(C)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,a){var l=n||{};if(V(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=!V(l,"customInspect")||l.customInspect;if("boolean"!=typeof g&&"symbol"!==g)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var v=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return K(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return v?N(t,S):S}if("bigint"==typeof t){var T=String(t)+"n";return v?N(t,T):T}var k=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=k&&k>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var L,q=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=A.call(Array(e.indent+1)," ")}return{base:r,prev:A.call(Array(t+1),r)}}(l,i);if(void 0===a)a=[];else if($(a,t)>=0)return"[Circular]";function G(t,r,n){if(r&&(a=I.call(a)).push(r),n){var o={depth:l.depth};return V(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,a)}return e(t,l,i+1,a)}if("function"==typeof t&&!W(t)){var ee=function(e){if(e.name)return e.name;var t=m.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=Z(t,G);return"[Function"+(ee?": "+ee:" (anonymous)")+"]"+(te.length>0?" { "+A.call(te,", ")+" }":"")}if(H(t)){var re=C?w.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(t);return"object"!=typeof t||C?re:Q(re)}if((L=t)&&"object"==typeof L&&("undefined"!=typeof HTMLElement&&L instanceof HTMLElement||"string"==typeof L.nodeName&&"function"==typeof L.getAttribute)){for(var ne="<"+_.call(String(t.nodeName)),ie=t.attributes||[],oe=0;oe<ie.length;oe++)ne+=" "+ie[oe].name+"="+j(D(ie[oe].value),"double",l);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+"</"+_.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var se=Z(t,G);return q&&!function(e){for(var t=0;t<e.length;t++)if($(e[t],"\n")>=0)return!1;return!0}(se)?"["+X(se,q)+"]":"[ "+A.call(se,", ")+" ]"}if(function(e){return!("[object Error]"!==z(e)||P&&"object"==typeof e&&P in e)}(t)){var ae=Z(t,G);return"cause"in Error.prototype||!("cause"in t)||B.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+A.call(ae,", ")+" }":"{ ["+String(t)+"] "+A.call(E.call("[cause]: "+G(t.cause),ae),", ")+" }"}if("object"==typeof t&&g){if(U&&"function"==typeof t[U]&&M)return M(t,{depth:k-i});if("symbol"!==g&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var le=[];return s&&s.call(t,(function(e,r){le.push(G(r,t,!0)+" => "+G(e,t))})),J("Map",o.call(t),le,q)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ce=[];return u&&u.call(t,(function(e){ce.push(G(e,t))})),J("Set",c.call(t),ce,q)}if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if(function(e){return!("[object Number]"!==z(e)||P&&"object"==typeof e&&P in e)}(t))return Q(G(Number(t)));if(function(e){if(!e||"object"!=typeof e||!R)return!1;try{return R.call(e),!0}catch(e){}return!1}(t))return Q(G(R.call(t)));if(function(e){return!("[object Boolean]"!==z(e)||P&&"object"==typeof e&&P in e)}(t))return Q(d.call(t));if(function(e){return!("[object String]"!==z(e)||P&&"object"==typeof e&&P in e)}(t))return Q(G(String(t)));if("undefined"!=typeof self&&t===self)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r.g&&t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==z(e)||P&&"object"==typeof e&&P in e)}(t)&&!W(t)){var ue=Z(t,G),he=x?x(t)===Object.prototype:t instanceof Object||t.constructor===Object,fe=t instanceof Object?"":"null prototype",pe=!he&&P&&Object(t)===t&&P in t?b.call(z(t),8,-1):fe?"Object":"",de=(he||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||fe?"["+A.call(E.call([],pe||[],fe||[]),": ")+"] ":"");return 0===ue.length?de+"{}":q?de+"{"+X(ue,q)+"}":de+"{ "+A.call(ue,", ")+" }"}return String(t)};var q=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return q.call(e,t)}function z(e){return g.call(e)}function $(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function K(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return K(b.call(e,0,t.maxStringLength),t)+n}return j(w.call(w.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,G),"single",t)}function G(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+v.call(t.toString(16))}function Q(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function J(e,t,r,n){return e+" ("+t+") {"+(n?X(r,n):A.call(r,", "))+"}"}function X(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+A.call(e,","+r)+"\n"+t.prev}function Z(e,t){var r=F(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=V(e,i)?t(e[i],e):""}var o,s="function"==typeof k?k(e):[];if(C){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)V(e,l)&&(r&&String(Number(l))===l&&l<e.length||C&&o["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof k)for(var c=0;c<s.length;c++)B.call(e,s[c])&&n.push("["+t(s[c])+"]: "+t(e[s[c]],e));return n}},4765:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},5373:(e,t,r)=>{"use strict";var n=r(8636),i=r(2642),o=r(4765);e.exports={formats:o,parse:i,stringify:n}},2642:(e,t,r)=>{"use strict";var n=r(7720),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(o),c=a?o.slice(0,a.index):o,u=[];if(c){if(!r.plainObjects&&i.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var h=0;r.depth>0&&null!==(a=s.exec(o))&&h<r.depth;){if(h+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(a[1])}if(a){if(!0===r.strictDepth)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+o.slice(a.index)+"]")}return function(e,t,r,n){for(var i=n?t:l(t,r),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&r.parseArrays)s=r.allowEmptyArrays&&(""===i||r.strictNullHandling&&null===i)?[]:[].concat(i);else{s=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,h=parseInt(u,10);r.parseArrays||""!==u?!isNaN(h)&&a!==u&&String(h)===u&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(s=[])[h]=i:"__proto__"!==u&&(s[u]=i):s={0:i}}i=s}return i}(u,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset,r=void 0===e.duplicates?s.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||s.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:s.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var r={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u,h=t.parameterLimit===1/0?void 0:t.parameterLimit,f=c.split(t.delimiter,h),p=-1,d=t.charset;if(t.charsetSentinel)for(u=0;u<f.length;++u)0===f[u].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[u]?d="utf-8":"utf8=%26%2310003%3B"===f[u]&&(d="iso-8859-1"),p=u,u=f.length);for(u=0;u<f.length;++u)if(u!==p){var g,y,m=f[u],b=m.indexOf("]="),w=-1===b?m.indexOf("="):b+1;-1===w?(g=t.decoder(m,s.decoder,d,"key"),y=t.strictNullHandling?null:""):(g=t.decoder(m.slice(0,w),s.decoder,d,"key"),y=n.maybeMap(l(m.slice(w+1),t),(function(e){return t.decoder(e,s.decoder,d,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===d&&(y=a(y)),m.indexOf("[]=")>-1&&(y=o(y)?[y]:y);var v=i.call(r,g);v&&"combine"===t.duplicates?r[g]=n.combine(r[g],y):v&&"last"!==t.duplicates||(r[g]=y)}return r}(e,r):e,h=r.plainObjects?Object.create(null):{},f=Object.keys(u),p=0;p<f.length;++p){var d=f[p],g=c(d,u[d],r,"string"==typeof e);h=n.merge(h,g,r)}return!0===r.allowSparse?h:n.compact(h)}},8636:(e,t,r)=>{"use strict";var n=r(920),i=r(7720),o=r(4765),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,f=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},d={},g=function e(t,r,o,s,a,c,h,f,g,y,m,b,w,v,_,S,E,A){for(var I,T=t,R=A,k=0,O=!1;void 0!==(R=R.get(d))&&!O;){var C=R.get(t);if(k+=1,void 0!==C){if(C===k)throw new RangeError("Cyclic object value");O=!0}void 0===R.get(d)&&(k=0)}if("function"==typeof y?T=y(r,T):T instanceof Date?T=w(T):"comma"===o&&l(T)&&(T=i.maybeMap(T,(function(e){return e instanceof Date?w(e):e}))),null===T){if(c)return g&&!S?g(r,p.encoder,E,"key",v):r;T=""}if("string"==typeof(I=T)||"number"==typeof I||"boolean"==typeof I||"symbol"==typeof I||"bigint"==typeof I||i.isBuffer(T))return g?[_(S?r:g(r,p.encoder,E,"key",v))+"="+_(g(T,p.encoder,E,"value",v))]:[_(r)+"="+_(String(T))];var P,B=[];if(void 0===T)return B;if("comma"===o&&l(T))S&&g&&(T=i.maybeMap(T,g)),P=[{value:T.length>0?T.join(",")||null:void 0}];else if(l(y))P=y;else{var x=Object.keys(T);P=m?x.sort(m):x}var N=f?r.replace(/\./g,"%2E"):r,M=s&&l(T)&&1===T.length?N+"[]":N;if(a&&l(T)&&0===T.length)return M+"[]";for(var L=0;L<P.length;++L){var U=P[L],j="object"==typeof U&&void 0!==U.value?U.value:T[U];if(!h||null!==j){var D=b&&f?U.replace(/\./g,"%2E"):U,F=l(T)?"function"==typeof o?o(M,D):M:M+(b?"."+D:"["+D+"]");A.set(t,k);var W=n();W.set(d,A),u(B,e(j,F,o,s,a,c,h,f,"comma"===o&&S&&l(T)?null:g,y,m,b,w,v,_,S,E,W))}}return B};e.exports=function(e,t){var r,i=e,c=function(e){if(!e)return p;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n,i=o.formatters[r],c=p.filter;if(("function"==typeof e.filter||l(e.filter))&&(c=e.filter),n=e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=void 0===e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:n,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(r=c.filter);var h=[];if("object"!=typeof i||null===i)return"";var f=a[c.arrayFormat],d="comma"===f&&c.commaRoundTrip;r||(r=Object.keys(i)),c.sort&&r.sort(c.sort);for(var y=n(),m=0;m<r.length;++m){var b=r[m];c.skipNulls&&null===i[b]||u(h,g(i[b],b,f,d,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,y))}var w=h.join(c.delimiter),v=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),w.length>0?v+w:""}},7720:(e,t,r)=>{"use strict";var n=r(4765),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},l=1024;e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:s,prop:c}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<a.length;u+=l){for(var h=a.length>=l?a.slice(u,u+l):a,f=[],p=0;p<h.length;++p){var d=h.charCodeAt(p);45===d||46===d||95===d||126===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===n.RFC1738&&(40===d||41===d)?f[f.length]=h.charAt(p):d<128?f[f.length]=s[d]:d<2048?f[f.length]=s[192|d>>6]+s[128|63&d]:d<55296||d>=57344?f[f.length]=s[224|d>>12]+s[128|d>>6&63]+s[128|63&d]:(p+=1,d=65536+((1023&d)<<10|1023&h.charCodeAt(p)),f[f.length]=s[240|d>>18]+s[128|d>>12&63]+s[128|d>>6&63]+s[128|63&d])}c+=f.join("")}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return o(t)&&!o(r)&&(s=a(t,n)),o(t)&&o(r)?(r.forEach((function(r,o){if(i.call(t,o)){var s=t[o];s&&"object"==typeof s&&r&&"object"==typeof r?t[o]=e(s,r,n):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var s=r[o];return i.call(t,o)?t[o]=e(t[o],s,n):t[o]=s,t}),s)}}},6897:(e,t,r)=>{"use strict";var n=r(453),i=r(41),o=r(592)(),s=r(5795),a=r(9675),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(c=!1)}return(n||c||!r)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},920:(e,t,r)=>{"use strict";var n=r(453),i=r(8075),o=r(8859),s=r(9675),a=n("%WeakMap%",!0),l=n("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),d=i("Map.prototype.has",!0),g=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+o(e))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(l){if(t)return f(t,n)}else if(r)return function(e,t){var r=g(e,t);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return h(e,n)}else if(l){if(t)return d(t,n)}else if(r)return function(e,t){return!!g(e,t)}(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),u(e,n,i)):l?(t||(t=new l),p(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=g(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n}},477:()=>{},2634:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t,n,i,o,s={};function a(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i of r)if(!n.includes(i)||!a(e[i],t[i]))return!1;return!0}async function l(e,t){return new Promise((r=>{chrome.runtime.sendMessage({action:e,data:t},(e=>{r(e)}))}))}function c(e){return 60*e*1e3}function u(e){return 24*e*60*60*1e3}r.r(s),r.d(s,{hasBrowserEnv:()=>Sl,hasStandardBrowserEnv:()=>El,hasStandardBrowserWebWorkerEnv:()=>Il,origin:()=>Tl});class h{static async logOut(){try{await chrome.tabs.create({url:"https://app.gradient.network/logout",active:!0}),l("logout")}catch(e){}}static async goDashboard(){l("reportGoDashboard"),chrome.tabs.create({url:"https://app.gradient.network",active:!0}).then((()=>{}))}static async learnMore(){chrome.tabs.create({url:"https://gradient.network/",active:!0}).then((()=>{}))}static async openLink(e){chrome.tabs.create({url:e,active:!0}).then((()=>{}))}}!function(e){e.Excellent="Excellent",e.Good="Good",e.Disconnected="Disconnected",e.Unsupported="Unsupported",e.Suspended="Suspended"}(e||(e={})),function(e){e.Good="Good",e.Disconnected="Disconnected"}(t||(t={})),function(e){e.Good="Good",e.Disconnected="Disconnected"}(n||(n={})),function(e){e.PING_SERVICE="ping_service",e.FILE_SERVICE="file_service",e.NAT_DETECT_SERVICE="nat_detect_service",e.STATISTICS_SERVICE="statistics_service",e.SENTRY_NODE_SERVICE="sentry_node_service"}(i||(i={})),function(e){e.CLIENT="client",e.DCDN="dcdn"}(o||(o={}));var f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,y=(e,t)=>()=>(e&&(t=e(e=0)),t),m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t)=>{for(var r in t)f(e,r,{get:t[r],enumerable:!0})},w=e=>((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of d(t))!g.call(e,r)&&void 0!==r&&f(e,r,{get:()=>t[r],enumerable:!(n=p(t,r))||n.enumerable});return e})(f({},"__esModule",{value:!0}),e),v=y((()=>{})),_={};function S(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function E(){!D||!F||(D=!1,F.length?j=F.concat(j):W=-1,j.length&&A())}function A(){if(!D){var e=setTimeout(E,0);D=!0;for(var t=j.length;t;){for(F=j,j=[];++W<t;)F&&F[W].run();W=-1,t=j.length}F=null,D=!1,clearTimeout(e)}}function I(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];j.push(new T(e,t)),1===j.length&&!D&&setTimeout(A,0)}function T(e,t){this.fun=e,this.array=t}function R(){}function k(){S("_linkedBinding")}function O(){S("dlopen")}function C(){return[]}function P(){return[]}function B(e,t){if(!e)throw new Error(t||"assertion error")}function x(){return!1}function N(){return Me.now()/1e3}function M(e){var t=Math.floor(.001*(Date.now()-Me.now())),r=.001*Me.now(),n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n-=e[0],(i-=e[1])<0&&(n--,i+=Ue)),[n,i]}function L(){return Qe}function U(){return[]}b(_,{_debugEnd:()=>_e,_debugProcess:()=>ve,_events:()=>De,_eventsCount:()=>Fe,_exiting:()=>oe,_fatalExceptions:()=>me,_getActiveHandles:()=>P,_getActiveRequests:()=>C,_kill:()=>le,_linkedBinding:()=>k,_maxListeners:()=>je,_preload_modules:()=>xe,_rawDebug:()=>re,_startProfilerIdleNotifier:()=>Se,_stopProfilerIdleNotifier:()=>Ee,_tickCallback:()=>we,abort:()=>Re,addListener:()=>We,allowedNodeEnvironmentFlags:()=>ge,arch:()=>q,argv:()=>$,argv0:()=>Be,assert:()=>B,binding:()=>J,chdir:()=>ee,config:()=>se,cpuUsage:()=>ce,cwd:()=>Z,debugPort:()=>Pe,default:()=>Qe,dlopen:()=>O,domain:()=>ie,emit:()=>$e,emitWarning:()=>Y,env:()=>z,execArgv:()=>K,execPath:()=>Ce,exit:()=>pe,features:()=>ye,hasUncaughtExceptionCaptureCallback:()=>x,hrtime:()=>M,kill:()=>fe,listeners:()=>U,memoryUsage:()=>he,moduleLoadList:()=>ne,nextTick:()=>I,off:()=>qe,on:()=>L,once:()=>He,openStdin:()=>de,pid:()=>ke,platform:()=>V,ppid:()=>Oe,prependListener:()=>Ke,prependOnceListener:()=>Ge,reallyExit:()=>ae,release:()=>te,removeAllListeners:()=>ze,removeListener:()=>Ve,resourceUsage:()=>ue,setSourceMapsEnabled:()=>Ne,setUncaughtExceptionCaptureCallback:()=>be,stderr:()=>Ie,stdin:()=>Te,stdout:()=>Ae,title:()=>H,umask:()=>X,uptime:()=>N,version:()=>G,versions:()=>Q});var j,D,F,W,H,q,V,z,$,K,G,Q,Y,J,X,Z,ee,te,re,ne,ie,oe,se,ae,le,ce,ue,he,fe,pe,de,ge,ye,me,be,we,ve,_e,Se,Ee,Ae,Ie,Te,Re,ke,Oe,Ce,Pe,Be,xe,Ne,Me,Le,Ue,je,De,Fe,We,He,qe,Ve,ze,$e,Ke,Ge,Qe,Ye=y((()=>{v(),ht(),Je(),j=[],D=!1,W=-1,T.prototype.run=function(){this.fun.apply(null,this.array)},H="browser",q="x64",V="browser",z={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},$=["/usr/bin/node"],K=[],G="v16.8.0",Q={},Y=function(){},J=function(){S("binding")},X=function(){return 0},Z=function(){return"/"},ee=function(){},te={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},re=R,ne=[],ie={},oe=!1,se={},ae=R,le=R,ue=ce=function(){return{}},he=ce,fe=R,pe=R,de=R,ge={},ye={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},me=R,be=R,we=R,ve=R,_e=R,Se=R,Ee=R,Ae=void 0,Ie=void 0,Te=void 0,Re=R,ke=2,Oe=1,Ce="/bin/usr/node",Pe=9229,Be="node",xe=[],Ne=R,void 0===(Me={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0}).now&&(Le=Date.now(),Me.timing&&Me.timing.navigationStart&&(Le=Me.timing.navigationStart),Me.now=()=>Date.now()-Le),Ue=1e9,M.bigint=function(e){var t=M(e);return typeof BigInt>"u"?t[0]*Ue+t[1]:BigInt(t[0]*Ue)+BigInt(t[1])},Qe={version:G,versions:Q,arch:q,platform:V,release:te,_rawDebug:re,moduleLoadList:ne,binding:J,_linkedBinding:k,_events:De={},_eventsCount:Fe=0,_maxListeners:je=10,on:L,addListener:We=L,once:He=L,off:qe=L,removeListener:Ve=L,removeAllListeners:ze=L,emit:$e=R,prependListener:Ke=L,prependOnceListener:Ge=L,listeners:U,domain:ie,_exiting:oe,config:se,dlopen:O,uptime:N,_getActiveRequests:C,_getActiveHandles:P,reallyExit:ae,_kill:le,cpuUsage:ce,resourceUsage:ue,memoryUsage:he,kill:fe,exit:pe,openStdin:de,allowedNodeEnvironmentFlags:ge,assert:B,features:ye,_fatalExceptions:me,setUncaughtExceptionCaptureCallback:be,hasUncaughtExceptionCaptureCallback:x,emitWarning:Y,nextTick:I,_tickCallback:we,_debugProcess:ve,_debugEnd:_e,_startProfilerIdleNotifier:Se,_stopProfilerIdleNotifier:Ee,stdout:Ae,stdin:Te,stderr:Ie,abort:Re,umask:X,chdir:ee,cwd:Z,env:z,title:H,argv:$,execArgv:K,pid:ke,ppid:Oe,execPath:Ce,debugPort:Pe,hrtime:M,argv0:Be,_preload_modules:xe,setSourceMapsEnabled:Ne}})),Je=y((()=>{Ye()})),Xe={};function Ze(){if(ot)return it;ot=!0;let e=function(){if(tt)return et;tt=!0,et.byteLength=function(e){var t=o(e),r=t[0],n=t[1];return 3*(r+n)/4-n},et.toByteArray=function(e){var n,i,s=o(e),a=s[0],l=s[1],c=new r(function(e,t,r){return 3*(t+r)/4-r}(0,a,l)),u=0,h=l>0?a-4:a;for(i=0;i<h;i+=4)n=t[e.charCodeAt(i)]<<18|t[e.charCodeAt(i+1)]<<12|t[e.charCodeAt(i+2)]<<6|t[e.charCodeAt(i+3)],c[u++]=n>>16&255,c[u++]=n>>8&255,c[u++]=255&n;return 2===l&&(n=t[e.charCodeAt(i)]<<2|t[e.charCodeAt(i+1)]>>4,c[u++]=255&n),1===l&&(n=t[e.charCodeAt(i)]<<10|t[e.charCodeAt(i+1)]<<4|t[e.charCodeAt(i+2)]>>2,c[u++]=n>>8&255,c[u++]=255&n),c},et.fromByteArray=function(t){for(var r,n=t.length,i=n%3,o=[],s=16383,l=0,c=n-i;l<c;l+=s)o.push(a(t,l,l+s>c?c:l+s));return 1===i?(r=t[n-1],o.push(e[r>>2]+e[r<<4&63]+"==")):2===i&&(r=(t[n-2]<<8)+t[n-1],o.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"=")),o.join("")};for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function s(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function a(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(s(n));return i.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,et}(),t=(nt||(nt=!0,rt.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,f=r?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+e[t+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},rt.write=function(e,t,r,n,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+p]=255&s,p+=d,s/=256,c-=8);e[r+p-d]|=128*g}),rt),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;it.Buffer=o,it.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},it.INSPECT_MAX_BYTES=50;let n=2147483647;function i(e){if(e>n)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=0|f(e,t),n=i(r),s=n.write(e,t);return s!==r&&(n=n.slice(0,s)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if($(e,Uint8Array)){let t=new Uint8Array(e);return u(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return u(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);let s=function(e){if(o.isBuffer(e)){let t=0|h(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(s)return s;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return a(e),i(e<0?0:0|h(e))}function c(e){let t=e.length<0?0:0|h(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function u(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,o.prototype),n}function h(e){if(e>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function d(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function m(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;let o,s=t.length;for(n>s/2&&(n=s/2),o=0;o<n;++o){let n=parseInt(t.substr(2*o,2),16);if(K(n))return o;e[r+o]=n}return o}function b(e,t,r,n){return z(q(t,e.length-r),e,r,n)}function w(e,t,r,n){return z(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function v(e,t,r,n){return z(V(t),e,r,n)}function _(e,t,r,n){return z(function(e,t){let r,n,i,o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function E(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(o=l));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){let t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}it.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&console.error,Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return function(e,t,r){return a(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}(e,t,r)},o.allocUnsafe=function(e){return l(e)},o.allocUnsafeSlow=function(e){return l(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if($(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if($(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)d(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",t=it.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if($(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),l=Math.min(s,a),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==u[e]){s=c[e],a=u[e];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}let i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return w(this,e,t,r);case"base64":return v(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let A=4096;function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=G[e[n]];return i}function k(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,i){D(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function B(e,t,r,n,i){D(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function x(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,r,n,i,o){return r=+r,n>>>=0,o||x(e,0,n,4),t.write(e,r,n,i,23,4),n+4}function M(e,r,n,i,o){return r=+r,n>>>=0,o||x(e,0,n,8),t.write(e,r,n,i,52,8),n+8}o.prototype.slice=function(e,t){let r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=Q((function(e){F(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&W(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),o.prototype.readBigUInt64BE=Q((function(e){F(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&W(e,this.length-8);let n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=Q((function(e){F(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&W(e,this.length-8);let n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),o.prototype.readBigInt64BE=Q((function(e){F(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&W(e,this.length-8);let n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),o.prototype.readFloatLE=function(e,r){return e>>>=0,r||O(e,4,this.length),t.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,r){return e>>>=0,r||O(e,4,this.length),t.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,r){return e>>>=0,r||O(e,8,this.length),t.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,r){return e>>>=0,r||O(e,8,this.length),t.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=Q((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeBigUInt64BE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=Q((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeBigInt64BE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};let L={};function U(e,t,r){L[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function D(e,t,r,n,i,o){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(o+1)}${i}`:`>= -(2${i} ** ${8*(o+1)-1}${i}) and < 2 ** ${8*(o+1)-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new L.ERR_OUT_OF_RANGE("value",n,e)}!function(e,t,r){F(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&W(t,e.length-(r+1))}(n,i,o)}function F(e,t){if("number"!=typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,r){throw Math.floor(e)!==e?(F(e,r),new L.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new L.ERR_BUFFER_OUT_OF_BOUNDS:new L.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);let H=/[^+/0-9A-Za-z-_]/g;function q(e,t){t=t||1/0;let r,n=e.length,i=null,o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(t){return e.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function z(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}let G=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return typeof BigInt>"u"?Y:e}function Y(){throw new Error("BigInt not supported")}return it}b(Xe,{Buffer:()=>at,INSPECT_MAX_BYTES:()=>lt,default:()=>st,kMaxLength:()=>ct});var et,tt,rt,nt,it,ot,st,at,lt,ct,ut=y((()=>{v(),ht(),Je(),et={},tt=!1,rt={},nt=!1,it={},ot=!1,(st=Ze()).Buffer,st.SlowBuffer,st.INSPECT_MAX_BYTES,st.kMaxLength,at=st.Buffer,lt=st.INSPECT_MAX_BYTES,ct=st.kMaxLength})),ht=y((()=>{ut()})),ft=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(e){this.aliasToTopic={},this.max=e}put(e,t){return!(0===t||t>this.max||(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,0))}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}}})),pt=m(((e,t)=>{v(),ht(),Je(),t.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Uint8Array}})),dt=m(((e,t)=>{v(),ht(),Je();var r=(ut(),w(Xe)),n=Object.getPrototypeOf((async function(){})).constructor,i=globalThis.Blob||r.Blob,o=typeof i<"u"?function(e){return e instanceof i}:function(){return!1},s=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}};t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e(((e,...n)=>e?r(e):t(...n)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,r]){let n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof n,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:o},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})),gt=m(((e,t)=>{v(),ht(),Je();var{AbortController:r,AbortSignal:n}=typeof self<"u"||typeof self<"u"?self:void 0;t.exports=r,t.exports.AbortSignal=n,t.exports.default=r})),yt=m(((e,t)=>{v(),ht(),Je();var{format:r,inspect:n,AggregateError:i}=dt(),o=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c={};function u(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function f(e,t,n){n||(n=Error);class i extends n{constructor(...n){super(function(e,t,n){if("function"==typeof t)return u(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);let i=(t.match(/%[dfijoOs]/g)||[]).length;return u(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,c[e]=i}function p(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}var d=class extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}};f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",((e,t,r)=>{u("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let i="The ";e.endsWith(" argument")?i+=`${e} `:i+=`"${e}" ${e.includes(".")?"property":"argument"} `,i+="must be ";let o=[],s=[],c=[];for(let e of t)u("string"==typeof e,"All expected entries have to be of type string"),a.includes(e)?o.push(e.toLowerCase()):l.test(e)?s.push(e):(u("object"!==e,'The value "object" should be written as "Object"'),c.push(e));if(s.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:i+=`of type ${o[0]}`;break;case 2:i+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();i+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||c.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+=`an instance of ${s[0]}`;break;case 2:i+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();i+=`an instance of ${s.join(", ")}, or ${e}`}}c.length>0&&(i+=" or ")}switch(c.length){case 0:break;case 1:c[0].toLowerCase()!==c[0]&&(i+="an "),i+=`${c[0]}`;break;case 2:i+=`one of ${c[0]} or ${c[1]}`;break;default:{let e=c.pop();i+=`one of ${c.join(", ")}, or ${e}`}}if(null==r)i+=`. Received ${r}`;else if("function"==typeof r&&r.name)i+=`. Received function ${r.name}`;else if("object"==typeof r){var h;null!==(h=r.constructor)&&void 0!==h&&h.name?i+=`. Received an instance of ${r.constructor.name}`:i+=`. Received ${n(r,{depth:-1})}`}else{let e=n(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),i+=`. Received type ${typeof r} (${e})`}return i}),TypeError),f("ERR_INVALID_ARG_VALUE",((e,t,r="is invalid")=>{let i=n(t);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${i}`}),TypeError),f("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),f("ERR_MISSING_ARGS",((...e)=>{u(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`}),TypeError),f("ERR_OUT_OF_RANGE",((e,t,r)=>{let i;return u(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?i=h(String(r)):"bigint"==typeof r?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=h(i)),i+="n"):i=n(r),`The value of "${e}" is out of range. It must be ${t}. Received ${i}`}),RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:d,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new o([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:p,codes:c}})),mt=m(((e,t)=>{v(),ht(),Je();var{ArrayIsArray:r,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:i,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:d,StringPrototypeTrim:g}=pt(),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:S}}=yt(),{normalizeEncoding:E}=dt(),{isAsyncFunction:A,isArrayBufferView:I}=dt().types,T={},R=/^[0-7]+$/,k=y(((e,t,r=c,n=l)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),O=y(((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),C=y(((e,t,r=!1)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)}));function P(e,t){if("string"!=typeof e)throw new b(t,"string",e)}var B=y(((e,t,r)=>{if(!n(r,e)){let n="must be one of: "+i(o(r,(e=>"string"==typeof e?`'${e}'`:p(e))),", ");throw new w(t,e,n)}}));function x(e,t){if("boolean"!=typeof e)throw new b(t,"boolean",e)}function N(e,t,r){return null!=e&&h(e,t)?e[t]:r}var M=y(((e,t,n=null)=>{let i=N(n,"allowArray",!1),o=N(n,"allowFunction",!1);if(!N(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new b(t,"Object",e)})),L=y(((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new b(t,"a dictionary",e)})),U=y(((e,t,n=0)=>{if(!r(e))throw new b(t,"Array",e);if(e.length<n)throw new w(t,e,`must be longer than ${n}`)})),j=y(((e,t="buffer")=>{if(!I(e))throw new b(t,["Buffer","TypedArray","DataView"],e)})),D=y(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new b(t,"AbortSignal",e)})),F=y(((e,t)=>{if("function"!=typeof e)throw new b(t,"Function",e)})),W=y(((e,t)=>{if("function"!=typeof e||A(e))throw new b(t,"Function",e)})),H=y(((e,t)=>{if(void 0!==e)throw new b(t,"undefined",e)})),q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if(typeof e>"u"||!f(q,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(typeof e>"u"&&(e=r),"string"==typeof e){if(null===f(R,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=u(e,8)}return C(e,t),e},validateArray:U,validateStringArray:function(e,t){U(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){U(e,t);for(let r=0;r<e.length;r++)x(e[r],`${t}[${r}]`)},validateBoolean:x,validateBuffer:j,validateDictionary:L,validateEncoding:function(e,t){let r=E(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:F,validateInt32:O,validateInteger:k,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new b(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&a(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:M,validateOneOf:B,validatePlainFunction:W,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new m(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(P(e,t),void 0===T[e])throw void 0!==T[d(e)]?new S(e+" (signals must use all capital letters)"):new S(e)},validateString:P,validateUint32:C,validateUndefined:H,validateUnion:function(e,t,r){if(!n(r,e))throw new b(t,`('${i(r,"|")}')`,e)},validateAbortSignal:D,validateLinkHeaderValue:function(e){if("string"==typeof e)return V(e,"hints"),e;if(r(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];V(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}})),bt=m(((e,t)=>{v(),ht(),Je();var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch{try{return r.call(null,e,0)}catch{return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch{r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch{n=s}}();var l,c=[],u=!1,h=-1;function f(){!u||!l||(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch{try{return n.call(null,e)}catch{return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1===c.length&&!u&&a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}})),wt=m(((e,t)=>{v(),ht(),Je();var{Symbol:r,SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=pt(),s=r("kDestroyed"),a=r("kIsErrored"),l=r("kIsReadable"),c=r("kIsDisturbed"),u=o("nodejs.webstream.isClosedPromise"),h=o("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function d(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!(!e||d(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function y(e){return!(!e||d(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function m(e){return!(!e||d(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function b(e){if(!d(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[s]||null!=n&&n.destroyed)}function w(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof t?.ended?null:t.ended)}function _(e,t){if(!f(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof r?.endEmitted?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function S(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof e?.readable?null:!b(e)&&f(e)&&e.readable&&!_(e)}function E(e){return"boolean"!=typeof e?.writable?null:!b(e)&&p(e)&&e.writable&&!w(e)}function A(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function I(e){return"boolean"==typeof e._sent100&&A(e)}t.exports={kDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,r,n,i,o,s,l,c,u,h;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null!==(h=e._writableState)&&void 0!==h&&h.errored))},kIsErrored:a,isReadable:S,kIsReadable:l,kIsClosedPromise:u,kControllerErrorFunction:h,isClosed:function(e){if(!d(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof t?.closed||"boolean"==typeof r?.closed?t?.closed||r?.closed:"boolean"==typeof e._closed&&A(e)?e._closed:null},isDestroyed:b,isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return d(e)?!!b(e)||!(!1!==t?.readable&&S(e)||!1!==t?.writable&&E(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof t?.ended?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return d(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:d,isWebStream:function(e){return g(e)||y(e)||m(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:w,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof r?.finished?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return d(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:I,willEmitClose:function(e){if(!d(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&I(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:m}})),vt=m(((e,t)=>{v(),ht(),Je();var r=bt(),{AbortError:n,codes:i}=yt(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:a,once:l}=dt(),{validateAbortSignal:c,validateFunction:u,validateObject:h,validateBoolean:f}=mt(),{Promise:p,PromisePrototypeThen:d}=pt(),{isClosed:g,isReadable:y,isReadableNodeStream:m,isReadableStream:b,isReadableFinished:w,isReadableErrored:_,isWritable:S,isWritableNodeStream:E,isWritableStream:A,isWritableFinished:I,isWritableErrored:T,isNodeStream:R,willEmitClose:k,kIsClosedPromise:O}=wt(),C=()=>{};function P(e,t,i){var f,p;if(2===arguments.length?(i=t,t=a):null==t?t=a:h(t,"options"),u(i,"callback"),c(t.signal,"options.signal"),i=l(i),b(e)||A(e))return function(e,t,i){let o=!1,s=C;if(t.signal)if(s=()=>{o=!0,i.call(e,new n(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(s);else{let r=i;i=l(((...n)=>{t.signal.removeEventListener("abort",s),r.apply(e,n)})),t.signal.addEventListener("abort",s)}let a=(...t)=>{o||r.nextTick((()=>i.apply(e,t)))};return d(e[O].promise,a,a),C}(e,t,i);if(!R(e))throw new o("stream",["ReadableStream","WritableStream","Stream"],e);let v=null!==(f=t.readable)&&void 0!==f?f:m(e),P=null!==(p=t.writable)&&void 0!==p?p:E(e),B=e._writableState,x=e._readableState,N=()=>{e.writable||U()},M=k(e)&&m(e)===v&&E(e)===P,L=I(e,!1),U=()=>{L=!0,e.destroyed&&(M=!1),(!M||e.readable&&!v)&&(!v||j)&&i.call(e)},j=w(e,!1),D=()=>{j=!0,e.destroyed&&(M=!1),(!M||e.writable&&!P)&&(!P||L)&&i.call(e)},F=t=>{i.call(e,t)},W=g(e),H=()=>{W=!0;let t=T(e)||_(e);return t&&"boolean"!=typeof t?i.call(e,t):v&&!j&&m(e,!0)&&!w(e,!1)?i.call(e,new s):!P||L||I(e,!1)?void i.call(e):i.call(e,new s)},q=()=>{W=!0;let t=T(e)||_(e);if(t&&"boolean"!=typeof t)return i.call(e,t);i.call(e)},V=()=>{e.req.on("finish",U)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?P&&!B&&(e.on("end",N),e.on("close",N)):(e.on("complete",U),M||e.on("abort",H),e.req?V():e.on("request",V)),!M&&"boolean"==typeof e.aborted&&e.on("aborted",H),e.on("end",D),e.on("finish",U),!1!==t.error&&e.on("error",F),e.on("close",H),W?r.nextTick(H):null!=B&&B.errorEmitted||null!=x&&x.errorEmitted?M||r.nextTick(q):(!v&&(!M||y(e))&&(L||!1===S(e))||!P&&(!M||S(e))&&(j||!1===y(e))||x&&e.req&&e.aborted)&&r.nextTick(q);let z=()=>{i=C,e.removeListener("aborted",H),e.removeListener("complete",U),e.removeListener("abort",H),e.removeListener("request",V),e.req&&e.req.removeListener("finish",U),e.removeListener("end",N),e.removeListener("close",N),e.removeListener("finish",U),e.removeListener("end",D),e.removeListener("error",F),e.removeListener("close",H)};if(t.signal&&!W){let o=()=>{let r=i;z(),r.call(e,new n(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(o);else{let r=i;i=l(((...n)=>{t.signal.removeEventListener("abort",o),r.apply(e,n)})),t.signal.addEventListener("abort",o)}}return z}t.exports=P,t.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=a),null!==(r=t)&&void 0!==r&&r.cleanup&&(f(t.cleanup,"cleanup"),n=t.cleanup),new p(((r,i)=>{let o=P(e,t,(e=>{n&&o(),e?i(e):r()}))}))}})),_t=m(((e,t)=>{v(),ht(),Je();var r=bt(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:o}=yt(),{Symbol:s}=pt(),{kDestroyed:a,isDestroyed:l,isFinished:c,isServerRequest:u}=wt(),h=s("kDestroy"),f=s("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function d(e,t,n){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,s=e._writableState;p(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof n&&n(t),t?r.nextTick(g,e,t):r.nextTick(y,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function g(e,t){m(e,t),y(e)}function y(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function m(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function b(e,t,n){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(m,e,t):m(e,t))}function w(e){let t=!1;function n(n){if(t)return void b(e,n??new i);t=!0;let o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(h,n):n?b(e,n,!0):r.nextTick(_,e)}try{e._construct((e=>{r.nextTick(n,e)}))}catch(e){r.nextTick(n,e)}}function _(e){e.emit(f)}function S(e){return e?.setHeader&&"function"==typeof e.abort}function E(e){e.emit("close")}function A(e,t){e.emit("error",t),r.nextTick(E,e)}t.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(f,t),!(e.listenerCount(f)>1)&&r.nextTick(w,e)},destroyer:function(e,t){!e||l(e)||(!t&&!c(e)&&(t=new o),u(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?r.nextTick(A,e,t):r.nextTick(E,e),e.destroyed||(e[a]=!0))},destroy:function(e,t){let r=this._readableState,i=this._writableState,o=i||r;return null!=i&&i.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),o.constructed?d(this,e,t):this.once(h,(function(r){d(this,n(r,e),t)})),this)},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:b}}));function St(){St.init.call(this)}function Et(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function At(e){return void 0===e._maxListeners?St.defaultMaxListeners:e._maxListeners}function It(e,t,r,n){var i,o,s;if(Et(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=At(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn}return e}function Tt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Rt(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Tt.bind(n);return i.listener=r,n.wrapFn=i,i}function kt(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):Ct(i,i.length)}function Ot(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Ct(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var Pt,Bt,xt,Nt,Mt,Lt,Ut,jt=y((()=>{v(),ht(),Je(),xt="object"==typeof Reflect?Reflect:null,Nt=xt&&"function"==typeof xt.apply?xt.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Bt=xt&&"function"==typeof xt.ownKeys?xt.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Mt=Number.isNaN||function(e){return e!=e},Pt=St,St.EventEmitter=St,St.prototype._events=void 0,St.prototype._eventsCount=0,St.prototype._maxListeners=void 0,Lt=10,Object.defineProperty(St,"defaultMaxListeners",{enumerable:!0,get:function(){return Lt},set:function(e){if("number"!=typeof e||e<0||Mt(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Lt=e}}),St.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},St.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Mt(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},St.prototype.getMaxListeners=function(){return At(this)},St.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)Nt(a,this,t);else{var l=a.length,c=Ct(a,l);for(r=0;r<l;++r)Nt(c[r],this,t)}return!0},St.prototype.addListener=function(e,t){return It(this,e,t,!1)},St.prototype.on=St.prototype.addListener,St.prototype.prependListener=function(e,t){return It(this,e,t,!0)},St.prototype.once=function(e,t){return Et(t),this.on(e,Rt(this,e,t)),this},St.prototype.prependOnceListener=function(e,t){return Et(t),this.prependListener(e,Rt(this,e,t)),this},St.prototype.removeListener=function(e,t){var r,n,i,o,s;if(Et(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},St.prototype.off=St.prototype.removeListener,St.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},St.prototype.listeners=function(e){return kt(this,e,!0)},St.prototype.rawListeners=function(e){return kt(this,e,!1)},St.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Ot.call(e,t)},St.prototype.listenerCount=Ot,St.prototype.eventNames=function(){return this._eventsCount>0?Bt(this._events):[]},(Ut=Pt).EventEmitter,Ut.defaultMaxListeners,Ut.init,Ut.listenerCount,Ut.EventEmitter,Ut.defaultMaxListeners,Ut.init,Ut.listenerCount})),Dt={};b(Dt,{EventEmitter:()=>Ft,default:()=>Ut,defaultMaxListeners:()=>Wt,init:()=>Ht,listenerCount:()=>qt,on:()=>Vt,once:()=>zt});var Ft,Wt,Ht,qt,Vt,zt,$t=y((()=>{v(),ht(),Je(),jt(),jt(),Ut.once=function(e,t){return new Promise(((r,n)=>{function i(...t){void 0!==o&&e.removeListener("error",o),r(t)}let o;"error"!==t&&(o=t=>{e.removeListener(name,i),n(t)},e.once("error",o)),e.once(t,i)}))},Ut.on=function(e,t){let r=[],n=[],i=null,o=!1,s={async next(){let e=r.shift();if(e)return createIterResult(e,!1);if(i){let e=Promise.reject(i);return i=null,e}return o?createIterResult(void 0,!0):new Promise(((e,t)=>n.push({resolve:e,reject:t})))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(let e of n)e.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(r){i=r,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...e){let t=n.shift();t?t.resolve(createIterResult(e,!1)):r.push(e)}function l(e){o=!0;let t=n.shift();t?t.reject(e):i=e,s.return()}},({EventEmitter:Ft,defaultMaxListeners:Wt,init:Ht,listenerCount:qt,on:Vt,once:zt}=Ut)})),Kt=m(((e,t)=>{v(),ht(),Je();var{ArrayIsArray:r,ObjectSetPrototypeOf:n}=pt(),{EventEmitter:i}=($t(),w(Dt));function o(e){i.call(this,e)}function s(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}n(o.prototype,i.prototype),n(o,i),o.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),!e._isStdio&&(!t||!1!==t.end)&&(r.on("end",l),r.on("close",c));let a=!1;function l(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){h(),0===i.listenerCount(this,"error")&&this.emit("error",e)}function h(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",l),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return s(r,"error",u),s(e,"error",u),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e},t.exports={Stream:o,prependListener:s}})),Gt=m(((e,t)=>{v(),ht(),Je();var{AbortError:r,codes:n}=yt(),{isNodeStream:i,isWebStream:o,kControllerErrorFunction:s}=wt(),a=vt(),{ERR_INVALID_ARG_TYPE:l}=n;t.exports.addAbortSignal=function(e,r){if((e=>{if("object"!=typeof e||!("aborted"in e))throw new l("signal","AbortSignal",e)})(e),!i(r)&&!o(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let n=i(t)?()=>{t.destroy(new r(void 0,{cause:e.reason}))}:()=>{t[s](new r(void 0,{cause:e.reason}))};return e.aborted?n():(e.addEventListener("abort",n),a(t,(()=>e.removeEventListener("abort",n)))),t}})),Qt=m(((e,t)=>{v(),ht(),Je();var{StringPrototypeSlice:r,SymbolIterator:n,TypedArrayPrototypeSet:i,Uint8Array:o}=pt(),{Buffer:s}=(ut(),w(Xe)),{inspect:a}=dt();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);let t=s.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)i(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[n](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{let o=n.data;if(!(e>o.length)){e===o.length?(t+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(o,0,e),this.head=n,n.data=r(o,e));break}t+=o,e-=o.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){let t=s.allocUnsafe(e),r=e,n=this.head,a=0;do{let s=n.data;if(!(e>s.length)){e===s.length?(i(t,s,r-e),++a,n.next?this.head=n.next:this.head=this.tail=null):(i(t,new o(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}i(t,s,r-e),e-=s.length,++a}while(null!==(n=n.next));return this.length-=a,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return a(this,{...t,depth:0,customInspect:!1})}}})),Yt=m(((e,t)=>{v(),ht(),Je();var{MathFloor:r,NumberIsInteger:n}=pt(),{ERR_INVALID_ARG_VALUE:i}=yt().codes;function o(e){return e?16:16384}t.exports={getHighWaterMark:function(e,t,s,a){let l=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,s);if(null!=l){if(!n(l)||l<0)throw new i(a?`options.${s}`:"options.highWaterMark",l);return r(l)}return o(e.objectMode)},getDefaultHighWaterMark:o}}));function Jt(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function Xt(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(zr[(i=n)>>18&63]+zr[i>>12&63]+zr[i>>6&63]+zr[63&i]);return o.join("")}function Zt(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,er.prototype),t}function er(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return nr(e)}return tr(e,t,r)}function tr(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!er.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|sr(e,t),n=Zt(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return ir(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Pr(e,ArrayBuffer)||e&&Pr(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pr(e,SharedArrayBuffer)||e&&Pr(e.buffer,SharedArrayBuffer)))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,er.prototype),n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return er.from(n,t,r);var i=function(e){if(er.isBuffer(e)){var t=0|or(e.length),r=Zt(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||Br(e.length)?Zt(0):ir(e):"Buffer"===e.type&&Array.isArray(e.data)?ir(e.data):void 0}(e);if(i)return i;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return er.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function rr(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function nr(e){return rr(e),Zt(e<0?0:0|or(e))}function ir(e){for(var t=e.length<0?0:0|or(e.length),r=Zt(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function or(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function sr(e,t){if(er.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Pr(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return kr(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Or(e).length;default:if(i)return n?-1:kr(e).length;t=(""+t).toLowerCase(),i=!0}}function ar(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _r(this,t,r);case"utf8":case"utf-8":return br(this,t,r);case"ascii":return wr(this,t,r);case"latin1":case"binary":return vr(this,t,r);case"base64":return mr(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sr(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function lr(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function cr(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Br(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=er.from(t,n)),er.isBuffer(t))return 0===t.length?-1:ur(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):ur(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function ur(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function hr(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(Br(a))return s;e[r+s]=a}return s}function fr(e,t,r,n){return Cr(kr(t,e.length-r),e,r,n)}function pr(e,t,r,n){return Cr(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function dr(e,t,r,n){return pr(e,t,r,n)}function gr(e,t,r,n){return Cr(Or(t),e,r,n)}function yr(e,t,r,n){return Cr(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function mr(e,t,r){return 0===t&&r===e.length?Xr.fromByteArray(e):Xr.fromByteArray(e.slice(t,r))}function br(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function wr(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function vr(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function _r(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=rn[e[o]];return i}function Sr(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Er(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Ar(e,t,r,n,i,o){if(!er.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Ir(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Tr(e,t,r,n,i){return t=+t,r>>>=0,i||Ir(e,0,r,4),Zr.write(e,t,r,n,23,4),r+4}function Rr(e,t,r,n,i){return t=+t,r>>>=0,i||Ir(e,0,r,8),Zr.write(e,t,r,n,52,8),r+8}function kr(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Or(e){return Xr.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(tn,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Cr(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Pr(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Br(e){return e!=e}function xr(e,t){for(var r in e)t[r]=e[r]}function Nr(e,t,r){return sn(e,t,r)}function Mr(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(ln.isEncoding===cn||!cn(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=jr,this.end=Dr,t=4;break;case"utf8":this.fillLast=Ur,t=4;break;case"base64":this.text=Fr,this.end=Wr,t=3;break;default:return this.write=Hr,void(this.end=qr)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ln.allocUnsafe(t)}function Lr(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Ur(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function jr(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Dr(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Fr(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Wr(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Hr(e){return e.toString(this.encoding)}function qr(e){return e&&e.length?this.write(e):""}var Vr,zr,$r,Kr,Gr,Qr,Yr,Jr,Xr,Zr,en,tn,rn,nn,on,sn,an,ln,cn,un=y((()=>{for(v(),ht(),Je(),Vr={byteLength:function(e){var t=Jt(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n,i=Jt(e),o=i[0],s=i[1],a=new Kr(3*(o+(n=s))/4-n),l=0,c=s>0?o-4:o;for(r=0;r<c;r+=4)t=$r[e.charCodeAt(r)]<<18|$r[e.charCodeAt(r+1)]<<12|$r[e.charCodeAt(r+2)]<<6|$r[e.charCodeAt(r+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;return 2===s&&(t=$r[e.charCodeAt(r)]<<2|$r[e.charCodeAt(r+1)]>>4,a[l++]=255&t),1===s&&(t=$r[e.charCodeAt(r)]<<10|$r[e.charCodeAt(r+1)]<<4|$r[e.charCodeAt(r+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t),a},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(Xt(e,o,o+16383>s?s:o+16383));return 1===n?(t=e[r-1],i.push(zr[t>>2]+zr[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(zr[t>>10]+zr[t>>4&63]+zr[t<<2&63]+"=")),i.join("")}},zr=[],$r=[],Kr=typeof Uint8Array<"u"?Uint8Array:Array,Gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qr=0;Qr<64;++Qr)zr[Qr]=Gr[Qr],$r[Gr.charCodeAt(Qr)]=Qr;$r["-".charCodeAt(0)]=62,$r["_".charCodeAt(0)]=63,Yr={read:function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,f=r?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+e[t+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+p]=255&s,p+=d,s/=256,c-=8);e[r+p-d]|=128*g}},Jr={},Xr=Vr,Zr=Yr,en="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,Jr.Buffer=er,Jr.SlowBuffer=function(e){return+e!=e&&(e=0),er.alloc(+e)},Jr.INSPECT_MAX_BYTES=50,Jr.kMaxLength=2147483647,er.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),er.TYPED_ARRAY_SUPPORT||typeof console>"u"||console.error,Object.defineProperty(er.prototype,"parent",{enumerable:!0,get:function(){if(er.isBuffer(this))return this.buffer}}),Object.defineProperty(er.prototype,"offset",{enumerable:!0,get:function(){if(er.isBuffer(this))return this.byteOffset}}),er.poolSize=8192,er.from=function(e,t,r){return tr(e,t,r)},Object.setPrototypeOf(er.prototype,Uint8Array.prototype),Object.setPrototypeOf(er,Uint8Array),er.alloc=function(e,t,r){return function(e,t,r){return rr(e),e<=0?Zt(e):void 0!==t?"string"==typeof r?Zt(e).fill(t,r):Zt(e).fill(t):Zt(e)}(e,t,r)},er.allocUnsafe=function(e){return nr(e)},er.allocUnsafeSlow=function(e){return nr(e)},er.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==er.prototype},er.compare=function(e,t){if(Pr(e,Uint8Array)&&(e=er.from(e,e.offset,e.byteLength)),Pr(t,Uint8Array)&&(t=er.from(t,t.offset,t.byteLength)),!er.isBuffer(e)||!er.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},er.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},er.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return er.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=er.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Pr(o,Uint8Array)&&(o=er.from(o)),!er.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},er.byteLength=sr,er.prototype._isBuffer=!0,er.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)lr(this,t,t+1);return this},er.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)lr(this,t,t+3),lr(this,t+1,t+2);return this},er.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)lr(this,t,t+7),lr(this,t+1,t+6),lr(this,t+2,t+5),lr(this,t+3,t+4);return this},er.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?br(this,0,e):ar.apply(this,arguments)},er.prototype.toLocaleString=er.prototype.toString,er.prototype.equals=function(e){if(!er.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===er.compare(this,e)},er.prototype.inspect=function(){var e="",t=Jr.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},en&&(er.prototype[en]=er.prototype.inspect),er.prototype.compare=function(e,t,r,n,i){if(Pr(e,Uint8Array)&&(e=er.from(e,e.offset,e.byteLength)),!er.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(n,i),c=e.slice(t,r),u=0;u<a;++u)if(l[u]!==c[u]){o=l[u],s=c[u];break}return o<s?-1:s<o?1:0},er.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},er.prototype.indexOf=function(e,t,r){return cr(this,e,t,r,!0)},er.prototype.lastIndexOf=function(e,t,r){return cr(this,e,t,r,!1)},er.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hr(this,e,t,r);case"utf8":case"utf-8":return fr(this,e,t,r);case"ascii":return pr(this,e,t,r);case"latin1":case"binary":return dr(this,e,t,r);case"base64":return gr(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yr(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},er.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},er.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,er.prototype),n},er.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||Er(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},er.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||Er(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},er.prototype.readUInt8=function(e,t){return e>>>=0,t||Er(e,1,this.length),this[e]},er.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Er(e,2,this.length),this[e]|this[e+1]<<8},er.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Er(e,2,this.length),this[e]<<8|this[e+1]},er.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Er(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},er.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Er(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},er.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||Er(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},er.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||Er(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},er.prototype.readInt8=function(e,t){return e>>>=0,t||Er(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},er.prototype.readInt16LE=function(e,t){e>>>=0,t||Er(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},er.prototype.readInt16BE=function(e,t){e>>>=0,t||Er(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},er.prototype.readInt32LE=function(e,t){return e>>>=0,t||Er(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},er.prototype.readInt32BE=function(e,t){return e>>>=0,t||Er(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},er.prototype.readFloatLE=function(e,t){return e>>>=0,t||Er(e,4,this.length),Zr.read(this,e,!0,23,4)},er.prototype.readFloatBE=function(e,t){return e>>>=0,t||Er(e,4,this.length),Zr.read(this,e,!1,23,4)},er.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Er(e,8,this.length),Zr.read(this,e,!0,52,8)},er.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Er(e,8,this.length),Zr.read(this,e,!1,52,8)},er.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||Ar(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},er.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||Ar(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},er.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,1,255,0),this[t]=255&e,t+1},er.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},er.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},er.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},er.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},er.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Ar(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+r},er.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Ar(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+r},er.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},er.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},er.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},er.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},er.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Ar(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},er.prototype.writeFloatLE=function(e,t,r){return Tr(this,e,t,!0,r)},er.prototype.writeFloatBE=function(e,t,r){return Tr(this,e,t,!1,r)},er.prototype.writeDoubleLE=function(e,t,r){return Rr(this,e,t,!0,r)},er.prototype.writeDoubleBE=function(e,t,r){return Rr(this,e,t,!1,r)},er.prototype.copy=function(e,t,r,n){if(!er.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},er.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!er.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=er.isBuffer(e)?e:er.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this},tn=/[^+/0-9A-Za-z-_]/g,rn=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),Jr.Buffer,Jr.INSPECT_MAX_BYTES,Jr.kMaxLength,nn={},(sn=(on=Jr).Buffer).from&&sn.alloc&&sn.allocUnsafe&&sn.allocUnsafeSlow?nn=on:(xr(on,nn),nn.Buffer=Nr),Nr.prototype=Object.create(sn.prototype),xr(sn,Nr),Nr.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return sn(e,t,r)},Nr.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=sn(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},Nr.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return sn(e)},Nr.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return on.SlowBuffer(e)},an={},ln=nn.Buffer,cn=ln.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},an.StringDecoder=Mr,Mr.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Mr.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},Mr.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Lr(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=Lr(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=Lr(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},Mr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},an.StringDecoder,an.StringDecoder})),hn={};b(hn,{StringDecoder:()=>fn,default:()=>an});var fn,pn=y((()=>{v(),ht(),Je(),un(),un(),fn=an.StringDecoder})),dn=m(((e,t)=>{v(),ht(),Je();var r=bt(),{PromisePrototypeThen:n,SymbolAsyncIterator:i,SymbolIterator:o}=pt(),{Buffer:s}=(ut(),w(Xe)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=yt().codes;t.exports=function(e,t,c){let u,h;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...c,read(){this.push(t),this.push(null)}});if(t&&t[i])h=!0,u=t[i]();else{if(!t||!t[o])throw new a("iterable",["Iterable"],t);h=!1,u=t[o]()}let f=new e({objectMode:!0,highWaterMark:1,...c}),p=!1;return f._read=function(){p||(p=!0,async function(){for(;;){try{let{value:e,done:t}=h?await u.next():u.next();if(t)f.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw p=!1,new l;if(f.push(t))continue;p=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){n(async function(e){let t=null!=e,r="function"==typeof u.throw;if(t&&r){let{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){let{value:e}=await u.return();await e}}(e),(()=>r.nextTick(t,e)),(n=>r.nextTick(t,n||e)))},f}})),gn=m(((e,t)=>{v(),ht(),Je();var r=bt(),{ArrayPrototypeIndexOf:n,NumberIsInteger:i,NumberIsNaN:o,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:u,SafeSet:h,SymbolAsyncIterator:f,Symbol:p}=pt();t.exports=W,W.ReadableState=F;var{EventEmitter:d}=($t(),w(Dt)),{Stream:g,prependListener:y}=Kt(),{Buffer:m}=(ut(),w(Xe)),{addAbortSignal:b}=Gt(),_=vt(),S=dt().debuglog("stream",(e=>{S=e})),E=Qt(),A=_t(),{getHighWaterMark:I,getDefaultHighWaterMark:T}=Yt(),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:B}}=yt(),{validateObject:x}=mt(),N=p("kPaused"),{StringDecoder:M}=(pn(),w(hn)),L=dn();c(W.prototype,g.prototype),c(W,g);var U,j=()=>{},{errorOrDestroy:D}=A;function F(e,t,r){"boolean"!=typeof r&&(r=t instanceof bn()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?I(this,e,"readableHighWaterMark",r):T(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[N]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new M(e.encoding),this.encoding=e.encoding)}function W(e){if(!(this instanceof W))return new W(e);let t=this instanceof bn();this._readableState=new F(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&b(e.signal,this)),g.call(this,e),A.construct(this,(()=>{this._readableState.needReadable&&K(this,this._readableState)}))}function H(e,t,r,n){S("readableAddChunk",t);let i,o=e._readableState;if(o.objectMode||("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=m.from(t,r).toString(o.encoding):(t=m.from(t,r),r=""))):t instanceof m?r="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new k("chunk",["string","Buffer","Uint8Array"],t))),i)D(e,i);else if(null===t)o.reading=!1,function(e,t){if(S("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?z(e):(t.needReadable=!1,t.emittedReadable=!0,$(e))}}(e,o);else if(o.objectMode||t&&t.length>0)if(n)if(o.endEmitted)D(e,new B);else{if(o.destroyed||o.errored)return!1;q(e,o,t,!0)}else if(o.ended)D(e,new P);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?q(e,o,t,!1):K(e,o)):q(e,o,t,!1)}else n||(o.reading=!1,K(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function q(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&z(e)),K(e,t)}function V(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:o(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function z(e){let t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick($,e))}function $(e){let t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,X(e)}function K(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(G,e,t))}function G(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(S("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function Q(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[N]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Y(e){S("readable nexttick read 0"),e.read(0)}function J(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),X(e),t.flowing&&!t.reading&&e.read(0)}function X(e){let t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function Z(e,t){"function"!=typeof e.read&&(e=W.wrap(e,{objectMode:!0}));let r=async function*(e,t){let r=j;function n(t){this===e?(r(),r=j):r=t}e.on("readable",n);let i,o=_(e,{writable:!1},(e=>{i=e?R(i,e):null,r(),r=j}));try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(i)throw i;if(null===i)return;await new u(n)}}}catch(e){throw i=R(i,e),i}finally{!i&&!1===t?.destroyOnReturn||void 0!==i&&!e._readableState.autoDestroy?(e.off("readable",n),o()):A.destroyer(e,null)}}(e,t);return r.stream=e,r}function ee(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function te(e){let t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(re,t,e))}function re(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(ne,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ne(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}function ie(){return void 0===U&&(U={}),U}W.prototype.destroy=A.destroy,W.prototype._undestroy=A.undestroy,W.prototype._destroy=function(e,t){t(e)},W.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},W.prototype.push=function(e,t){return H(this,e,t,!1)},W.prototype.unshift=function(e,t){return H(this,e,t,!0)},W.prototype.isPaused=function(){let e=this._readableState;return!0===e[N]||!1===e.flowing},W.prototype.setEncoding=function(e){let t=new M(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},W.prototype.read=function(e){S("read",e),void 0===e?e=NaN:i(e)||(e=s(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new C("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return S("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?te(this):z(this),null;if(0===(e=V(e,t))&&t.ended)return 0===t.length&&te(this),null;let n,o=t.needReadable;if(S("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,S("length less than watermark",o)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)o=!1,S("reading, ended or constructing",o);else if(o){S("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(e){D(this,e)}t.sync=!1,t.reading||(e=V(r,t))}return n=e>0?ee(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&te(this)),null!==n&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",n)),n},W.prototype._read=function(){throw new O("_read()")},W.prototype.pipe=function(e,t){let n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new h(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),S("pipe count=%d opts=%j",i.pipes.length,t);let o=t&&!1===t.end||e===r.stdout||e===r.stderr?g:s;function s(){S("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",(function t(r,o){S("onunpipe"),r===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,S("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),a&&e.removeListener("drain",a),e.removeListener("error",f),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",u),l=!0,a&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a())}));let a,l=!1;function c(){l||(1===i.pipes.length&&i.pipes[0]===e?(S("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(S("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),a||(a=function(e,t){return function(){let r=e._readableState;r.awaitDrainWriters===t?(S("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(S("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),(!r.awaitDrainWriters||0===r.awaitDrainWriters.size)&&e.listenerCount("data")&&e.resume()}}(n,e),e.on("drain",a))}function u(t){S("ondata");let r=e.write(t);S("dest.write",r),!1===r&&c()}function f(t){if(S("onerror",t),g(),e.removeListener("error",f),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?D(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",d),g()}function d(){S("onfinish"),e.removeListener("close",p),g()}function g(){S("unpipe"),n.unpipe(e)}return n.on("data",u),y(e,"error",f),e.once("close",p),e.once("finish",d),e.emit("pipe",n),!0===e.writableNeedDrain?i.flowing&&c():i.flowing||(S("pipe resume"),n.resume()),e},W.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=n(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(e,t){let n=g.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,S("on readable",i.length,i.reading),i.length?z(this):i.reading||r.nextTick(Y,this)),n},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(e,t){let n=g.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(Q,this),n},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(e){let t=g.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&r.nextTick(Q,this),t},W.prototype.resume=function(){let e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(J,e,t))}(this,e)),e[N]=!1,this},W.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[N]=!0,this},W.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{D(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=l(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},W.prototype[f]=function(){return Z(this)},W.prototype.iterator=function(e){return void 0!==e&&x(e,"options"),Z(this,e)},a(W.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),a(F.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[N]},set(e){this[N]=!!e}}}),W._fromList=ee,W.from=function(e,t){return L(W,e,t)},W.fromWeb=function(e,t){return ie().newStreamReadableFromReadableStream(e,t)},W.toWeb=function(e,t){return ie().newReadableStreamFromStreamReadable(e,t)},W.wrap=function(e,t){var r,n;return new W({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){A.destroyer(e,t),r(t)}}).wrap(e)}})),yn=m(((e,t)=>{v(),ht(),Je();var r=bt(),{ArrayPrototypeSlice:n,Error:i,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:h}=pt();t.exports=M,M.WritableState=x;var{EventEmitter:f}=($t(),w(Dt)),p=Kt().Stream,{Buffer:d}=(ut(),w(Xe)),g=_t(),{addAbortSignal:y}=Gt(),{getHighWaterMark:m,getDefaultHighWaterMark:b}=Yt(),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:O}=yt().codes,{errorOrDestroy:C}=g;function P(){}l(M.prototype,p.prototype),l(M,p);var B=u("kOnFinished");function x(e,t,r){"boolean"!=typeof r&&(r=t instanceof bn()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?m(this,e,"writableHighWaterMark",r):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!(!e||!1!==e.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,N(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function N(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function M(e){let t=this instanceof bn();if(!t&&!o(M,this))return new M(e);this._writableState=new x(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),p.call(this,e),g.construct(this,(()=>{let e=this._writableState;e.writing||q(this,e),z(this,e)}))}function L(e,t,n,i){let o,s=e._writableState;if("function"==typeof n)i=n,n=s.defaultEncoding;else{if(n){if("buffer"!==n&&!d.isEncoding(n))throw new O(n)}else n=s.defaultEncoding;"function"!=typeof i&&(i=P)}if(null===t)throw new R;if(!s.objectMode)if("string"==typeof t)!1!==s.decodeStrings&&(t=d.from(t,n),n="buffer");else if(t instanceof d)n="buffer";else{if(!p._isUint8Array(t))throw new _("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),n="buffer"}return s.ending?o=new k:s.destroyed&&(o=new I("write")),o?(r.nextTick(i,o),C(e,o,!0),o):(s.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==P&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,s,t,n,i))}function U(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new I("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,n){--t.pendingcb,n(r),H(t),C(e,r)}function D(e,t){let n=e._writableState,i=n.sync,o=n.writecb;"function"==typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(j,e,n,t,o):j(e,n,t,o)):(n.buffered.length>n.bufferedIndex&&q(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},r.nextTick(F,n.afterWriteTickInfo)):W(e,n,1,o))):C(e,new E)}function F({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,W(e,t,r,n)}function W(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&H(t),z(e,t)}function H(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new I("write"))}let r=e[B].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new I("end"))}N(e)}function q(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:o}=t,s=r.length-i;if(!s)return;let a=i;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let i=t.allNoop?P:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===a?r:n(r,a);o.allBuffers=t.allBuffers,U(e,t,!0,t.length,o,"",i),N(t)}else{do{let{chunk:n,encoding:i,callback:s}=r[a];r[a++]=null,U(e,t,!1,o?1:n.length,n,i,s)}while(a<r.length&&!t.writing);a===r.length?N(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function V(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function z(e,t,n){V(t)&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)C(e,i??E());else if(n=!0,t.pendingcb--,i){let r=t[B].splice(0);for(let e=0;e<r.length;e++)r[e](i);C(e,i,t.sync)}else V(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick($,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick(((e,t)=>{V(t)?$(e,t):t.pendingcb--}),e,t)):V(t)&&(t.pendingcb++,$(e,t))))}function $(e,t){t.pendingcb--,t.finished=!0;let r=t[B].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}x.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},s(x.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(M,h,{__proto__:null,value:function(e){return!!o(this,e)||this===M&&e&&e._writableState instanceof x}}),M.prototype.pipe=function(){C(this,new A)},M.prototype.write=function(e,t,r){return!0===L(this,e,t,r)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||q(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=c(e)),!d.isEncoding(e))throw new O(e);return this._writableState.defaultEncoding=e,this},M.prototype._write=function(e,t,r){if(!this._writev)throw new S("_write()");this._writev([{chunk:e,encoding:t}],r)},M.prototype._writev=null,M.prototype.end=function(e,t,n){let o,s=this._writableState;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){let r=L(this,e,t);r instanceof i&&(o=r)}return s.corked&&(s.corked=1,this.uncork()),o||(s.errored||s.ending?s.finished?o=new T("end"):s.destroyed&&(o=new I("end")):(s.ending=!0,z(this,s,!0),s.ended=!0)),"function"==typeof n&&(o||s.finished?r.nextTick(n,o):s[B].push(n)),this},a(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});var K,G=g.destroy;function Q(){return void 0===K&&(K={}),K}M.prototype.destroy=function(e,t){let n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[B].length)&&r.nextTick(H,n),G.call(this,e,t),this},M.prototype._undestroy=g.undestroy,M.prototype._destroy=function(e,t){t(e)},M.prototype[f.captureRejectionSymbol]=function(e){this.destroy(e)},M.fromWeb=function(e,t){return Q().newStreamWritableFromWritableStream(e,t)},M.toWeb=function(e){return Q().newWritableStreamFromStreamWritable(e)}})),mn=m(((e,t)=>{v(),ht(),Je();var r=bt(),n=(ut(),w(Xe)),{isReadable:i,isWritable:o,isIterable:s,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:u}=wt(),h=vt(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:d}}=yt(),{destroyer:g}=_t(),y=bn(),m=gn(),{createDeferredPromise:b}=dt(),_=dn(),S=globalThis.Blob||n.Blob,E=typeof S<"u"?function(e){return e instanceof S}:function(){return!1},A=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:I}=pt(),T=class extends y{constructor(e){super(e),!1===e?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};function R(e){let t,r,n,s,a,l=e.readable&&"function"!=typeof e.readable.read?m.wrap(e.readable):e.readable,c=e.writable,u=!!i(l),p=!!o(c);function d(e){let t=s;s=null,t?t(e):e&&a.destroy(e)}return a=new T({readableObjectMode:!(null==l||!l.readableObjectMode),writableObjectMode:!(null==c||!c.writableObjectMode),readable:u,writable:p}),p&&(h(c,(e=>{p=!1,e&&g(l,e),d(e)})),a._write=function(e,r,n){c.write(e,r)?n():t=n},a._final=function(e){c.end(),r=e},c.on("drain",(function(){if(t){let e=t;t=null,e()}})),c.on("finish",(function(){if(r){let e=r;r=null,e()}}))),u&&(h(l,(e=>{u=!1,e&&g(l,e),d(e)})),l.on("readable",(function(){if(n){let e=n;n=null,e()}})),l.on("end",(function(){a.push(null)})),a._read=function(){for(;;){let e=l.read();if(null===e)return void(n=a._read);if(!a.push(e))return}}),a._destroy=function(e,i){!e&&null!==s&&(e=new f),n=null,t=null,r=null,null===s?i(e):(s=i,g(c,e),g(l,e))},a}t.exports=function e(t,n){if(u(t))return t;if(l(t))return R({readable:t});if(c(t))return R({writable:t});if(a(t))return R({writable:!1,readable:!1});if("function"==typeof t){let{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:n}=b(),i=new A,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:s,cb:a}=await e;if(r.nextTick(a),s)return;if(o.aborted)throw new f(void 0,{cause:o.reason});({promise:t,resolve:n}=b()),yield i}}(),{signal:o}),write(e,t,r){let i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){let t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return _(T,e,{objectMode:!0,write:i,final:o,destroy:a});let l=e?.then;if("function"==typeof l){let t,n=I(l,e,(e=>{if(null!=e)throw new d("nully","body",e)}),(e=>{g(t,e)}));return t=new T({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:a})}throw new d("Iterable, AsyncIterable or AsyncFunction",n,e)}if(E(t))return e(t.arrayBuffer());if(s(t))return _(T,t,{objectMode:!0,writable:!1});if("object"==typeof t?.writable||"object"==typeof t?.readable)return R({readable:null!=t&&t.readable?l(t?.readable)?t?.readable:e(t.readable):void 0,writable:null!=t&&t.writable?c(t?.writable)?t?.writable:e(t.writable):void 0});let i=t?.then;if("function"==typeof i){let e;return I(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{g(e,t)})),e=new T({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}})),bn=m(((e,t)=>{v(),ht(),Je();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:i,ObjectSetPrototypeOf:o}=pt();t.exports=u;var s,a,l=gn(),c=yn();o(u.prototype,l.prototype),o(u,l);{let e=i(c.prototype);for(let t=0;t<e.length;t++){let r=e[t];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function h(){return void 0===s&&(s={}),s}r(u.prototype,{writable:{__proto__:null,...n(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(c.prototype,"writableLength")},writableFinished:{__proto__:null,...n(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},u.from=function(e){return a||(a=mn()),a(e,"body")}})),wn=m(((e,t)=>{v(),ht(),Je();var{ObjectSetPrototypeOf:r,Symbol:n}=pt();t.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:i}=yt().codes,o=bn(),{getHighWaterMark:s}=Yt();r(l.prototype,o.prototype),r(l,o);var a=n("kCallback");function l(e){if(!(this instanceof l))return new l(e);let t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),o.call(this,e),this._readableState.sync=!1,this[a]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function c(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function u(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(){throw new i("_transform()")},l.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[a]=r)}))},l.prototype._read=function(){if(this[a]){let e=this[a];this[a]=null,e()}}})),vn=m(((e,t)=>{v(),ht(),Je();var{ObjectSetPrototypeOf:r}=pt();t.exports=i;var n=wn();function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(i.prototype,n.prototype),r(i,n),i.prototype._transform=function(e,t,r){r(null,e)}})),_n=m(((e,t)=>{v(),ht(),Je();var r,n,i=bt(),{ArrayIsArray:o,Promise:s,SymbolAsyncIterator:a}=pt(),l=vt(),{once:c}=dt(),u=_t(),h=bn(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:b}=yt(),{validateFunction:w,validateAbortSignal:_}=mt(),{isIterable:S,isReadable:E,isReadableNodeStream:A,isNodeStream:I,isTransformStream:T,isWebStream:R,isReadableStream:k,isReadableEnded:O}=wt(),C=globalThis.AbortController||gt().AbortController;function P(e,t,r){let n=!1;return e.on("close",(()=>{n=!0})),{destroy:t=>{n||(n=!0,u.destroyer(e,t||new y("pipe")))},cleanup:l(e,{readable:t,writable:r},(e=>{n=!e}))}}function B(e){if(S(e))return e;if(A(e))return async function*(e){n||(n=gn()),yield*n.prototype[a].call(e)}(e);throw new p("val",["Readable","Iterable","AsyncIterable"],e)}async function x(e,t,r,{end:n}){let i,o=null,a=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},c=()=>new s(((e,t)=>{i?t(i):o=()=>{i?t(i):e()}}));t.on("drain",a);let u=l(t,{readable:!1},a);try{t.writableNeedDrain&&await c();for await(let r of e)t.write(r)||await c();n&&t.end(),await c(),r()}catch(e){r(i!==e?f(i,e):e)}finally{u(),t.off("drain",a)}}async function N(e,t,r,{end:n}){T(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch((()=>{}));await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function M(e,t,n){if(1===e.length&&o(e[0])&&(e=e[0]),e.length<2)throw new g("streams");let s=new C,a=s.signal,l=n?.signal,c=[];function u(){M(new b)}_(l,"options.signal"),l?.addEventListener("abort",u);let f,y,m,w=[],v=0;function O(e){M(e,0==--v)}function M(e,r){if(e&&(!f||"ERR_STREAM_PREMATURE_CLOSE"===f.code)&&(f=e),f||r){for(;w.length;)w.shift()(f);l?.removeEventListener("abort",u),s.abort(),r&&(f||c.forEach((e=>e())),i.nextTick(t,f,y))}}for(let t=0;t<e.length;t++){let o=e[t],s=t<e.length-1,l=t>0,u=s||!1!==n?.end,f=t===e.length-1;if(I(o)){let e=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&O(e)};if(u){let{destroy:e,cleanup:t}=P(o,s,l);w.push(e),E(o)&&f&&c.push(t)}o.on("error",e),E(o)&&f&&c.push((()=>{o.removeListener("error",e)}))}if(0===t)if("function"==typeof o){if(m=o({signal:a}),!S(m))throw new d("Iterable, AsyncIterable or Stream","source",m)}else m=S(o)||A(o)||T(o)?o:h.from(o);else if("function"==typeof o){var U;if(m=T(m)?B(null===(U=m)||void 0===U?void 0:U.readable):B(m),m=o(m,{signal:a}),s){if(!S(m,!0))throw new d("AsyncIterable",`transform[${t-1}]`,m)}else{var j;r||(r=vn());let e=new r({objectMode:!0}),t=null===(j=m)||void 0===j?void 0:j.then;if("function"==typeof t)v++,t.call(m,(t=>{y=t,null!=t&&e.write(t),u&&e.end(),i.nextTick(O)}),(t=>{e.destroy(t),i.nextTick(O,t)}));else if(S(m,!0))v++,x(m,e,O,{end:u});else{if(!k(m)&&!T(m))throw new d("AsyncIterable or Promise","destination",m);{let t=m.readable||m;v++,x(t,e,O,{end:u})}}m=e;let{destroy:n,cleanup:o}=P(m,!1,!0);w.push(n),f&&c.push(o)}}else if(I(o)){if(A(m)){v+=2;let e=L(m,o,O,{end:u});E(o)&&f&&c.push(e)}else if(T(m)||k(m)){let e=m.readable||m;v++,x(e,o,O,{end:u})}else{if(!S(m))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);v++,x(m,o,O,{end:u})}m=o}else if(R(o)){if(A(m))v++,N(B(m),o,O,{end:u});else if(k(m)||S(m))v++,N(m,o,O,{end:u});else{if(!T(m))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);v++,N(m.readable,o,O,{end:u})}m=o}else m=h.from(o)}return(null!=a&&a.aborted||null!=l&&l.aborted)&&i.nextTick(u),m}function L(e,t,r,{end:n}){let o=!1;if(t.on("close",(()=>{o||r(new m)})),e.pipe(t,{end:!1}),n){let r=function(){o=!0,t.end()};O(e)?i.nextTick(r):e.once("end",r)}else r();return l(e,{readable:!0,writable:!1},(t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),l(t,{readable:!1,writable:!0},r)}t.exports={pipelineImpl:M,pipeline:function(...e){return M(e,c(function(e){return w(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}})),Sn=m(((e,t)=>{v(),ht(),Je();var{pipeline:r}=_n(),n=bn(),{destroyer:i}=_t(),{isNodeStream:o,isReadable:s,isWritable:a,isWebStream:l,isTransformStream:c,isWritableStream:u,isReadableStream:h}=wt(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:d}}=yt(),g=vt();t.exports=function(...e){if(0===e.length)throw new d("streams");if(1===e.length)return n.from(e[0]);let t,y,m,b,w,v=[...e];if("function"==typeof e[0]&&(e[0]=n.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=n.from(e[t])}for(let t=0;t<e.length;++t)if(o(e[t])||l(e[t])){if(t<e.length-1&&!(s(e[t])||h(e[t])||c(e[t])))throw new p(`streams[${t}]`,v[t],"must be readable");if(t>0&&!(a(e[t])||u(e[t])||c(e[t])))throw new p(`streams[${t}]`,v[t],"must be writable")}let _=e[0],S=r(e,(function(e){let t=b;b=null,t?t(e):e?w.destroy(e):!A&&!E&&w.destroy()})),E=!!(a(_)||u(_)||c(_)),A=!!(s(S)||h(S)||c(S));if(w=new n({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==S||!S.writableObjectMode),writable:E,readable:A}),E){if(o(_))w._write=function(e,r,n){_.write(e,r)?n():t=n},w._final=function(e){_.end(),y=e},_.on("drain",(function(){if(t){let e=t;t=null,e()}}));else if(l(_)){let e=(c(_)?_.writable:_).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch((()=>{})),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch((()=>{})),y=t}catch(e){t(e)}}}let e=c(S)?S.readable:S;g(e,(()=>{if(y){let e=y;y=null,e()}}))}if(A)if(o(S))S.on("readable",(function(){if(m){let e=m;m=null,e()}})),S.on("end",(function(){w.push(null)})),w._read=function(){for(;;){let e=S.read();if(null===e)return void(m=w._read);if(!w.push(e))return}};else if(l(S)){let e=(c(S)?S.readable:S).getReader();w._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!w.push(t))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(e,r){!e&&null!==b&&(e=new f),m=null,t=null,y=null,null===b?r(e):(b=r,o(S)&&i(S,e))},w}})),En=m(((e,t)=>{v(),ht(),Je();var r=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:s},AbortError:a}=yt(),{validateAbortSignal:l,validateInteger:c,validateObject:u}=mt(),h=pt().Symbol("kWeak"),{finished:f}=vt(),p=Sn(),{addAbortSignalNoValidate:d}=Gt(),{isWritable:g,isNodeStream:y}=wt(),{ArrayPrototypePush:m,MathFloor:b,Number:w,NumberIsNaN:_,Promise:S,PromiseReject:E,PromisePrototypeThen:A,Symbol:I}=pt(),T=I("kEmpty"),R=I("kEof");function k(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);null!=t&&u(t,"options"),null!=t?.signal&&l(t.signal,"options.signal");let n=1;return null!=t?.concurrency&&(n=b(t.concurrency)),c(n,"concurrency",1),async function*(){var i,o;let s=new r,l=this,c=[],u=s.signal,h={signal:u},f=()=>s.abort();null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted&&f(),null==t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",f);let p,d,g=!1;function y(){g=!0}!async function(){try{for await(let t of l){var r;if(g)return;if(u.aborted)throw new a;try{t=e(t,h)}catch(e){t=E(e)}t!==T&&("function"==typeof(null===(r=t)||void 0===r?void 0:r.catch)&&t.catch(y),c.push(t),p&&(p(),p=null),!g&&c.length&&c.length>=n&&await new S((e=>{d=e})))}c.push(R)}catch(e){let t=E(e);A(t,void 0,y),c.push(t)}finally{var i;g=!0,p&&(p(),p=null),null==t||null===(i=t.signal)||void 0===i||i.removeEventListener("abort",f)}}();try{for(;;){for(;c.length>0;){let e=await c[0];if(e===R)return;if(u.aborted)throw new a;e!==T&&(yield e),c.shift(),d&&(d(),d=null)}await new S((e=>{p=e}))}}finally{s.abort(),g=!0,d&&(d(),d=null)}}.call(this)}async function O(e,t){for await(let r of C.call(this,e,t))return!0;return!1}function C(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);return k.call(this,(async function(t,r){return await e(t,r)?t:T}),t)}var P=class extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function B(e){if(e=w(e),_(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}t.exports.streamReturningOperators={asIndexedPairs:function(e){return null!=e&&u(e,"options"),null!=e?.signal&&l(e.signal,"options.signal"),async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a({cause:e.signal.reason});yield[t++,n]}}.call(this)},drop:function(e,t){return null!=t&&u(t,"options"),null!=t?.signal&&l(t.signal,"options.signal"),e=B(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(let r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new a;e--<=0&&(yield r)}}.call(this)},filter:C,flatMap:function(e,t){let r=k.call(this,e,t);return async function*(){for await(let e of r)yield*e}.call(this)},map:k,take:function(e,t){return null!=t&&u(t,"options"),null!=t?.signal&&l(t.signal,"options.signal"),e=B(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(let r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new a;if(!(e-- >0))return;yield r}}.call(this)},compose:function(e,t){if(null!=t&&u(t,"options"),null!=t?.signal&&l(t.signal,"options.signal"),y(e)&&!g(e))throw new n("stream",e,"must be writable");let r=p(this,e);return null!=t&&t.signal&&d(t.signal,r),r}},t.exports.promiseReturningOperators={every:async function(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);return!await O.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);for await(let r of k.call(this,(async function(t,r){return await e(t,r),T}),t));},reduce:async function(e,t,n){var o;if("function"!=typeof e)throw new i("reducer",["Function","AsyncFunction"],e);null!=n&&u(n,"options"),null!=n?.signal&&l(n.signal,"options.signal");let s=arguments.length>1;if(null!=n&&null!==(o=n.signal)&&void 0!==o&&o.aborted){let e=new a(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await f(this.destroy(e)),e}let c=new r,p=c.signal;if(null!=n&&n.signal){let e={once:!0,[h]:this};n.signal.addEventListener("abort",(()=>c.abort()),e)}let d=!1;try{for await(let r of this){var g;if(d=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new a;s?t=await e(t,r,{signal:p}):(t=r,s=!0)}if(!d&&!s)throw new P}finally{c.abort()}return t},toArray:async function(e){null!=e&&u(e,"options"),null!=e?.signal&&l(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a(void 0,{cause:e.signal.reason});m(t,n)}return t},some:O,find:async function(e,t){for await(let r of C.call(this,e,t))return r}}})),An=m(((e,t)=>{v(),ht(),Je();var{ArrayPrototypePop:r,Promise:n}=pt(),{isIterable:i,isNodeStream:o,isWebStream:s}=wt(),{pipelineImpl:a}=_n(),{finished:l}=vt();In(),t.exports={finished:l,pipeline:function(...e){return new n(((t,n)=>{let l,c,u=e[e.length-1];if(u&&"object"==typeof u&&!o(u)&&!i(u)&&!s(u)){let t=r(e);l=t.signal,c=t.end}a(e,((e,r)=>{e?n(e):t(r)}),{signal:l,end:c})}))}}})),In=m(((e,t)=>{v(),ht(),Je();var{Buffer:r}=(ut(),w(Xe)),{ObjectDefineProperty:n,ObjectKeys:i,ReflectApply:o}=pt(),{promisify:{custom:s}}=dt(),{streamReturningOperators:a,promiseReturningOperators:l}=En(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=yt(),u=Sn(),{pipeline:h}=_n(),{destroyer:f}=_t(),p=vt(),d=An(),g=wt(),y=t.exports=Kt().Stream;y.isDisturbed=g.isDisturbed,y.isErrored=g.isErrored,y.isReadable=g.isReadable,y.Readable=gn();for(let e of i(a)){let t=function(...e){if(new.target)throw c();return y.Readable.from(o(r,this,e))},r=a[e];n(t,"name",{__proto__:null,value:r.name}),n(t,"length",{__proto__:null,value:r.length}),n(y.Readable.prototype,e,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})}for(let e of i(l)){let t=function(...e){if(new.target)throw c();return o(r,this,e)},r=l[e];n(t,"name",{__proto__:null,value:r.name}),n(t,"length",{__proto__:null,value:r.length}),n(y.Readable.prototype,e,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})}y.Writable=yn(),y.Duplex=bn(),y.Transform=wn(),y.PassThrough=vn(),y.pipeline=h;var{addAbortSignal:m}=Gt();y.addAbortSignal=m,y.finished=p,y.destroy=f,y.compose=u,n(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>d}),n(h,s,{__proto__:null,enumerable:!0,get:()=>d.pipeline}),n(p,s,{__proto__:null,enumerable:!0,get:()=>d.finished}),y.Stream=y,y._isUint8Array=function(e){return e instanceof Uint8Array},y._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}})),Tn=m(((e,t)=>{v(),ht(),Je();var r=In(),n=An(),i=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=i,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>n}),t.exports.Stream=r.Stream,t.exports.default=t.exports})),Rn=m(((e,t)=>{v(),ht(),Je(),"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),kn=m(((e,t)=>{v(),ht(),Je();var{Buffer:r}=(ut(),w(Xe)),n=Symbol.for("BufferList");function i(e){if(!(this instanceof i))return new i(e);i._init.call(this,e)}i._init=function(e){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},i.prototype._new=function(e){return new i(e)},i.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){let n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},i.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},i.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]},i.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},i.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||r.alloc(0);let o=!!e,s=this._offset(n),a=i-n,l=a,c=o&&t||0,u=s[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(l<=this._bufs[s[0]].length-u)return o?this._bufs[s[0]].copy(e,t,u,u+l):this._bufs[s[0]].slice(u,u+l);o||(e=r.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){let r=this._bufs[t].length-u;if(!(l>r)){this._bufs[t].copy(e,c,u,u+l),c+=r;break}this._bufs[t].copy(e,c,u),c+=r,l-=r,u&&(u=0)}return e.length>c?e.slice(0,c):e},i.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},i.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},i.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},i.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},i.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},i.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let i=this._offset(t),o=i[0],s=i[1];for(;o<this._bufs.length;o++){let t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){let r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{let t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return-1},i.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)!function(t){i.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),i.prototype._isBufferList=function(e){return e instanceof i||i.isBufferList(e)},i.isBufferList=function(e){return null!=e&&e[n]},t.exports=i})),On=m(((e,t)=>{v(),ht(),Je();var r=Tn().Duplex,n=Rn(),i=kn();function o(e){if(!(this instanceof o))return new o(e);if("function"==typeof e){this._callback=e;let t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}i._init.call(this,e),r.call(this)}n(o,r),Object.assign(o.prototype,i.prototype),o.prototype._new=function(e){return new o(e)},o.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},o.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},o.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},o.prototype._isBufferList=function(e){return e instanceof o||e instanceof i||o.isBufferList(e)},o.isBufferList=i.isBufferList,t.exports=o,t.exports.BufferListStream=o,t.exports.BufferList=i})),Cn=m(((e,t)=>{v(),ht(),Je(),t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}})),Pn=m(((e,t)=>{v(),ht(),Je();var r=t.exports,{Buffer:n}=(ut(),w(Xe));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let e in r.requiredHeaderFlags){let t=r.requiredHeaderFlags[e];r.requiredHeaderFlagsErrors[e]="Invalid header flag bits, must be 0x"+t.toString(16)+" for "+r.types[e]+" packet"}r.codes={};for(let e in r.types){let t=r.types[e];r.codes[t]=e}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=n.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=n.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=n.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let e in r.properties){let t=r.properties[e];r.propertiesCodes[t]=e}function i(e){return[0,1,2].map((t=>[0,1].map((i=>[0,1].map((o=>{let s=n.alloc(1);return s.writeUInt8(r.codes[e]<<r.CMD_SHIFT|(i?r.DUP_MASK:0)|t<<r.QOS_SHIFT|o,0,!0),s}))))))}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=i("publish"),r.SUBSCRIBE_HEADER=i("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=i("unsubscribe"),r.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},r.SUBACK_HEADER=n.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=n.from([3]),r.VERSION4=n.from([4]),r.VERSION5=n.from([5]),r.VERSION131=n.from([131]),r.VERSION132=n.from([132]),r.QOS=[0,1,2].map((e=>n.from([e]))),r.EMPTY={pingreq:n.from([r.codes.pingreq<<4,0]),pingresp:n.from([r.codes.pingresp<<4,0]),disconnect:n.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}})),Bn=m(((e,t)=>{v(),ht(),Je();var r=1e3,n=6e4,i=60*n,o=24*i,s=7*o;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}t.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?a(e,t,o,"day"):t>=i?a(e,t,i,"hour"):t>=n?a(e,t,n,"minute"):t>=r?a(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}})),xn=m(((e,t)=>{v(),ht(),Je(),t.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;let r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;let o=t.formatters[i];if("function"==typeof o){let t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){let n=t(this.namespace+(typeof r>"u"?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];let r,n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=Bn(),t.destroy=function(){},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}})),Nn=m(((e,t)=>{v(),ht(),Je(),e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),e.splice(i,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch{}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch{}return!t&&typeof _<"u"&&"env"in _&&(t=_.env.DEBUG),t},e.useColors=function(){return!(!(typeof self<"u"&&self.process)||"renderer"!==self.process.type&&!self.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof self<"u"&&self.console&&(self.console.firebug||self.console.exception&&self.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let e=!1;return()=>{e||(e=!0)}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=xn()(e);var{formatters:r}=t.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Mn=m(((e,t)=>{v(),ht(),Je();var r=On(),{EventEmitter:n}=($t(),w(Dt)),i=Cn(),o=Pn(),s=Nn()("mqtt-packet:parser");t.exports=class e extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(t){return this instanceof e?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new e).parser(t)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=r(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let e=this._list.readUInt8(0),t=e>>o.CMD_SHIFT;this.packet.cmd=o.types[t];let r=15&e,n=o.requiredHeaderFlags[t];return null!=n&&r!==n?this._emitError(new Error(o.requiredHeaderFlagsErrors[t])):(this.packet.retain=!!(e&o.RETAIN_MASK),this.packet.qos=e>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=!!(e&o.DUP_MASK),s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}_parsePayload(){s("_parsePayload: payload %O",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}_parseConnect(){s("_parseConnect");let e,t,r,n,i={},a=this.packet,l=this._parseString();if(null===l)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==l&&"MQIsdp"!==l)return this._emitError(new Error("Invalid protocolId"));if(a.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.protocolVersion=this._list.readUInt8(this._pos),a.protocolVersion>=128&&(a.bridgeMode=!0,a.protocolVersion=a.protocolVersion-128),3!==a.protocolVersion&&4!==a.protocolVersion&&5!==a.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(1&this._list.readUInt8(this._pos))return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));i.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;let c=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),u=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(i.will)a.will={},a.will.retain=c,a.will.qos=u;else{if(c)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(u)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(a.clean=!!(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK),this._pos++,a.keepalive=this._parseNum(),-1===a.keepalive)return this._emitError(new Error("Packet too short"));if(5===a.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(a.properties=e)}let h=this._parseString();if(null===h)return this._emitError(new Error("Packet too short"));if(a.clientId=h,s("_parseConnect: packet.clientId: %s",a.clientId),i.will){if(5===a.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(a.will.properties=e)}if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse will topic"));if(a.will.topic=e,s("_parseConnect: packet.will.topic: %s",a.will.topic),t=this._parseBuffer(),null===t)return this._emitError(new Error("Cannot parse will payload"));a.will.payload=t,s("_parseConnect: packet.will.paylaod: %s",a.will.payload)}if(i.username){if(n=this._parseString(),null===n)return this._emitError(new Error("Cannot parse username"));a.username=n,s("_parseConnect: packet.username: %s",a.username)}if(i.password){if(r=this._parseBuffer(),null===r)return this._emitError(new Error("Cannot parse password"));a.password=r}return this.settings=a,s("_parseConnect: complete"),a}_parseConnack(){s("_parseConnack");let e=this.packet;if(this._list.length<1)return null;let t=this._list.readUInt8(this._pos++);if(t>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(e.sessionPresent=!!(t&o.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){s("_parseSubscribe");let e,t,r,n,i,a,l,c=this.packet;if(c.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(c.properties=e)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(t=this._parseByte(),5===this.settings.protocolVersion){if(192&t)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(252&t)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(r=t&o.SUBSCRIBE_OPTIONS_QOS_MASK,r>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(a=!!(t>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK),i=!!(t>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK),n=t>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,n>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));l={topic:e,qos:r},5===this.settings.protocolVersion?(l.nl=a,l.rap=i,l.rh=n):this.settings.bridgeMode&&(l.rh=0,l.rap=!0,l.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",l),c.subscriptions.push(l)}}}_parseSuback(){s("_parseSuback");let e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}if(e.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let e=this._list.readUInt8(this._pos++);if(5===this.settings.protocolVersion){if(!o.MQTT5_SUBACK_CODES[e])return this._emitError(new Error("Invalid suback code"))}else if(e>2&&128!==e)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(e)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}if(e.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<e.length;){let t=this._parseString();if(null===t)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",t),e.unsubscriptions.push(t)}}}_parseUnsuback(){s("_parseUnsuback");let e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((3===this.settings.protocolVersion||4===this.settings.protocolVersion)&&2!==e.length)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(e.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(5===this.settings.protocolVersion){let t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;){let e=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[e])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(e)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion){if(e.length>2){switch(e.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"))}s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)}else e.reasonCode=0;if(e.length>3){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}}return!0}_parseDisconnect(){let e=this.packet;if(s("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?(e.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[e.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):e.reasonCode=0;let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(e.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[e.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),s("_parseAuth: result: true"),!0}_parseMessageId(){let e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){let t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;let n=this._list.toString("utf8",this._pos,r);return this._pos+=t,s("_parseString: result: %s",n),n}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;let r=this._list.slice(this._pos,t);return this._pos+=e,s("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;let e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){s("_parseVarByteNum");let t,r=0,n=1,i=0,a=!1,l=this._pos?this._pos:0;for(;r<4&&l+r<this._list.length;){if(t=this._list.readUInt8(l+r++),i+=n*(t&o.VARBYTEINT_MASK),n*=128,!(t&o.VARBYTEINT_FIN_MASK)){a=!0;break}if(this._list.length<=r)break}return!a&&4===r&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),l&&(this._pos+=r),a=!!a&&(e?{bytes:r,value:i}:i),s("_parseVarByteNum: result: %o",a),a}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}_parseByType(e){switch(s("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let e=this._parseVarByteNum(),t=this._pos+e,r={};for(;this._pos<t;){let e=this._parseByte();if(!e)return this._emitError(new Error("Cannot parse property code type")),!1;let t=o.propertiesCodes[e];if(!t)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==t)r[t]?(Array.isArray(r[t])||(r[t]=[r[t]]),r[t].push(this._parseByType(o.propertiesTypes[t]))):r[t]=this._parseByType(o.propertiesTypes[t]);else{r[t]||(r[t]=Object.create(null));let e=this._parseByType(o.propertiesTypes[t]);if(r[t][e.name])if(Array.isArray(r[t][e.name]))r[t][e.name].push(e.value);else{let n=r[t][e.name];r[t][e.name]=[n],r[t][e.name].push(e.value)}else r[t][e.name]=e.value}}return r}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(e){s("_emitError",e),this.error=e,this.emit("error",e)}}})),Ln=m(((e,t)=>{v(),ht(),Je();var{Buffer:r}=(ut(),w(Xe)),n={},i=r.isBuffer(r.from([1,2]).subarray(0,1));function o(e){let t=r.allocUnsafe(2);return t.writeUInt8(e>>8,0),t.writeUInt8(255&e,1),t}t.exports={cache:n,generateCache:function(){for(let e=0;e<65536;e++)n[e]=o(e)},generateNumber:o,genBufVariableByteInt:function(e){let t=0,n=0,o=r.allocUnsafe(4);do{t=e%128|0,(e=e/128|0)>0&&(t|=128),o.writeUInt8(t,n++)}while(e>0&&n<4);return e>0&&(n=0),i?o.subarray(0,n):o.slice(0,n)},generate4ByteBuffer:function(e){let t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}}})),Un=m(((e,t)=>{v(),ht(),Je(),typeof _>"u"||!_.version||0===_.version.indexOf("v0.")||0===_.version.indexOf("v1.")&&0!==_.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return _.nextTick(e);case 2:return _.nextTick((function(){e.call(null,t)}));case 3:return _.nextTick((function(){e.call(null,t,r)}));case 4:return _.nextTick((function(){e.call(null,t,r,n)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return _.nextTick((function(){e.apply(null,i)}))}}}:t.exports=_})),jn=m(((e,t)=>{v(),ht(),Je();var r=Pn(),{Buffer:n}=(ut(),w(Xe)),i=n.allocUnsafe(0),o=n.from([0]),s=Ln(),a=Un().nextTick,l=Nn()("mqtt-packet:writeToStream"),c=s.cache,u=s.generateNumber,h=s.generateCache,f=s.genBufVariableByteInt,p=s.generate4ByteBuffer,d=A,g=!0;function y(e,t,s){switch(l("generate called"),t.cork&&(t.cork(),a(m,t)),g&&(g=!1,h()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return function(e,t){let i=e||{},o=i.protocolId||"MQTT",s=i.protocolVersion||4,a=i.will,l=i.clean,c=i.keepalive||0,u=i.clientId||"",h=i.username,f=i.password,p=i.properties;void 0===l&&(l=!0);let g,y,m=0;if(!o||"string"!=typeof o&&!n.isBuffer(o))return t.destroy(new Error("Invalid protocolId")),!1;if(m+=o.length+2,3!==s&&4!==s&&5!==s)return t.destroy(new Error("Invalid protocol version")),!1;if(m+=1,("string"==typeof u||n.isBuffer(u))&&(u||s>=4)&&(u||l))m+=n.byteLength(u)+2;else{if(s<4)return t.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(1*l==0)return t.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof c||c<0||c>65535||c%1!=0)return t.destroy(new Error("Invalid keepalive")),!1;if(m+=2,m+=1,5===s){if(g=R(t,p),!g)return!1;m+=g.length}if(a){if("object"!=typeof a)return t.destroy(new Error("Invalid will")),!1;if(!a.topic||"string"!=typeof a.topic)return t.destroy(new Error("Invalid will topic")),!1;if(m+=n.byteLength(a.topic)+2,m+=2,a.payload){if(!(a.payload.length>=0))return t.destroy(new Error("Invalid will payload")),!1;"string"==typeof a.payload?m+=n.byteLength(a.payload):m+=a.payload.length}if(y={},5===s){if(y=R(t,a.properties),!y)return!1;m+=y.length}}let b=!1;if(null!=h){if(!B(h))return t.destroy(new Error("Invalid username")),!1;b=!0,m+=n.byteLength(h)+2}if(null!=f){if(!b)return t.destroy(new Error("Username is required to use password")),!1;if(!B(f))return t.destroy(new Error("Invalid password")),!1;m+=P(f)+2}t.write(r.CONNECT_HEADER),_(t,m),T(t,o),i.bridgeMode&&(s+=128),t.write(131===s?r.VERSION131:132===s?r.VERSION132:4===s?r.VERSION4:5===s?r.VERSION5:r.VERSION3);let w=0;return w|=null!=h?r.USERNAME_MASK:0,w|=null!=f?r.PASSWORD_MASK:0,w|=a&&a.retain?r.WILL_RETAIN_MASK:0,w|=a&&a.qos?a.qos<<r.WILL_QOS_SHIFT:0,w|=a?r.WILL_FLAG_MASK:0,w|=l?r.CLEAN_SESSION_MASK:0,t.write(n.from([w])),d(t,c),5===s&&g.write(),T(t,u),a&&(5===s&&y.write(),S(t,a.topic),T(t,a.payload)),null!=h&&T(t,h),null!=f&&T(t,f),!0}(e,t);case"connack":return function(e,t,i){let s=i?i.protocolVersion:4,a=e||{},l=5===s?a.reasonCode:a.returnCode,c=a.properties,u=2;if("number"!=typeof l)return t.destroy(new Error("Invalid return code")),!1;let h=null;if(5===s){if(h=R(t,c),!h)return!1;u+=h.length}return t.write(r.CONNACK_HEADER),_(t,u),t.write(a.sessionPresent?r.SESSIONPRESENT_HEADER:o),t.write(n.from([l])),h?.write(),!0}(e,t,s);case"publish":return function(e,t,o){l("publish: packet: %o",e);let s=o?o.protocolVersion:4,a=e||{},c=a.qos||0,u=a.retain?r.RETAIN_MASK:0,h=a.topic,f=a.payload||i,p=a.messageId,g=a.properties,y=0;if("string"==typeof h)y+=n.byteLength(h)+2;else{if(!n.isBuffer(h))return t.destroy(new Error("Invalid topic")),!1;y+=h.length+2}if(n.isBuffer(f)?y+=f.length:y+=n.byteLength(f),c&&"number"!=typeof p)return t.destroy(new Error("Invalid messageId")),!1;c&&(y+=2);let m=null;if(5===s){if(m=R(t,g),!m)return!1;y+=m.length}return t.write(r.PUBLISH_HEADER[c][a.dup?1:0][u?1:0]),_(t,y),d(t,P(h)),t.write(h),c>0&&d(t,p),m?.write(),l("publish: payload: %o",f),t.write(f)}(e,t,s);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.cmd||"puback",l=s.messageId,c=s.dup&&"pubrel"===a?r.DUP_MASK:0,u=0,h=s.reasonCode,f=s.properties,p=5===o?3:2;if("pubrel"===a&&(u=1),"number"!=typeof l)return t.destroy(new Error("Invalid messageId")),!1;let g=null;if(5===o&&"object"==typeof f){if(g=k(t,f,i,p),!g)return!1;p+=g.length}return t.write(r.ACKS[a][u][c][0]),3===p&&(p+=0!==h?1:-1),_(t,p),d(t,l),5===o&&2!==p&&t.write(n.from([h])),null!==g?g.write():4===p&&t.write(n.from([0])),!0}(e,t,s);case"subscribe":return function(e,t,i){l("subscribe: packet: ");let o=i?i.protocolVersion:4,s=e||{},a=s.dup?r.DUP_MASK:0,c=s.messageId,u=s.subscriptions,h=s.properties,f=0;if("number"!=typeof c)return t.destroy(new Error("Invalid messageId")),!1;f+=2;let p=null;if(5===o){if(p=R(t,h),!p)return!1;f+=p.length}if("object"!=typeof u||!u.length)return t.destroy(new Error("Invalid subscriptions")),!1;for(let e=0;e<u.length;e+=1){let r=u[e].topic,i=u[e].qos;if("string"!=typeof r)return t.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof i)return t.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(5===o){if("boolean"!=typeof(u[e].nl||!1))return t.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(u[e].rap||!1))return t.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let r=u[e].rh||0;if("number"!=typeof r||r>2)return t.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}f+=n.byteLength(r)+2+1}l("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),t.write(r.SUBSCRIBE_HEADER[1][a?1:0][0]),_(t,f),d(t,c),null!==p&&p.write();let g=!0;for(let e of u){let i,s=e.topic,a=e.qos,l=+e.nl,c=+e.rap,u=e.rh;S(t,s),i=r.SUBSCRIBE_OPTIONS_QOS[a],5===o&&(i|=l?r.SUBSCRIBE_OPTIONS_NL:0,i|=c?r.SUBSCRIBE_OPTIONS_RAP:0,i|=u?r.SUBSCRIBE_OPTIONS_RH[u]:0),g=t.write(n.from([i]))}return g}(e,t,s);case"suback":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.granted,c=s.properties,u=0;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(u+=2,"object"!=typeof l||!l.length)return t.destroy(new Error("Invalid qos vector")),!1;for(let e=0;e<l.length;e+=1){if("number"!=typeof l[e])return t.destroy(new Error("Invalid qos vector")),!1;u+=1}let h=null;if(5===o){if(h=k(t,c,i,u),!h)return!1;u+=h.length}return t.write(r.SUBACK_HEADER),_(t,u),d(t,a),null!==h&&h.write(),t.write(n.from(l))}(e,t,s);case"unsubscribe":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?r.DUP_MASK:0,c=s.unsubscriptions,u=s.properties,h=0;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(h+=2,"object"!=typeof c||!c.length)return t.destroy(new Error("Invalid unsubscriptions")),!1;for(let e=0;e<c.length;e+=1){if("string"!=typeof c[e])return t.destroy(new Error("Invalid unsubscriptions")),!1;h+=n.byteLength(c[e])+2}let f=null;if(5===o){if(f=R(t,u),!f)return!1;h+=f.length}t.write(r.UNSUBSCRIBE_HEADER[1][l?1:0][0]),_(t,h),d(t,a),null!==f&&f.write();let p=!0;for(let e=0;e<c.length;e++)p=S(t,c[e]);return p}(e,t,s);case"unsuback":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?r.DUP_MASK:0,c=s.granted,u=s.properties,h=s.cmd,f=2;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(5===o){if("object"!=typeof c||!c.length)return t.destroy(new Error("Invalid qos vector")),!1;for(let e=0;e<c.length;e+=1){if("number"!=typeof c[e])return t.destroy(new Error("Invalid qos vector")),!1;f+=1}}let p=null;if(5===o){if(p=k(t,u,i,f),!p)return!1;f+=p.length}return t.write(r.ACKS[h][0][l][0]),_(t,f),d(t,a),null!==p&&p.write(),5===o&&t.write(n.from(c)),!0}(e,t,s);case"pingreq":case"pingresp":return function(e,t){return t.write(r.EMPTY[e.cmd])}(e,t);case"disconnect":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties,c=5===o?1:0,u=null;if(5===o){if(u=k(t,l,i,c),!u)return!1;c+=u.length}return t.write(n.from([r.codes.disconnect<<4])),_(t,c),5===o&&t.write(n.from([a])),null!==u&&u.write(),!0}(e,t,s);case"auth":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties,c=5===o?1:0;5!==o&&t.destroy(new Error("Invalid mqtt version for auth packet"));let u=k(t,l,i,c);return!!u&&(c+=u.length,t.write(n.from([r.codes.auth<<4])),_(t,c),t.write(n.from([a])),null!==u&&u.write(),!0)}(e,t,s);default:return t.destroy(new Error("Unknown command")),!1}}function m(e){e.uncork()}Object.defineProperty(y,"cacheNumbers",{get:()=>d===A,set(e){e?((!c||0===Object.keys(c).length)&&(g=!0),d=A):(g=!1,d=I)}});var b={};function _(e,t){if(t>r.VARBYTEINT_MAX)return e.destroy(new Error(`Invalid variable byte integer: ${t}`)),!1;let n=b[t];return n||(n=f(t),t<16384&&(b[t]=n)),l("writeVarByteInt: writing to stream: %o",n),e.write(n)}function S(e,t){let r=n.byteLength(t);return d(e,r),l("writeString: %s",t),e.write(t,"utf8")}function E(e,t,r){S(e,t),S(e,r)}function A(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",c[t]),e.write(c[t])}function I(e,t){let r=u(t);return l("writeNumberGenerated: %o",r),e.write(r)}function T(e,t){"string"==typeof t?S(e,t):t?(d(e,t.length),e.write(t)):d(e,0)}function R(e,t){if("object"!=typeof t||null!=t.length)return{length:1,write(){C(e,{},0)}};let i=0;function o(t,i){let o=0;switch(r.propertiesTypes[t]){case"byte":if("boolean"!=typeof i)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=2;break;case"int8":if("number"!=typeof i||i<0||i>255)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=2;break;case"binary":if(i&&null===i)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=1+n.byteLength(i)+2;break;case"int16":if("number"!=typeof i||i<0||i>65535)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=3;break;case"int32":if("number"!=typeof i||i<0||i>4294967295)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=5;break;case"var":if("number"!=typeof i||i<0||i>268435455)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=1+n.byteLength(f(i));break;case"string":if("string"!=typeof i)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=3+n.byteLength(i.toString());break;case"pair":if("object"!=typeof i)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=Object.getOwnPropertyNames(i).reduce(((e,t)=>{let r=i[t];return Array.isArray(r)?e+=r.reduce(((e,r)=>e+(3+n.byteLength(t.toString())+2+n.byteLength(r.toString()))),0):e+=3+n.byteLength(t.toString())+2+n.byteLength(i[t].toString()),e}),0);break;default:return e.destroy(new Error(`Invalid property ${t}: ${i}`)),!1}return o}if(t)for(let e in t){let r=0,n=0,s=t[e];if(Array.isArray(s))for(let t=0;t<s.length;t++){if(n=o(e,s[t]),!n)return!1;r+=n}else{if(n=o(e,s),!n)return!1;r=n}if(!r)return!1;i+=r}return{length:n.byteLength(f(i))+i,write(){C(e,t,i)}}}function k(e,t,r,n){let i=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=R(e,t);if(o)for(;n+s.length>o;){let r=i.shift();if(!r||!t[r])return!1;delete t[r],s=R(e,t)}return s}function O(e,t,i){switch(r.propertiesTypes[t]){case"byte":e.write(n.from([r.properties[t]])),e.write(n.from([+i]));break;case"int8":e.write(n.from([r.properties[t]])),e.write(n.from([i]));break;case"binary":e.write(n.from([r.properties[t]])),T(e,i);break;case"int16":e.write(n.from([r.properties[t]])),d(e,i);break;case"int32":e.write(n.from([r.properties[t]])),function(e,t){let r=p(t);l("write4ByteNumber: %o",r),e.write(r)}(e,i);break;case"var":e.write(n.from([r.properties[t]])),_(e,i);break;case"string":e.write(n.from([r.properties[t]])),S(e,i);break;case"pair":Object.getOwnPropertyNames(i).forEach((o=>{let s=i[o];Array.isArray(s)?s.forEach((i=>{e.write(n.from([r.properties[t]])),E(e,o.toString(),i.toString())})):(e.write(n.from([r.properties[t]])),E(e,o.toString(),s.toString()))}));break;default:return e.destroy(new Error(`Invalid property ${t} value: ${i}`)),!1}}function C(e,t,r){_(e,r);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&null!==t[r]){let n=t[r];if(Array.isArray(n))for(let t=0;t<n.length;t++)O(e,r,n[t]);else O(e,r,n)}}function P(e){return e?e instanceof n?e.length:n.byteLength(e):0}function B(e){return"string"==typeof e||e instanceof n}t.exports=y})),Dn=m(((e,t)=>{v(),ht(),Je();var r=jn(),{EventEmitter:n}=($t(),w(Dt)),{Buffer:i}=(ut(),w(Xe)),o=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e,t=0,r=new Array(this._array.length),n=this._array,o=0;for(e=0;e<n.length&&void 0!==n[e];e++)"string"!=typeof n[e]?r[e]=n[e].length:r[e]=i.byteLength(n[e]),t+=r[e];let s=i.allocUnsafe(t);for(e=0;e<n.length&&void 0!==n[e];e++)"string"!=typeof n[e]?(n[e].copy(s,o),o+=r[e]):(s.write(n[e],o),o+=r[e]);return s}destroy(e){e&&this.emit("error",e)}};t.exports=function(e,t){let n=new o;return r(e,n,t),n.concat()}})),Fn=m((e=>{v(),ht(),Je(),e.parser=Mn().parser,e.generate=Dn(),e.writeToStream=jn()})),Wn=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.nextId=Math.max(1,Math.floor(65535*Math.random()))}allocate(){let e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e}getLastAllocated(){return 1===this.nextId?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}}})),Hn=m(((e,t)=>{function r(e){return e instanceof at?at.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}v(),ht(),Je(),t.exports=function(e){return(e=e||{}).circles?function(e){var t=[],n=[];return e.proto?function e(o){if("object"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,e);if(o instanceof Map)return new Map(i(Array.from(o),e));if(o instanceof Set)return new Set(i(Array.from(o),e));var s={};for(var a in t.push(o),n.push(s),o){var l=o[a];if("object"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(i(Array.from(l),e));else if(l instanceof Set)s[a]=new Set(i(Array.from(l),e));else if(ArrayBuffer.isView(l))s[a]=r(l);else{var c=t.indexOf(l);s[a]=-1!==c?n[c]:e(l)}}return t.pop(),n.pop(),s}:function e(o){if("object"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,e);if(o instanceof Map)return new Map(i(Array.from(o),e));if(o instanceof Set)return new Set(i(Array.from(o),e));var s={};for(var a in t.push(o),n.push(s),o)if(!1!==Object.hasOwnProperty.call(o,a)){var l=o[a];if("object"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(i(Array.from(l),e));else if(l instanceof Set)s[a]=new Set(i(Array.from(l),e));else if(ArrayBuffer.isView(l))s[a]=r(l);else{var c=t.indexOf(l);s[a]=-1!==c?n[c]:e(l)}}return t.pop(),n.pop(),s};function i(e,i){for(var o=Object.keys(e),s=new Array(o.length),a=0;a<o.length;a++){var l=o[a],c=e[l];if("object"!=typeof c||null===c)s[l]=c;else if(c instanceof Date)s[l]=new Date(c);else if(ArrayBuffer.isView(c))s[l]=r(c);else{var u=t.indexOf(c);s[l]=-1!==u?n[u]:i(c)}}return s}}(e):e.proto?function e(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var o in n){var s=n[o];"object"!=typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(t(Array.from(s),e)):s instanceof Set?i[o]=new Set(t(Array.from(s),e)):ArrayBuffer.isView(s)?i[o]=r(s):i[o]=e(s)}return i}:function e(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var o in n)if(!1!==Object.hasOwnProperty.call(n,o)){var s=n[o];"object"!=typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(t(Array.from(s),e)):s instanceof Set?i[o]=new Set(t(Array.from(s),e)):ArrayBuffer.isView(s)?i[o]=r(s):i[o]=e(s)}return i};function t(e,t){for(var n=Object.keys(e),i=new Array(n.length),o=0;o<n.length;o++){var s=n[o],a=e[s];"object"!=typeof a||null===a?i[s]=a:a instanceof Date?i[s]=new Date(a):ArrayBuffer.isView(a)?i[s]=r(a):i[s]=t(a)}return i}}})),qn=m(((e,t)=>{v(),ht(),Je(),t.exports=Hn()()})),Vn=m((e=>{function t(e){let t=e.split("/");for(let e=0;e<t.length;e++)if("+"!==t[e]){if("#"===t[e])return e===t.length-1;if(-1!==t[e].indexOf("+")||-1!==t[e].indexOf("#"))return!1}return!0}v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0,e.validateTopic=t,e.validateTopics=function(e){if(0===e.length)return"empty_topic_list";for(let r=0;r<e.length;r++)if(!t(e[r]))return e[r];return null}})),zn=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0});var t=Tn(),r={objectMode:!0},n={clean:!0};e.default=class{constructor(e){this.options=e||{},this.options=Object.assign(Object.assign({},n),e),this._inflights=new Map}put(e,t){return this._inflights.set(e.messageId,e),t&&t(),this}createStream(){let e=new t.Readable(r),n=[],i=!1,o=0;return this._inflights.forEach((e=>{n.push(e)})),e._read=()=>{!i&&o<n.length?e.push(n[o++]):e.push(null)},e.destroy=()=>{if(!i)return i=!0,setTimeout((()=>{e.emit("close")}),0),e},e}del(e,t){let r=this._inflights.get(e.messageId);return r?(this._inflights.delete(e.messageId),t(null,r)):t&&t(new Error("missing packet")),this}get(e,t){let r=this._inflights.get(e.messageId);return r?t(null,r):t&&t(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e()}}})),$n=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153];e.default=(e,r,n)=>{e.log("handlePublish: packet %o",r),n=typeof n<"u"?n:e.noop;let i=r.topic.toString(),o=r.payload,{qos:s}=r,{messageId:a}=r,{options:l}=e;if(5===e.options.protocolVersion){let t;if(r.properties&&(t=r.properties.topicAlias),typeof t<"u")if(0===i.length){if(!(t>0&&t<=65535))return e.log("handlePublish :: topic alias out of range. alias: %d",t),void e.emit("error",new Error("Received Topic Alias is out of range"));{let r=e.topicAliasRecv.getTopicByAlias(t);if(!r)return e.log("handlePublish :: unregistered topic alias. alias: %d",t),void e.emit("error",new Error("Received unregistered Topic Alias"));i=r,e.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",i,t)}}else{if(!e.topicAliasRecv.put(i,t))return e.log("handlePublish :: topic alias out of range. alias: %d",t),void e.emit("error",new Error("Received Topic Alias is out of range"));e.log("handlePublish :: registered topic: %s - alias: %d",i,t)}}switch(e.log("handlePublish: qos %d",s),s){case 2:l.customHandleAcks(i,o,r,((i,o)=>("number"==typeof i&&(o=i,i=null),i?e.emit("error",i):-1===t.indexOf(o)?e.emit("error",new Error("Wrong reason code for pubrec")):void(o?e._sendPacket({cmd:"pubrec",messageId:a,reasonCode:o},n):e.incomingStore.put(r,(()=>{e._sendPacket({cmd:"pubrec",messageId:a},n)}))))));break;case 1:l.customHandleAcks(i,o,r,((s,l)=>("number"==typeof s&&(l=s,s=null),s?e.emit("error",s):-1===t.indexOf(l)?e.emit("error",new Error("Wrong reason code for puback")):(l||e.emit("message",i,o,r),void e.handleMessage(r,(t=>{if(t)return n&&n(t);e._sendPacket({cmd:"puback",messageId:a,reasonCode:l},n)}))))));break;case 0:e.emit("message",i,o,r),e.handleMessage(r,n);break;default:e.log("handlePublish: unknown QoS. Doing nothing.")}}})),Kn=m(((e,t)=>{t.exports={version:"5.9.1"}})),Gn=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var t=class e extends Error{constructor(t,r){super(t),this.code=r,Object.setPrototypeOf(this,e.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t,e.applyMixin=function(e,t,r=!1){var n;let i=[t];for(;;){let e=i[0],t=Object.getPrototypeOf(e);if(!t?.prototype)break;i.unshift(t)}for(let t of i)for(let i of Object.getOwnPropertyNames(t.prototype))(r||"constructor"!==i)&&Object.defineProperty(e.prototype,i,null!==(n=Object.getOwnPropertyDescriptor(t.prototype,i))&&void 0!==n?n:Object.create(null))},e.nextTick="function"==typeof(null==_?void 0:_.nextTick)?_.nextTick:e=>{setTimeout(e,0)},e.MQTTJS_VERSION=Kn().version})),Qn=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=Gn();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.default=(r,n)=>{let{messageId:i}=n,o=n.cmd,s=null,a=r.outgoing[i]?r.outgoing[i].cb:null,l=null;if(a){switch(r.log("_handleAck :: packet type",o),o){case"pubcomp":case"puback":{let o=n.reasonCode;o&&o>0&&16!==o?(l=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[o]}`,o),r._removeOutgoingAndStoreMessage(i,(()=>{a(l,n)}))):r._removeOutgoingAndStoreMessage(i,a);break}case"pubrec":{s={cmd:"pubrel",qos:2,messageId:i};let o=n.reasonCode;o&&o>0&&16!==o?(l=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[o]}`,o),r._removeOutgoingAndStoreMessage(i,(()=>{a(l,n)}))):r._sendPacket(s);break}case"suback":{delete r.outgoing[i],r.messageIdProvider.deallocate(i);let t=n.granted;for(let n=0;n<t.length;n++){let o=t[n];if(128&o){l=new Error(`Subscribe error: ${e.ReasonCodes[o]}`),l.code=o;let t=r.messageIdToTopic[i];t&&t.forEach((e=>{delete r._resubscribeTopics[e]}))}}delete r.messageIdToTopic[i],r._invokeStoreProcessingQueue(),a(l,n);break}case"unsuback":delete r.outgoing[i],r.messageIdProvider.deallocate(i),r._invokeStoreProcessingQueue(),a(null);break;default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&0===Object.keys(r.outgoing).length&&r.emit("outgoingEmpty")}else r.log("_handleAck :: Server sent an ack in error. Ignoring.")}})),Yn=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gn(),r=Qn();e.default=(e,n)=>{let{options:i}=e,o=i.protocolVersion,s=5===o?n.reasonCode:n.returnCode;if(5===o)e.handleAuth(n,((n,i)=>{if(n)e.emit("error",n);else if(24===s)e.reconnecting=!1,e._sendPacket(i);else{let n=new t.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[s]}`,s);e.emit("error",n)}}));else{let r=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,s);e.emit("error",r)}}})),Jn=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,r=new Set,n="object"==typeof _&&_?_:{},i=(e,t,r,i)=>{"function"==typeof n.emitWarning&&n.emitWarning(e,t,r,i)},o=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof o>"u"){s=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},o=class{constructor(){t()}signal=new s;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(let t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==n.env?.LRU_CACHE_IGNORE_AC_WARNING,t=()=>{e&&(e=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");var a=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),l=e=>a(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(e){super(e),this.fill(0)}},u=class e{heap;length;static#e=!1;static create(t){let r=l(t);if(!r)return[];e.#e=!0;let n=new e(t,r);return e.#e=!1,n}constructor(t,r){if(!e.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},h=class e{#e;#t;#r;#n;#i;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#s;#a;#l;#c;#u;#h;#f;#p;#d;#g;#y;#m;#b;#w;#v;#_;static unsafeExposeInternals(e){return{starts:e.#m,ttls:e.#b,sizes:e.#y,keyMap:e.#a,keyList:e.#l,valList:e.#c,next:e.#u,prev:e.#h,get head(){return e.#f},get tail(){return e.#p},free:e.#d,isBackgroundFetch:t=>e.#S(t),backgroundFetch:(t,r,n,i)=>e.#E(t,r,n,i),moveToTail:t=>e.#A(t),indexes:t=>e.#I(t),rindexes:t=>e.#T(t),isStale:t=>e.#R(t)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#s}get size(){return this.#o}get fetchMethod(){return this.#i}get dispose(){return this.#r}get disposeAfter(){return this.#n}constructor(t){let{max:n=0,ttl:o,ttlResolution:s=1,ttlAutopurge:c,updateAgeOnGet:h,updateAgeOnHas:f,allowStale:p,dispose:d,disposeAfter:g,noDisposeOnSet:y,noUpdateTTL:m,maxSize:b=0,maxEntrySize:w=0,sizeCalculation:v,fetchMethod:_,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:I,ignoreFetchAbort:T}=t;if(0!==n&&!a(n))throw new TypeError("max option must be a nonnegative integer");let R=n?l(n):Array;if(!R)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=b,this.maxEntrySize=w||this.#t,this.sizeCalculation=v,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==_&&"function"!=typeof _)throw new TypeError("fetchMethod must be a function if specified");if(this.#i=_,this.#v=!!_,this.#a=new Map,this.#l=new Array(n).fill(void 0),this.#c=new Array(n).fill(void 0),this.#u=new R(n),this.#h=new R(n),this.#f=0,this.#p=0,this.#d=u.create(n),this.#o=0,this.#s=0,"function"==typeof d&&(this.#r=d),"function"==typeof g?(this.#n=g,this.#g=[]):(this.#n=void 0,this.#g=void 0),this.#w=!!this.#r,this.#_=!!this.#n,this.noDisposeOnSet=!!y,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!I,this.ignoreFetchAbort=!!T,0!==this.maxEntrySize){if(0!==this.#t&&!a(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!a(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#k()}if(this.allowStale=!!p,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!f,this.ttlResolution=a(s)||0===s?s:1,this.ttlAutopurge=!!c,this.ttl=o||0,this.ttl){if(!a(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let t="LRU_CACHE_UNBOUNDED";(e=>!r.has(e))(t)&&(r.add(t),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,e))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#O(){let e=new c(this.#e),r=new c(this.#e);this.#b=e,this.#m=r,this.#C=(n,i,o=t.now())=>{if(r[n]=0!==i?o:0,e[n]=i,0!==i&&this.ttlAutopurge){let e=setTimeout((()=>{this.#R(n)&&this.delete(this.#l[n])}),i+1);e.unref&&e.unref()}},this.#P=n=>{r[n]=0!==e[n]?t.now():0},this.#B=(t,o)=>{if(e[o]){let s=e[o],a=r[o];t.ttl=s,t.start=a,t.now=n||i();let l=t.now-a;t.remainingTTL=s-l}};let n=0,i=()=>{let e=t.now();if(this.ttlResolution>0){n=e;let t=setTimeout((()=>n=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=t=>{let o=this.#a.get(t);if(void 0===o)return 0;let s=e[o],a=r[o];return 0===s||0===a?1/0:s-((n||i())-a)},this.#R=t=>0!==e[t]&&0!==r[t]&&(n||i())-r[t]>e[t]}#P=()=>{};#B=()=>{};#C=()=>{};#R=()=>!1;#k(){let e=new c(this.#e);this.#s=0,this.#y=e,this.#x=t=>{this.#s-=e[t],e[t]=0},this.#N=(e,t,r,n)=>{if(this.#S(t))return 0;if(!a(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!a(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#M=(t,r,n)=>{if(e[t]=r,this.#t){let r=this.#t-e[t];for(;this.#s>r;)this.#L(!0)}this.#s+=e[t],n&&(n.entrySize=r,n.totalCalculatedSize=this.#s)}}#x=()=>{};#M=()=>{};#N=(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#I({allowStale:e=this.allowStale}={}){if(this.#o)for(let t=this.#p;this.#U(t)&&((e||!this.#R(t))&&(yield t),t!==this.#f);)t=this.#h[t]}*#T({allowStale:e=this.allowStale}={}){if(this.#o)for(let t=this.#f;this.#U(t)&&((e||!this.#R(t))&&(yield t),t!==this.#p);)t=this.#u[t]}#U(e){return void 0!==e&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#I())void 0!==this.#c[e]&&void 0!==this.#l[e]&&!this.#S(this.#c[e])&&(yield[this.#l[e],this.#c[e]])}*rentries(){for(let e of this.#T())void 0!==this.#c[e]&&void 0!==this.#l[e]&&!this.#S(this.#c[e])&&(yield[this.#l[e],this.#c[e]])}*keys(){for(let e of this.#I()){let t=this.#l[e];void 0!==t&&!this.#S(this.#c[e])&&(yield t)}}*rkeys(){for(let e of this.#T()){let t=this.#l[e];void 0!==t&&!this.#S(this.#c[e])&&(yield t)}}*values(){for(let e of this.#I())void 0!==this.#c[e]&&!this.#S(this.#c[e])&&(yield this.#c[e])}*rvalues(){for(let e of this.#T())void 0!==this.#c[e]&&!this.#S(this.#c[e])&&(yield this.#c[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(let r of this.#I()){let n=this.#c[r],i=this.#S(n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,this.#l[r],this))return this.get(this.#l[r],t)}}forEach(e,t=this){for(let r of this.#I()){let n=this.#c[r],i=this.#S(n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,this.#l[r],this)}}rforEach(e,t=this){for(let r of this.#T()){let n=this.#c[r],i=this.#S(n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,this.#l[r],this)}}purgeStale(){let e=!1;for(let t of this.#T({allowStale:!0}))this.#R(t)&&(this.delete(this.#l[t]),e=!0);return e}dump(){let e=[];for(let r of this.#I({allowStale:!0})){let n=this.#l[r],i=this.#c[r],o=this.#S(i)?i.__staleWhileFetching:i;if(void 0===o||void 0===n)continue;let s={value:o};if(this.#b&&this.#m){s.ttl=this.#b[r];let e=t.now()-this.#m[r];s.start=Math.floor(Date.now()-e)}this.#y&&(s.size=this.#y[r]),e.unshift([n,s])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let e=Date.now()-n.start;n.start=t.now()-e}this.set(r,n.value,n)}}set(e,t,r={}){if(void 0===t)return this.delete(e),this;let{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=r,{noUpdateTTL:l=this.noUpdateTTL}=r,c=this.#N(e,t,r.size||0,s);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let u=0===this.#o?void 0:this.#a.get(e);if(void 0===u)u=0===this.#o?this.#p:0!==this.#d.length?this.#d.pop():this.#o===this.#e?this.#L(!1):this.#o,this.#l[u]=e,this.#c[u]=t,this.#a.set(e,u),this.#u[this.#p]=u,this.#h[u]=this.#p,this.#p=u,this.#o++,this.#M(u,c,a),a&&(a.set="add"),l=!1;else{this.#A(u);let r=this.#c[u];if(t!==r){if(this.#v&&this.#S(r)){r.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:t}=r;void 0!==t&&!o&&(this.#w&&this.#r?.(t,e,"set"),this.#_&&this.#g?.push([t,e,"set"]))}else o||(this.#w&&this.#r?.(r,e,"set"),this.#_&&this.#g?.push([r,e,"set"]));if(this.#x(u),this.#M(u,c,a),this.#c[u]=t,a){a.set="replace";let e=r&&this.#S(r)?r.__staleWhileFetching:r;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0!==n&&!this.#b&&this.#O(),this.#b&&(l||this.#C(u,n,i),a&&this.#B(a,u)),!o&&this.#_&&this.#g){let e,t=this.#g;for(;e=t?.shift();)this.#n?.(...e)}return this}pop(){try{for(;this.#o;){let e=this.#c[this.#f];if(this.#L(!0),this.#S(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#_&&this.#g){let e,t=this.#g;for(;e=t?.shift();)this.#n?.(...e)}}}#L(e){let t=this.#f,r=this.#l[t],n=this.#c[t];return this.#v&&this.#S(n)?n.__abortController.abort(new Error("evicted")):(this.#w||this.#_)&&(this.#w&&this.#r?.(n,r,"evict"),this.#_&&this.#g?.push([n,r,"evict"])),this.#x(t),e&&(this.#l[t]=void 0,this.#c[t]=void 0,this.#d.push(t)),1===this.#o?(this.#f=this.#p=0,this.#d.length=0):this.#f=this.#u[t],this.#a.delete(r),this.#o--,t}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=this.#a.get(e);if(void 0!==i){let e=this.#c[i];if(this.#S(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#R(i))return r&&this.#P(i),n&&(n.has="hit",this.#B(n,i)),!0;n&&(n.has="stale",this.#B(n,i))}else n&&(n.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,n=this.#a.get(e);if(void 0!==n&&(r||!this.#R(n))){let e=this.#c[n];return this.#S(e)?e.__staleWhileFetching:e}}#E(e,t,r,n){let i=void 0===t?void 0:this.#c[t];if(this.#S(i))return i;let s=new o,{signal:a}=r;a?.addEventListener("abort",(()=>s.abort(a.reason)),{signal:s.signal});let l={signal:s.signal,options:r,context:n},c=(n,i=!1)=>{let{aborted:o}=s.signal,a=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,a&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!a&&!i)return u(s.signal.reason);let c=h;return this.#c[t]===h&&(void 0===n?c.__staleWhileFetching?this.#c[t]=c.__staleWhileFetching:this.delete(e):(r.status&&(r.status.fetchUpdated=!0),this.set(e,n,l.options))),n},u=n=>{let{aborted:i}=s.signal,o=i&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,c=h;if(this.#c[t]===h&&(l&&void 0!==c.__staleWhileFetching?o||(this.#c[t]=c.__staleWhileFetching):this.delete(e)),a)return r.status&&void 0!==c.__staleWhileFetching&&(r.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw n};r.status&&(r.status.fetchDispatched=!0);let h=new Promise(((t,n)=>{let o=this.#i?.(e,i,l);o&&o instanceof Promise&&o.then((e=>t(void 0===e?void 0:e)),n),s.signal.addEventListener("abort",(()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>c(e,!0)))}))})).then(c,(e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),u(e)))),f=Object.assign(h,{__abortController:s,__staleWhileFetching:i,__returned:void 0});return void 0===t?(this.set(e,f,{...l.options,status:void 0}),t=this.#a.get(e)):this.#c[t]=f,f}#S(e){if(!this.#v)return!1;let t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof o}async fetch(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:d,forceRefresh:g=!1,status:y,signal:m}=t;if(!this.#v)return y&&(y.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:y});let b={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:p,ignoreFetchAbort:f,status:y,signal:m},w=this.#a.get(e);if(void 0===w){y&&(y.fetch="miss");let t=this.#E(e,w,b,d);return t.__returned=t}{let t=this.#c[w];if(this.#S(t)){let e=r&&void 0!==t.__staleWhileFetching;return y&&(y.fetch="inflight",e&&(y.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}let i=this.#R(w);if(!g&&!i)return y&&(y.fetch="hit"),this.#A(w),n&&this.#P(w),y&&this.#B(y,w),t;let o=this.#E(e,w,b,d),s=void 0!==o.__staleWhileFetching&&r;return y&&(y.fetch=i?"stale":"refresh",s&&i&&(y.returnedStale=!0)),s?o.__staleWhileFetching:o.__returned=o}}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}=t,s=this.#a.get(e);if(void 0!==s){let t=this.#c[s],a=this.#S(t);return o&&this.#B(o,s),this.#R(s)?(o&&(o.get="stale"),a?(o&&r&&void 0!==t.__staleWhileFetching&&(o.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||this.delete(e),o&&r&&(o.returnedStale=!0),r?t:void 0)):(o&&(o.get="hit"),a?t.__staleWhileFetching:(this.#A(s),n&&this.#P(s),t))}o&&(o.get="miss")}#j(e,t){this.#h[t]=e,this.#u[e]=t}#A(e){e!==this.#p&&(e===this.#f?this.#f=this.#u[e]:this.#j(this.#h[e],this.#u[e]),this.#j(this.#p,e),this.#p=e)}delete(e){let t=!1;if(0!==this.#o){let r=this.#a.get(e);if(void 0!==r)if(t=!0,1===this.#o)this.clear();else{this.#x(r);let t=this.#c[r];this.#S(t)?t.__abortController.abort(new Error("deleted")):(this.#w||this.#_)&&(this.#w&&this.#r?.(t,e,"delete"),this.#_&&this.#g?.push([t,e,"delete"])),this.#a.delete(e),this.#l[r]=void 0,this.#c[r]=void 0,r===this.#p?this.#p=this.#h[r]:r===this.#f?this.#f=this.#u[r]:(this.#u[this.#h[r]]=this.#u[r],this.#h[this.#u[r]]=this.#h[r]),this.#o--,this.#d.push(r)}}if(this.#_&&this.#g?.length){let e,t=this.#g;for(;e=t?.shift();)this.#n?.(...e)}return t}clear(){for(let e of this.#T({allowStale:!0})){let t=this.#c[e];if(this.#S(t))t.__abortController.abort(new Error("deleted"));else{let r=this.#l[e];this.#w&&this.#r?.(t,r,"delete"),this.#_&&this.#g?.push([t,r,"delete"])}}if(this.#a.clear(),this.#c.fill(void 0),this.#l.fill(void 0),this.#b&&this.#m&&(this.#b.fill(0),this.#m.fill(0)),this.#y&&this.#y.fill(0),this.#f=0,this.#p=0,this.#d.length=0,this.#s=0,this.#o=0,this.#_&&this.#g){let e,t=this.#g;for(;e=t?.shift();)this.#n?.(...e)}}};e.LRUCache=h})),Xn=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0,e.ContainerIterator=class{constructor(e=0){this.iteratorType=e}equals(e){return this.o===e.o}};var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return 0===this.i}};e.Base=t,e.Container=class extends t{}})),Zn=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Xn(),r=class extends t.Base{constructor(e=[]){super(),this.S=[];let t=this;e.forEach((function(e){t.push(e)}))}clear(){this.i=0,this.S=[]}push(e){return this.S.push(e),this.i+=1,this.i}pop(){if(0!==this.i)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=r;e.default=n})),ei=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Xn(),r=class extends t.Base{constructor(e=[]){super(),this.j=0,this.q=[];let t=this;e.forEach((function(e){t.push(e)}))}clear(){this.q=[],this.i=this.j=0}push(e){let t=this.q.length;if(this.j/t>.5&&this.j+this.i>=t&&t>4096){let t=this.i;for(let e=0;e<t;++e)this.q[e]=this.q[this.j+e];this.j=0,this.q[this.i]=e}else this.q[this.j+this.i]=e;return++this.i}pop(){if(0===this.i)return;let e=this.q[this.j++];return this.i-=1,e}front(){if(0!==this.i)return this.q[this.j]}},n=r;e.default=n})),ti=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Xn(),r=class extends t.Base{constructor(e=[],t=function(e,t){return e>t?-1:e<t?1:0},r=!0){if(super(),this.v=t,Array.isArray(e))this.C=r?[...e]:e;else{this.C=[];let t=this;e.forEach((function(e){t.C.push(e)}))}this.i=this.C.length;let n=this.i>>1;for(let e=this.i-1>>1;e>=0;--e)this.k(e,n)}m(e){let t=this.C[e];for(;e>0;){let r=e-1>>1,n=this.C[r];if(this.v(n,t)<=0)break;this.C[e]=n,e=r}this.C[e]=t}k(e,t){let r=this.C[e];for(;e<t;){let t=e<<1|1,n=t+1,i=this.C[t];if(n<this.i&&this.v(i,this.C[n])>0&&(t=n,i=this.C[n]),this.v(i,r)>=0)break;this.C[e]=i,e=t}this.C[e]=r}clear(){this.i=0,this.C.length=0}push(e){this.C.push(e),this.m(this.i),this.i+=1}pop(){if(0===this.i)return;let e=this.C[0],t=this.C.pop();return this.i-=1,this.i&&(this.C[0]=t,this.k(0,this.i>>1)),e}top(){return this.C[0]}find(e){return this.C.indexOf(e)>=0}remove(e){let t=this.C.indexOf(e);return!(t<0||(0===t?this.pop():t===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(t,1,this.C.pop()),this.i-=1,this.m(t),this.k(t,this.i>>1)),0))}updateItem(e){let t=this.C.indexOf(e);return!(t<0||(this.m(t),this.k(t,this.i>>1),0))}toArray(){return[...this.C]}},n=r;e.default=n})),ri=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Xn(),r=class extends t.Container{};e.default=r})),ni=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=function(){throw new RangeError("Iterator access denied!")}})),ii=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=Xn(),r=ni(),n=class extends t.ContainerIterator{constructor(e,t){super(t),this.o=e,0===this.iteratorType?(this.pre=function(){return 0===this.o&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return-1===this.o&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(e){this.container.setElementByPos(this.o,e)}};e.RandomIterator=n})),oi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t,r=(t=ri())&&t.t?t:{default:t},n=ii(),i=class e extends n.RandomIterator{constructor(e,t,r){super(e,r),this.container=t}copy(){return new e(this.o,this.container,this.iteratorType)}},o=class extends r.default{constructor(e=[],t=!0){if(super(),Array.isArray(e))this.J=t?[...e]:e,this.i=e.length;else{this.J=[];let t=this;e.forEach((function(e){t.pushBack(e)}))}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J[e]}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J.splice(e,1),this.i-=1,this.i}eraseElementByValue(e){let t=0;for(let r=0;r<this.i;++r)this.J[r]!==e&&(this.J[t++]=this.J[r]);return this.i=this.J.length=t,this.i}eraseElementByIterator(e){let t=e.o;return e=e.next(),this.eraseElementByPos(t),e}pushBack(e){return this.J.push(e),this.i+=1,this.i}popBack(){if(0!==this.i)return this.i-=1,this.J.pop()}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;this.J[e]=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;return this.J.splice(e,0,...new Array(r).fill(t)),this.i+=r,this.i}find(e){for(let t=0;t<this.i;++t)if(this.J[t]===e)return new i(t,this);return this.end()}reverse(){this.J.reverse()}unique(){let e=1;for(let t=1;t<this.i;++t)this.J[t]!==this.J[t-1]&&(this.J[e++]=this.J[t]);return this.i=this.J.length=e,this.i}sort(e){this.J.sort(e)}forEach(e){for(let t=0;t<this.i;++t)e(this.J[t],t,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}},s=o;e.default=s})),si=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t,r=(t=ri())&&t.t?t:{default:t},n=Xn(),i=ni(),o=class e extends n.ContainerIterator{constructor(e,t,r,n){super(n),this.o=e,this.h=t,this.container=r,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l}set pointer(e){this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l=e}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends r.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let t=this;e.forEach((function(e){t.pushBack(e)}))}V(e){let{L:t,B:r}=e;t.B=r,r.L=t,e===this.p&&(this.p=r),e===this._&&(this._=t),this.i-=1}G(e,t){let r=t.B,n={l:e,L:t,B:r};t.B=n,r.L=n,t===this.h&&(this.p=n),r===this.h&&(this._=n),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return t.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return this.V(t),this.i}eraseElementByValue(e){let t=this.p;for(;t!==this.h;)t.l===e&&this.V(t),t=t.B;return this.i}eraseElementByIterator(e){let t=e.o;return t===this.h&&(0,i.throwIteratorAccessError)(),e=e.next(),this.V(t),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(0===this.i)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(0===this.i)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;r.l=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;if(r<=0)return this.i;if(0===e)for(;r--;)this.pushFront(t);else if(e===this.i)for(;r--;)this.pushBack(t);else{let n=this.p;for(let t=1;t<e;++t)n=n.B;let i=n.B;for(this.i+=r;r--;)n.B={l:t,L:n},n.B.L=n,n=n.B;n.B=i,i.L=n}return this.i}find(e){let t=this.p;for(;t!==this.h;){if(t.l===e)return new o(t,this.h,this);t=t.B}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,t=this._,r=0;for(;r<<1<this.i;){let n=e.l;e.l=t.l,t.l=n,e=e.B,t=t.L,r+=1}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let t=e;for(;t.B!==this.h&&t.l===t.B.l;)t=t.B,this.i-=1;e.B=t.B,e.B.L=e,e=e.B}return this.i}sort(e){if(this.i<=1)return;let t=[];this.forEach((function(e){t.push(e)})),t.sort(e);let r=this.p;t.forEach((function(e){r.l=e,r=r.B}))}merge(e){let t=this;if(0===this.i)e.forEach((function(e){t.pushBack(e)}));else{let r=this.p;e.forEach((function(e){for(;r!==t.h&&r.l<=e;)r=r.B;t.G(e,r.L)}))}return this.i}forEach(e){let t=this.p,r=0;for(;t!==this.h;)e(t.l,r++,this),t=t.B}[Symbol.iterator](){return function*(){if(0===this.i)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}.bind(this)()}},a=s;e.default=a})),ai=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t,r=(t=ri())&&t.t?t:{default:t},n=ii(),i=class e extends n.RandomIterator{constructor(e,t,r){super(e,r),this.container=t}copy(){return new e(this.o,this.container,this.iteratorType)}},o=class extends r.default{constructor(e=[],t=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let r=(()=>{if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("function"==typeof e.size)return e.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=t,this.P=Math.max(Math.ceil(r/this.F),1);for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));let n=Math.ceil(r/this.F);this.j=this.R=(this.P>>1)-(n>>1),this.D=this.N=this.F-r%this.F>>1;let i=this;e.forEach((function(e){i.pushBack(e)}))}T(){let e=[],t=Math.max(this.P>>1,1);for(let r=0;r<t;++r)e[r]=new Array(this.F);for(let t=this.j;t<this.P;++t)e[e.length]=this.A[t];for(let t=0;t<this.R;++t)e[e.length]=this.A[t];e[e.length]=[...this.A[this.R]],this.j=t,this.R=e.length-1;for(let r=0;r<t;++r)e[e.length]=new Array(this.F);this.A=e,this.P=e.length}O(e){let t=this.D+e+1,r=t%this.F,n=r-1,i=this.j+(t-r)/this.F;return 0===r&&(i-=1),i%=this.P,n<0&&(n+=this.F),{curNodeBucketIndex:i,curNodePointerIndex:n}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(0!==this.i)return this.A[this.j][this.D]}back(){if(0!==this.i)return this.A[this.R][this.N]}pushBack(e){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=e,this.i}popBack(){if(0===this.i)return;let e=this.A[this.R][this.N];return 1!==this.i&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,e}pushFront(e){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=e,this.i}popFront(){if(0===this.i)return;let e=this.A[this.j][this.D];return 1!==this.i&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,e}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:t,curNodePointerIndex:r}=this.O(e);return this.A[t][r]}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:r,curNodePointerIndex:n}=this.O(e);this.A[r][n]=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;if(0===e)for(;r--;)this.pushFront(t);else if(e===this.i)for(;r--;)this.pushBack(t);else{let n=[];for(let t=e;t<this.i;++t)n.push(this.getElementByPos(t));this.cut(e-1);for(let e=0;e<r;++e)this.pushBack(t);for(let e=0;e<n.length;++e)this.pushBack(n[e])}return this.i}cut(e){if(e<0)return this.clear(),0;let{curNodeBucketIndex:t,curNodePointerIndex:r}=this.O(e);return this.R=t,this.N=r,this.i=e+1,this.i}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;if(0===e)this.popFront();else if(e===this.i-1)this.popBack();else{let t=[];for(let r=e+1;r<this.i;++r)t.push(this.getElementByPos(r));this.cut(e),this.popBack();let r=this;t.forEach((function(e){r.pushBack(e)}))}return this.i}eraseElementByValue(e){if(0===this.i)return 0;let t=[];for(let r=0;r<this.i;++r){let n=this.getElementByPos(r);n!==e&&t.push(n)}let r=t.length;for(let e=0;e<r;++e)this.setElementByPos(e,t[e]);return this.cut(r-1)}eraseElementByIterator(e){let t=e.o;return this.eraseElementByPos(t),e.next()}find(e){for(let t=0;t<this.i;++t)if(this.getElementByPos(t)===e)return new i(t,this);return this.end()}reverse(){let e=0,t=this.i-1;for(;e<t;){let r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),e+=1,t-=1}}unique(){if(this.i<=1)return this.i;let e=1,t=this.getElementByPos(0);for(let r=1;r<this.i;++r){let n=this.getElementByPos(r);n!==t&&(t=n,this.setElementByPos(e++,n))}for(;this.i>e;)this.popBack();return this.i}sort(e){let t=[];for(let e=0;e<this.i;++e)t.push(this.getElementByPos(e));t.sort(e);for(let e=0;e<this.i;++e)this.setElementByPos(e,t[e])}shrinkToFit(){if(0===this.i)return;let e=[];this.forEach((function(t){e.push(t)})),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));for(let t=0;t<e.length;++t)this.pushBack(e[t])}forEach(e){for(let t=0;t<this.i;++t)e(this.getElementByPos(t),t,this)}[Symbol.iterator](){return function*(){for(let e=0;e<this.i;++e)yield this.getElementByPos(e)}.bind(this)()}},s=o;e.default=s})),li=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(e,t){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=e,this.l=t}L(){let e=this;if(1===e.ee&&e.tt.tt===e)e=e.W;else if(e.U)for(e=e.U;e.W;)e=e.W;else{let t=e.tt;for(;t.U===e;)e=t,t=e.tt;e=t}return e}B(){let e=this;if(e.W){for(e=e.W;e.U;)e=e.U;return e}{let t=e.tt;for(;t.W===e;)e=t,t=e.tt;return e.W!==t?t:e}}te(){let e=this.tt,t=this.W,r=t.U;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,t.U=this,this.tt=t,this.W=r,r&&(r.tt=this),t}se(){let e=this.tt,t=this.U,r=t.W;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,t.W=this,this.tt=t,this.U=r,r&&(r.tt=this),t}};e.TreeNode=t,e.TreeNodeEnableIndex=class extends t{constructor(){super(...arguments),this.rt=1}te(){let e=super.te();return this.ie(),e.ie(),e}se(){let e=super.se();return this.ie(),e.ie(),e}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}})),ci=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=li(),r=Xn(),n=ni(),i=class extends r.Container{constructor(e=function(e,t){return e<t?-1:e>t?1:0},r=!1){super(),this.Y=void 0,this.v=e,r?(this.re=t.TreeNodeEnableIndex,this.M=function(e,t,r){let n=this.ne(e,t,r);if(n){let e=n.tt;for(;e!==this.h;)e.rt+=1,e=e.tt;let t=this.he(n);if(t){let{parentNode:e,grandParent:r,curNode:n}=t;e.ie(),r.ie(),n.ie()}}return this.i},this.V=function(e){let t=this.fe(e);for(;t!==this.h;)t.rt-=1,t=t.tt}):(this.re=t.TreeNode,this.M=function(e,t,r){let n=this.ne(e,t,r);return n&&this.he(n),this.i},this.V=this.fe),this.h=new this.re}X(e,t){let r=this.h;for(;e;){let n=this.v(e.u,t);if(n<0)e=e.W;else{if(!(n>0))return e;r=e,e=e.U}}return r}Z(e,t){let r=this.h;for(;e;)this.v(e.u,t)<=0?e=e.W:(r=e,e=e.U);return r}$(e,t){let r=this.h;for(;e;){let n=this.v(e.u,t);if(n<0)r=e,e=e.W;else{if(!(n>0))return e;e=e.U}}return r}rr(e,t){let r=this.h;for(;e;)this.v(e.u,t)<0?(r=e,e=e.W):e=e.U;return r}ue(e){for(;;){let t=e.tt;if(t===this.h)return;if(1===e.ee)return void(e.ee=0);if(e===t.U){let r=t.W;if(1===r.ee)r.ee=0,t.ee=1,t===this.Y?this.Y=t.te():t.te();else{if(r.W&&1===r.W.ee)return r.ee=t.ee,t.ee=0,r.W.ee=0,void(t===this.Y?this.Y=t.te():t.te());r.U&&1===r.U.ee?(r.ee=1,r.U.ee=0,r.se()):(r.ee=1,e=t)}}else{let r=t.U;if(1===r.ee)r.ee=0,t.ee=1,t===this.Y?this.Y=t.se():t.se();else{if(r.U&&1===r.U.ee)return r.ee=t.ee,t.ee=0,r.U.ee=0,void(t===this.Y?this.Y=t.se():t.se());r.W&&1===r.W.ee?(r.ee=1,r.W.ee=0,r.te()):(r.ee=1,e=t)}}}}fe(e){if(1===this.i)return this.clear(),this.h;let t=e;for(;t.U||t.W;){if(t.W)for(t=t.W;t.U;)t=t.U;else t=t.U;[e.u,t.u]=[t.u,e.u],[e.l,t.l]=[t.l,e.l],e=t}this.h.U===t?this.h.U=t.tt:this.h.W===t&&(this.h.W=t.tt),this.ue(t);let r=t.tt;return t===r.U?r.U=void 0:r.W=void 0,this.i-=1,this.Y.ee=0,r}oe(e,t){return void 0!==e&&(!(!this.oe(e.U,t)&&!t(e))||this.oe(e.W,t))}he(e){for(;;){let t=e.tt;if(0===t.ee)return;let r=t.tt;if(t===r.U){let n=r.W;if(n&&1===n.ee){if(n.ee=t.ee=0,r===this.Y)return;r.ee=1,e=r;continue}if(e===t.W){if(e.ee=0,e.U&&(e.U.tt=t),e.W&&(e.W.tt=r),t.W=e.U,r.U=e.W,e.U=t,e.W=r,r===this.Y)this.Y=e,this.h.tt=e;else{let t=r.tt;t.U===r?t.U=e:t.W=e}return e.tt=r.tt,t.tt=e,r.tt=e,r.ee=1,{parentNode:t,grandParent:r,curNode:e}}t.ee=0,r===this.Y?this.Y=r.se():r.se(),r.ee=1}else{let n=r.U;if(n&&1===n.ee){if(n.ee=t.ee=0,r===this.Y)return;r.ee=1,e=r;continue}if(e===t.U){if(e.ee=0,e.U&&(e.U.tt=r),e.W&&(e.W.tt=t),r.W=e.U,t.U=e.W,e.U=r,e.W=t,r===this.Y)this.Y=e,this.h.tt=e;else{let t=r.tt;t.U===r?t.U=e:t.W=e}return e.tt=r.tt,t.tt=e,r.tt=e,r.ee=1,{parentNode:t,grandParent:r,curNode:e}}t.ee=0,r===this.Y?this.Y=r.te():r.te(),r.ee=1}return}}ne(e,t,r){if(void 0===this.Y)return this.i+=1,this.Y=new this.re(e,t),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,void(this.h.W=this.Y);let n,i=this.h.U,o=this.v(i.u,e);if(0!==o){if(o>0)i.U=new this.re(e,t),i.U.tt=i,n=i.U,this.h.U=n;else{let i=this.h.W,o=this.v(i.u,e);if(0===o)return void(i.l=t);if(o<0)i.W=new this.re(e,t),i.W.tt=i,n=i.W,this.h.W=n;else{if(void 0!==r){let i=r.o;if(i!==this.h){let r=this.v(i.u,e);if(0===r)return void(i.l=t);if(r>0){let r=i.L(),o=this.v(r.u,e);if(0===o)return void(r.l=t);o<0&&(n=new this.re(e,t),void 0===r.W?(r.W=n,n.tt=r):(i.U=n,n.tt=i))}}}if(void 0===n)for(n=this.Y;;){let r=this.v(n.u,e);if(r>0){if(void 0===n.U){n.U=new this.re(e,t),n.U.tt=n,n=n.U;break}n=n.U}else{if(!(r<0))return void(n.l=t);if(void 0===n.W){n.W=new this.re(e,t),n.W.tt=n,n=n.W;break}n=n.W}}}}return this.i+=1,n}i.l=t}I(e,t){for(;e;){let r=this.v(e.u,t);if(r<0)e=e.W;else{if(!(r>0))return e;e=e.U}}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(e,t){let r=e.o;if(r===this.h&&(0,n.throwIteratorAccessError)(),1===this.i)return r.u=t,!0;if(r===this.h.U)return this.v(r.B().u,t)>0&&(r.u=t,!0);if(r===this.h.W)return this.v(r.L().u,t)<0&&(r.u=t,!0);let i=r.L().u;if(this.v(i,t)>=0)return!1;let o=r.B().u;return!(this.v(o,t)<=0||(r.u=t,0))}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=0,r=this;return this.oe(this.Y,(function(n){return e===t?(r.V(n),!0):(t+=1,!1)})),this.i}eraseElementByKey(e){if(0===this.i)return!1;let t=this.I(this.Y,e);return t!==this.h&&(this.V(t),!0)}eraseElementByIterator(e){let t=e.o;t===this.h&&(0,n.throwIteratorAccessError)();let r=void 0===t.W;return 0===e.iteratorType?r&&e.next():(!r||void 0===t.U)&&e.next(),this.V(t),e}forEach(e){let t=0;for(let r of this)e(r,t++,this)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t,r=0;for(let n of this){if(r===e){t=n;break}r+=1}return t}getHeight(){if(0===this.i)return 0;let e=function(t){return t?Math.max(e(t.U),e(t.W))+1:0};return e(this.Y)}},o=i;e.default=o})),ui=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Xn(),r=ni(),n=class extends t.ContainerIterator{constructor(e,t,n){super(n),this.o=e,this.h=t,0===this.iteratorType?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let e=this.o,t=this.h.tt;if(e===this.h)return t?t.rt-1:0;let r=0;for(e.U&&(r+=e.U.rt);e!==t;){let t=e.tt;e===t.W&&(r+=1,t.U&&(r+=t.U.rt)),e=t}return r}},i=n;e.default=i})),hi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(ci()),r=i(ui()),n=ni();function i(e){return e&&e.t?e:{default:e}}var o=class e extends r.default{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(e=[],t,r){super(t,r);let n=this;e.forEach((function(e){n.insert(e)}))}*K(e){void 0!==e&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,t){return this.M(e,void 0,t)}find(e){let t=this.I(this.Y,e);return new o(t,this.h,this)}lowerBound(e){let t=this.X(this.Y,e);return new o(t,this.h,this)}upperBound(e){let t=this.Z(this.Y,e);return new o(t,this.h,this)}reverseLowerBound(e){let t=this.$(this.Y,e);return new o(t,this.h,this)}reverseUpperBound(e){let t=this.rr(this.Y,e);return new o(t,this.h,this)}union(e){let t=this;return e.forEach((function(e){t.insert(e)})),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a})),fi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(ci()),r=i(ui()),n=ni();function i(e){return e&&e.t?e:{default:e}}var o=class e extends r.default{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let e=this;return new Proxy([],{get:(t,r)=>"0"===r?e.o.u:"1"===r?e.o.l:void 0,set(t,r,n){if("1"!==r)throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(e=[],t,r){super(t,r);let n=this;e.forEach((function(e){n.setElement(e[0],e[1])}))}*K(e){void 0!==e&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(0===this.i)return;let e=this.h.U;return[e.u,e.l]}back(){if(0===this.i)return;let e=this.h.W;return[e.u,e.l]}lowerBound(e){let t=this.X(this.Y,e);return new o(t,this.h,this)}upperBound(e){let t=this.Z(this.Y,e);return new o(t,this.h,this)}reverseLowerBound(e){let t=this.$(this.Y,e);return new o(t,this.h,this)}reverseUpperBound(e){let t=this.rr(this.Y,e);return new o(t,this.h,this)}setElement(e,t,r){return this.M(e,t,r)}find(e){let t=this.I(this.Y,e);return new o(t,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let t=this;return e.forEach((function(e){t.setElement(e[0],e[1])})),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a})),pi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=function(e){let t=typeof e;return"object"===t&&null!==e||"function"===t}})),di=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t,r=Xn(),n=(t=pi())&&t.t?t:{default:t},i=ni(),o=class extends r.ContainerIterator{constructor(e,t,r){super(r),this.o=e,this.h=t,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=o;var s=class extends r.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(e){let{L:t,B:r}=e;t.B=r,r.L=t,e===this.p&&(this.p=r),e===this._&&(this._=t),this.i-=1}M(e,t,r){let i;if(void 0===r&&(r=(0,n.default)(e)),r){let r=e[this.HASH_TAG];if(void 0!==r)return this.H[r].l=t,this.i;Object.defineProperty(e,this.HASH_TAG,{value:this.H.length,configurable:!0}),i={u:e,l:t,L:this._,B:this.h},this.H.push(i)}else{let r=this.g[e];if(r)return r.l=t,this.i;i={u:e,l:t,L:this._,B:this.h},this.g[e]=i}return 0===this.i?(this.p=i,this.h.B=i):this._.B=i,this._=i,this.h.L=i,++this.i}I(e,t){if(void 0===t&&(t=(0,n.default)(e)),t){let t=e[this.HASH_TAG];return void 0===t?this.h:this.H[t]}return this.g[e]||this.h}clear(){let e=this.HASH_TAG;this.H.forEach((function(t){delete t.u[e]})),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(e,t){let r;if(void 0===t&&(t=(0,n.default)(e)),t){let t=e[this.HASH_TAG];if(void 0===t)return!1;delete e[this.HASH_TAG],r=this.H[t],delete this.H[t]}else{if(r=this.g[e],void 0===r)return!1;delete this.g[e]}return this.V(r),!0}eraseElementByIterator(e){let t=e.o;return t===this.h&&(0,i.throwIteratorAccessError)(),this.V(t),e.next()}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return this.V(t),this.i}};e.HashContainer=s})),gi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=di(),r=ni(),n=class e extends t.HashContainerIterator{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.HashContainer{constructor(e=[]){super();let t=this;e.forEach((function(e){t.insert(e)}))}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,t){return this.M(e,void 0,t)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return t.u}find(e,t){let r=this.I(e,t);return new n(r,this.h,this)}forEach(e){let t=0,r=this.p;for(;r!==this.h;)e(r.u,t++,this),r=r.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B}.bind(this)()}},o=i;e.default=o})),yi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t,r=di(),n=(t=pi())&&t.t?t:{default:t},i=ni(),o=class e extends r.HashContainerIterator{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let e=this;return new Proxy([],{get:(t,r)=>"0"===r?e.o.u:"1"===r?e.o.l:void 0,set(t,r,n){if("1"!==r)throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends r.HashContainer{constructor(e=[]){super();let t=this;e.forEach((function(e){t.setElement(e[0],e[1])}))}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(0!==this.i)return[this.p.u,this.p.l]}back(){if(0!==this.i)return[this._.u,this._.l]}setElement(e,t,r){return this.M(e,t,r)}getElementByKey(e,t){if(void 0===t&&(t=(0,n.default)(e)),t){let t=e[this.HASH_TAG];return void 0!==t?this.H[t].l:void 0}let r=this.g[e];return r?r.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return[t.u,t.l]}find(e,t){let r=this.I(e,t);return new o(r,this.h,this)}forEach(e){let t=0,r=this.p;for(;r!==this.h;)e([r.u,r.l],t++,this),r=r.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}.bind(this)()}},a=s;e.default=a})),mi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return i.default}});var t=h(Zn()),r=h(ei()),n=h(ti()),i=h(oi()),o=h(si()),s=h(ai()),a=h(hi()),l=h(fi()),c=h(gi()),u=h(yi());function h(e){return e&&e.t?e:{default:e}}})),bi=m(((e,t)=>{v(),ht(),Je();var r=mi().OrderedSet,n=Nn()("number-allocator:trace"),i=Nn()("number-allocator:error");function o(e,t){this.low=e,this.high=t}function s(e,t){if(!(this instanceof s))return new s(e,t);this.min=e,this.max=t,this.ss=new r([],((e,t)=>e.compare(t))),n("Create"),this.clear()}o.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},o.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},s.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},s.prototype.alloc=function(){if(0===this.ss.size())return n("alloc():empty"),null;let e=this.ss.begin(),t=e.pointer.low,r=e.pointer.high,i=t;return i+1<=r?this.ss.updateKeyByIterator(e,new o(t+1,r)):this.ss.eraseElementByPos(0),n("alloc():"+i),i},s.prototype.use=function(e){let t=new o(e,e),r=this.ss.lowerBound(t);if(!r.equals(this.ss.end())){let i=r.pointer.low,s=r.pointer.high;return r.pointer.equals(t)?(this.ss.eraseElementByIterator(r),n("use():"+e),!0):!(i>e||(i===e?(this.ss.updateKeyByIterator(r,new o(i+1,s)),n("use():"+e),0):s===e?(this.ss.updateKeyByIterator(r,new o(i,s-1)),n("use():"+e),0):(this.ss.updateKeyByIterator(r,new o(e+1,s)),this.ss.insert(new o(i,e-1)),n("use():"+e),0)))}return n("use():failed"),!1},s.prototype.free=function(e){if(e<this.min||e>this.max)return void i("free():"+e+" is out of range");let t=new o(e,e),r=this.ss.upperBound(t);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin()))return void this.ss.insert(t);r.pre();let n=r.pointer.high;r.pointer.high+1===e?this.ss.updateKeyByIterator(r,new o(n,e)):this.ss.insert(t)}else if(r.equals(this.ss.begin()))if(e+1===r.pointer.low){let t=r.pointer.high;this.ss.updateKeyByIterator(r,new o(e,t))}else this.ss.insert(t);else{let n=r.pointer.low,i=r.pointer.high;r.pre();let s=r.pointer.low;r.pointer.high+1===e?e+1===n?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new o(s,i))):this.ss.updateKeyByIterator(r,new o(s,e)):e+1===n?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new o(e,i))):this.ss.insert(t)}n("free():"+e)},s.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){for(let e of this.ss);},t.exports=s})),wi=m(((e,t)=>{v(),ht(),Je();var r=bi();t.exports.NumberAllocator=r})),vi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0});var t=Jn(),r=wi();e.default=class{constructor(e){e>0&&(this.aliasToTopic=new t.LRUCache({max:e}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,e),this.max=e,this.length=0)}put(e,t){if(0===t||t>this.max)return!1;let r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.size,!0}getTopicByAlias(e){return this.aliasToTopic.get(e)}getAliasByTopic(e){let t=this.topicToAlias[e];return typeof t<"u"&&this.aliasToTopic.get(t),t}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}}})),_i=m((e=>{v(),ht(),Je();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qn(),n=t(vi()),i=Gn();e.default=(e,t)=>{e.log("_handleConnack");let{options:o}=e,s=5===o.protocolVersion?t.reasonCode:t.returnCode;if(clearTimeout(e.connackTimer),delete e.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535)return void e.emit("error",new Error("topicAliasMaximum from broker is out of range"));t.properties.topicAliasMaximum>0&&(e.topicAliasSend=new n.default(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&o.keepalive&&(o.keepalive=t.properties.serverKeepAlive),t.properties.maximumPacketSize&&(o.properties||(o.properties={}),o.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===s)e.reconnecting=!1,e._onConnect(t);else if(s>0){let t=new i.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[s]}`,s);e.emit("error",t)}}})),Si=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=(e,t,r)=>{e.log("handling pubrel packet");let n=typeof r<"u"?r:e.noop,{messageId:i}=t,o={cmd:"pubcomp",messageId:i};e.incomingStore.get(t,((t,r)=>{t?e._sendPacket(o,n):(e.emit("message",r.topic,r.payload,r),e.handleMessage(r,(t=>{if(t)return n(t);e.incomingStore.del(r,e.noop),e._sendPacket(o,n)})))}))}})),Ei=m((e=>{v(),ht(),Je();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t($n()),n=t(Yn()),i=t(_i()),o=t(Qn()),s=t(Si());e.default=(e,t,a)=>{let{options:l}=e;if(5===l.protocolVersion&&l.properties&&l.properties.maximumPacketSize&&l.properties.maximumPacketSize<t.length)return e.emit("error",new Error(`exceeding packets size ${t.cmd}`)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",t),t.cmd){case"publish":(0,r.default)(e,t,a);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,o.default)(e,t),a();break;case"pubrel":e.reschedulePing(),(0,s.default)(e,t,a);break;case"connack":(0,i.default)(e,t),a();break;case"auth":e.reschedulePing(),(0,n.default)(e,t),a();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),a();break;case"disconnect":e.emit("disconnect",t),a();break;default:e.log("_handlePacket :: unknown command"),a()}}})),Ai=m((e=>{v(),ht(),Je();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var r=t(($t(),w(Dt))),n=Gn(),i=class{};e.TypedEventEmitter=i,(0,n.applyMixin)(i,r.default)})),Ii=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t,r=()=>{var e,t;return!("object"!=typeof self||null===(t=null===(e=self?.constructor)||void 0===e?void 0:e.name)||void 0===t||!t.includes("WorkerGlobalScope"))},n=()=>typeof navigator<"u"&&"ReactNative"===navigator.product,i=typeof self<"u"&&(typeof navigator<"u"&&(null===(t=navigator.userAgent)||void 0===t?void 0:t.toLowerCase().indexOf(" electron/"))>-1&&null!=_&&_.versions?!Object.prototype.hasOwnProperty.call(_.versions,"electron"):typeof self.document<"u")||r()||n();e.isWebWorker=r(),e.isReactNativeBrowser=n(),e.default=i})),Ti=m(((e,t)=>{var n,i;v(),ht(),Je(),n=e,i=function(e){var t,r=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,i=2*n,o=new WeakMap,s=function(e,t){return function(o){var s=t.get(o),a=void 0===s?o.size:s<i?s+1:0;if(!o.has(a))return e(o,a);if(o.size<n){for(;o.has(a);)a=Math.floor(Math.random()*i);return e(o,a)}if(o.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;o.has(a);)a=Math.floor(Math.random()*r);return e(o,a)}}((t=o,function(e,r){return t.set(e,r),r}),o),a=function(e){return function(t){var r=e(t);return t.add(r),r}}(s);e.addUniqueNumber=a,e.generateUniqueNumber=s},"object"==typeof e&&typeof t<"u"?i(e):"function"==typeof define&&r.amdO?define(["exports"],i):i((n=typeof globalThis<"u"?globalThis:n||self).fastUniqueNumbers={})})),Ri=m(((e,t)=>{var n,i;v(),ht(),Je(),n=e,i=function(e,t){e.load=function(e){var r=new Map([[0,function(){}]]),n=new Map([[0,function(){}]]),i=new Map,o=new Worker(e);return o.addEventListener("message",(function(e){var t=e.data;if(function(e){return void 0!==e.method&&"call"===e.method}(t)){var o=t.params,s=o.timerId,a=o.timerType;if("interval"===a){var l=r.get(s);if("number"==typeof l){var c=i.get(l);if(void 0===c||c.timerId!==s||c.timerType!==a)throw new Error("The timer is in an undefined state.")}else{if(!(typeof l<"u"))throw new Error("The timer is in an undefined state.");l()}}else if("timeout"===a){var u=n.get(s);if("number"==typeof u){var h=i.get(u);if(void 0===h||h.timerId!==s||h.timerType!==a)throw new Error("The timer is in an undefined state.")}else{if(!(typeof u<"u"))throw new Error("The timer is in an undefined state.");u(),n.delete(s)}}}else{if(!function(e){return null===e.error&&"number"==typeof e.id}(t)){var f=t.error.message;throw new Error(f)}var p=t.id,d=i.get(p);if(void 0===d)throw new Error("The timer is in an undefined state.");var g=d.timerId,y=d.timerType;i.delete(p),"interval"===y?r.delete(g):n.delete(g)}})),{clearInterval:function(e){var n=t.generateUniqueNumber(i);i.set(n,{timerId:e,timerType:"interval"}),r.set(e,n),o.postMessage({id:n,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:function(e){var r=t.generateUniqueNumber(i);i.set(r,{timerId:e,timerType:"timeout"}),n.set(e,r),o.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.generateUniqueNumber(r);return r.set(i,(function(){e(),"function"==typeof r.get(i)&&o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:i,timerType:"interval"}})})),o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:i,timerType:"interval"}}),i},setTimeout:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.generateUniqueNumber(n);return n.set(i,e),o.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:i,timerType:"timeout"}}),i}}}},"object"==typeof e&&typeof t<"u"?i(e,Ti()):"function"==typeof define&&r.amdO?define(["exports","fast-unique-numbers"],i):i((n=typeof globalThis<"u"?globalThis:n||self).workerTimersBroker={},n.fastUniqueNumbers)})),ki=m(((e,t)=>{var n,i;v(),ht(),Je(),n=e,i=function(e,t){var r,n,i=(r=t.load,n=null,function(){if(null!==n)return n;var e=new Blob(['(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error(\'The given type "\'.concat(c,\'" is not supported\'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error(\'The given method "\'.concat(t.method,\'" is not supported\'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error(\'The given type "\'.concat(v,\'" is not supported\'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();'],{type:"application/javascript; charset=utf-8"}),t=URL.createObjectURL(e);return n=r(t),setTimeout((function(){return URL.revokeObjectURL(t)})),n});e.clearInterval=function(e){return i().clearInterval(e)},e.clearTimeout=function(e){return i().clearTimeout(e)},e.setInterval=function(){var e;return(e=i()).setInterval.apply(e,arguments)},e.setTimeout=function(){var e;return(e=i()).setTimeout.apply(e,arguments)}},"object"==typeof e&&typeof t<"u"?i(e,Ri()):"function"==typeof define&&r.amdO?define(["exports","worker-timers-broker"],i):i((n=typeof globalThis<"u"?globalThis:n||self).workerTimers={},n.workerTimersBroker)})),Oi=m((e=>{v(),ht(),Je();var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0});var i=n(Ii()),o=ki(),s={set:o.setInterval,clear:o.clearInterval},a={set:(e,t)=>setInterval(e,t),clear:e=>clearInterval(e)};e.default=e=>{switch(e){case"native":return a;case"worker":return s;default:return!i.default||i.isWebWorker||i.isReactNativeBrowser?a:s}}})),Ci=m((e=>{v(),ht(),Je();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(Oi());e.default=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(e,t){this.destroyed=!1,this.client=e,this.timer="object"==typeof t&&"set"in t&&"clear"in t?t:(0,r.default)(t),this.setKeepalive(e.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(e){if(e*=1e3,isNaN(e)||e<=0||e>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${e}`);this._keepalive=e,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${e}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let e=Math.ceil(1.5*this._keepalive);this._keepaliveTimeoutTimestamp=Date.now()+e,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set((()=>{this.destroyed||(this.counter+=1,2===this.counter?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())}),this._intervalEvery)}}})),Pi=m((e=>{v(),ht(),Je();var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(ft()),s=i(Fn()),a=i(Wn()),l=Tn(),c=i(qn()),u=n(Vn()),h=i(Nn()),f=i(zn()),p=i(Ei()),d=Gn(),g=Ai(),y=i(Ci()),m=n(Ii()),b=globalThis.setImmediate||((...e)=>{let t=e.shift();(0,d.nextTick)((()=>{t(...e)}))}),w={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},_=class e extends g.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(t,r){super(),this.options=r||{};for(let e in w)typeof this.options[e]>"u"?this.options[e]=w[e]:this.options[e]=r[e];this.log=this.options.log||(0,h.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",e.VERSION),m.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",m.default?"browser":"node"),this.log("MqttClient :: options.protocol",r.protocol),this.log("MqttClient :: options.protocolVersion",r.protocolVersion),this.log("MqttClient :: options.username",r.username),this.log("MqttClient :: options.keepalive",r.keepalive),this.log("MqttClient :: options.reconnectPeriod",r.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",r.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",r.properties?r.properties.topicAliasMaximum:void 0),this.options.clientId="string"==typeof r.clientId?r.clientId:e.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===r.protocolVersion&&r.customHandleAcks?r.customHandleAcks:(...e)=>{e[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=t,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=r.outgoingStore||new f.default,this.incomingStore=r.incomingStore||new f.default,this.queueQoSZero=void 0===r.queueQoSZero||r.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,r.properties&&r.properties.topicAliasMaximum>0&&(r.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new o.default(r.properties.topicAliasMaximum)),this.on("connect",(()=>{let{queue:e}=this,t=()=>{let r=e.shift();this.log("deliver :: entry %o",r);let n=null;if(!r)return void this._resubscribe();n=r.packet,this.log("deliver :: call _sendPacket for %o",n);let i=!0;n.messageId&&0!==n.messageId&&(this.messageIdProvider.register(n.messageId)||(i=!1)),i?this._sendPacket(n,(e=>{r.cb&&r.cb(e),t()})):(this.log("messageId: %d has already used. The message is skipped and removed.",n.messageId),t())};this.log("connect :: sending queued packets"),t()})),this.on("close",(()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()})),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(e,t){t()}handleMessage(e,t){t()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var e;let t=new l.Writable,r=s.default.parser(this.options),n=null,i=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",(e=>{this.log("parser :: on packet push to packets array."),i.push(e)}));let o=()=>{this.log("work :: getting next packet in queue");let e=i.shift();if(e)this.log("work :: packet pulled from queue"),(0,p.default)(this,e,a);else{this.log("work :: no packets in queue");let e=n;n=null,this.log("work :: done flag is %s",!!e),e&&e()}},a=()=>{if(i.length)(0,d.nextTick)(o);else{let e=n;n=null,e()}};t._write=(e,t,i)=>{n=i,this.log("writable stream :: parsing buffer"),r.parse(e),o()},this.log("connect :: pipe stream to writable stream"),this.stream.pipe(t),this.stream.on("error",(e=>{this.log("streamErrorHandler :: error",e.message),e.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",e)):this.noop(e)})),this.stream.on("close",(()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")})),this.log("connect: sending packet `connect`");let c={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(c.will=Object.assign(Object.assign({},this.options.will),{payload:null===(e=this.options.will)||void 0===e?void 0:e.payload})),this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(c),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end((()=>this.emit("error",new Error("Packet has no Authentication Method")))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket){let e=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(e)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)}),this.options.connectTimeout),this}publish(e,t,r,n){this.log("publish :: message `%s` to topic `%s`",t,e);let{options:i}=this;"function"==typeof r&&(n=r,r=null),r=r||{},r=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),r);let{qos:o,retain:s,dup:a,properties:l,cbStorePut:c}=r;if(this._checkDisconnecting(n))return this;let u=()=>{let r=0;if((1===o||2===o)&&(r=this._nextId(),null===r))return this.log("No messageId left"),!1;let u={cmd:"publish",topic:e,payload:t,qos:o,retain:s,messageId:r,dup:a};switch(5===i.protocolVersion&&(u.properties=l),this.log("publish :: qos",o),o){case 1:case 2:this.outgoing[u.messageId]={volatile:!1,cb:n||this.noop},this.log("MqttClient:publish: packet cmd: %s",u.cmd),this._sendPacket(u,void 0,c);break;default:this.log("MqttClient:publish: packet cmd: %s",u.cmd),this._sendPacket(u,n,c)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!u())&&this._storeProcessingQueue.push({invoke:u,cbStorePut:r.cbStorePut,callback:n}),this}publishAsync(e,t,r){return new Promise(((n,i)=>{this.publish(e,t,r,((e,t)=>{e?i(e):n(t)}))}))}subscribe(e,t,r){let n=this.options.protocolVersion;"function"==typeof t&&(r=t),r=r||this.noop;let i=!1,o=[];"string"==typeof e?o=e=[e]:Array.isArray(e)?o=e:"object"==typeof e&&(i=e.resubscribe,delete e.resubscribe,o=Object.keys(e));let s=u.validateTopics(o);if(null!==s)return b(r,new Error(`Invalid topic ${s}`)),this;if(this._checkDisconnecting(r))return this.log("subscribe: discconecting true"),this;let a={qos:0};5===n&&(a.nl=!1,a.rap=!1,a.rh=0);let l=(t=Object.assign(Object.assign({},a),t)).properties,c=[],h=(e,r)=>{if(r=r||t,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,e)||this._resubscribeTopics[e].qos<r.qos||i){let t={topic:e,qos:r.qos};5===n&&(t.nl=r.nl,t.rap=r.rap,t.rh=r.rh,t.properties=l),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),c.push(t)}};if(Array.isArray(e)?e.forEach((e=>{this.log("subscribe: array topic %s",e),h(e)})):Object.keys(e).forEach((t=>{this.log("subscribe: object topic %s, %o",t,e[t]),h(t,e[t])})),!c.length)return r(null,[]),this;let f=()=>{let e=this._nextId();if(null===e)return this.log("No messageId left"),!1;let t={cmd:"subscribe",subscriptions:c,messageId:e};if(l&&(t.properties=l),this.options.resubscribe){this.log("subscribe :: resubscribe true");let e=[];c.forEach((t=>{if(this.options.reconnectPeriod>0){let r={qos:t.qos};5===n&&(r.nl=t.nl||!1,r.rap=t.rap||!1,r.rh=t.rh||0,r.properties=t.properties),this._resubscribeTopics[t.topic]=r,e.push(t.topic)}})),this.messageIdToTopic[t.messageId]=e}return this.outgoing[t.messageId]={volatile:!0,cb(e,t){if(!e){let{granted:e}=t;for(let t=0;t<e.length;t+=1)c[t].qos=e[t]}r(e,c)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(t),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!f())&&this._storeProcessingQueue.push({invoke:f,callback:r}),this}subscribeAsync(e,t){return new Promise(((r,n)=>{this.subscribe(e,t,((e,t)=>{e?n(e):r(t)}))}))}unsubscribe(e,t,r){"string"==typeof e&&(e=[e]),"function"==typeof t&&(r=t),r=r||this.noop;let n=u.validateTopics(e);if(null!==n)return b(r,new Error(`Invalid topic ${n}`)),this;if(this._checkDisconnecting(r))return this;let i=()=>{let n=this._nextId();if(null===n)return this.log("No messageId left"),!1;let i={cmd:"unsubscribe",messageId:n,unsubscriptions:[]};return"string"==typeof e?i.unsubscriptions=[e]:Array.isArray(e)&&(i.unsubscriptions=e),this.options.resubscribe&&i.unsubscriptions.forEach((e=>{delete this._resubscribeTopics[e]})),"object"==typeof t&&t.properties&&(i.properties=t.properties),this.outgoing[i.messageId]={volatile:!0,cb:r},this.log("unsubscribe: call _sendPacket"),this._sendPacket(i),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!i())&&this._storeProcessingQueue.push({invoke:i,callback:r}),this}unsubscribeAsync(e,t){return new Promise(((r,n)=>{this.unsubscribe(e,t,((e,t)=>{e?n(e):r(t)}))}))}end(e,t,r){this.log("end :: (%s)",this.options.clientId),(null==e||"boolean"!=typeof e)&&(r=r||t,t=e,e=!1),"object"!=typeof t&&(r=r||t,t=null),this.log("end :: cb? %s",!!r),(!r||"function"!=typeof r)&&(r=this.noop);let n=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close((e=>{this.outgoingStore.close((t=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),r){let n=e||t;this.log("end :: closeStores: invoking callback with args"),r(n)}}))})),this._deferredReconnect?this._deferredReconnect():(0===this.options.reconnectPeriod||this.options.manualConnect)&&(this.disconnecting=!1)},i=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,e),this._cleanUp(e,(()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,d.nextTick)(n)}),t)};return this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,i,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),i()),this)}endAsync(e,t){return new Promise(((r,n)=>{this.end(e,t,(e=>{e?n(e):r()}))}))}removeOutgoingMessage(e){if(this.outgoing[e]){let{cb:t}=this.outgoing[e];this._removeOutgoingAndStoreMessage(e,(()=>{t(new Error("Message removed"))}))}return this}reconnect(e){this.log("client reconnect");let t=()=>{e?(this.options.incomingStore=e.incomingStore,this.options.outgoingStore=e.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=t:t(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach((e=>{this.outgoing[e].volatile&&"function"==typeof this.outgoing[e].cb&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e])})))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach((e=>{"function"==typeof this.outgoing[e].cb&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e])})))}_removeTopicAliasAndRecoverTopicName(e){let t;e.properties&&(t=e.properties.topicAlias);let r=e.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",t,r),0===r.length){if(typeof t>"u")return new Error("Unregistered Topic Alias");if(r=this.topicAliasSend.getTopicByAlias(t),typeof r>"u")return new Error("Unregistered Topic Alias");e.topic=r}t&&delete e.properties.topicAlias}_checkDisconnecting(e){return this.disconnecting&&(e&&e!==this.noop?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((()=>{this.connect()})),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval((()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()}),this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(e,t,r={}){if(t&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),this.log("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let e=Object.assign({cmd:"disconnect"},r);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(e,(()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),b((()=>{this.stream.end((()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)}))}))}))}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),t&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())}_storeAndSend(e,t,r){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let n,i=e;if("publish"===i.cmd&&(i=(0,c.default)(e),n=this._removeTopicAliasAndRecoverTopicName(i),n))return t&&t(n);this.outgoingStore.put(i,(n=>{if(n)return t&&t(n);r(),this._writePacket(e,t)}))}_applyTopicAlias(e){if(5===this.options.protocolVersion&&"publish"===e.cmd){let t;e.properties&&(t=e.properties.topicAlias);let r=e.topic.toString();if(this.topicAliasSend)if(t){if(0!==r.length&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",r,t),!this.topicAliasSend.put(r,t)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,t),new Error("Sending Topic Alias out of range")}else 0!==r.length&&(this.options.autoAssignTopicAlias?(t=this.topicAliasSend.getAliasByTopic(r),t?(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",r,t)):(t=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(r,t),e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",r,t))):this.options.autoUseTopicAlias&&(t=this.topicAliasSend.getAliasByTopic(r),t&&(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",r,t))));else if(t)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,t),new Error("Sending Topic Alias out of range")}}_noop(e){this.log("noop ::",e)}_writePacket(e,t){this.log("_writePacket :: packet: %O",e),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",e),this.log("_writePacket :: writing to stream");let r=s.default.writeToStream(e,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",r),!r&&t&&t!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",t)):t&&(this.log("_writePacket :: invoking cb"),t())}_sendPacket(e,t,r,n){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||this.noop,t=t||this.noop;let i=this._applyTopicAlias(e);if(i)t(i);else{if(!this.connected)return"auth"===e.cmd?void this._writePacket(e,t):(this.log("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,r));if(n)this._writePacket(e,t);else{switch(e.cmd){case"publish":break;case"pubrel":return void this._storeAndSend(e,t,r);default:return void this._writePacket(e,t)}switch(e.qos){case 2:case 1:this._storeAndSend(e,t,r);break;default:this._writePacket(e,t)}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}}}_storePacket(e,t,r){this.log("_storePacket :: packet: %o",e),this.log("_storePacket :: cb? %s",!!t),r=r||this.noop;let n=e;if("publish"===n.cmd){n=(0,c.default)(e);let r=this._removeTopicAliasAndRecoverTopicName(n);if(r)return t&&t(r)}let i=n.qos||0;0===i&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:t}):i>0?(t=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,(e=>{if(e)return t&&t(e);r()}))):t&&t(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new y.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(e=!1){this.keepaliveManager&&this.options.keepalive&&(e||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){this.log("_resubscribe: protocolVersion 5");for(let t=0;t<e.length;t++){let r={};r[e[t]]=this._resubscribeTopics[e[t]],r.resubscribe=!0,this.subscribe(r,{properties:r[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(e){if(this.disconnected)return void this.emit("connect",e);this.connackPacket=e,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let t=()=>{let r=this.outgoingStore.createStream(),n=()=>{r.destroy(),r=null,this._flushStoreProcessingQueue(),i()},i=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",n),r.on("error",(e=>{i(),this._flushStoreProcessingQueue(),this.removeListener("close",n),this.emit("error",e)}));let o=()=>{if(!r)return;let e,t=r.read(1);t?(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[t.messageId]?o():this.disconnecting||this.reconnectTimer?r.destroy&&r.destroy():(e=this.outgoing[t.messageId]?this.outgoing[t.messageId].cb:null,this.outgoing[t.messageId]={volatile:!1,cb(t,r){e&&e(t,r),o()}},this._packetIdsDuringStoreProcessing[t.messageId]=!0,this.messageIdProvider.register(t.messageId)?this._sendPacket(t,void 0,void 0,!0):this.log("messageId: %d has already used.",t.messageId))):r.once("readable",o)};r.on("end",(()=>{let r=!0;for(let e in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[e]){r=!1;break}this.removeListener("close",n),r?(i(),this._invokeAllStoreProcessingQueue(),this.emit("connect",e)):t()})),o()};t()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(e,t){delete this.outgoing[e],this.outgoingStore.del({messageId:e},((r,n)=>{t(r,n),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue()}))}};_.VERSION=d.MQTTJS_VERSION,e.default=_})),Bi=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0});var t=wi();e.default=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(e){return this.numberAllocator.use(e)}deallocate(e){this.numberAllocator.free(e)}clear(){this.numberAllocator.clear()}}}));function xi(e){throw new RangeError(Di[e])}function Ni(e,t){let r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){let r=[],n=e.length;for(;n--;)r[n]=t(e[n]);return r}((e=e.replace(ji,".")).split("."),t).join(".")}function Mi(e){let t=[],r=0,n=e.length;for(;r<n;){let i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let n=e.charCodeAt(r++);56320==(64512&n)?t.push(((1023&i)<<10)+(1023&n)+65536):(t.push(i),r--)}else t.push(i)}return t}var Li,Ui,ji,Di,Fi,Wi,Hi,qi,Vi,zi,$i,Ki=y((()=>{v(),ht(),Je(),Li=/^xn--/,Ui=/[^\0-\x7E]/,ji=/[\x2E\u3002\uFF0E\uFF61]/g,Di={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Fi=Math.floor,Wi=String.fromCharCode,Hi=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},qi=function(e,t,r){let n=0;for(e=r?Fi(e/700):e>>1,e+=Fi(e/t);e>455;n+=36)e=Fi(e/35);return Fi(n+36*e/(e+38))},Vi=function(e){let t=[],r=e.length,n=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let r=0;r<s;++r)e.charCodeAt(r)>=128&&xi("not-basic"),t.push(e.charCodeAt(r));for(let l=s>0?s+1:0;l<r;){let s=n;for(let t=1,i=36;;i+=36){l>=r&&xi("invalid-input");let s=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(s>=36||s>Fi((2147483647-n)/t))&&xi("overflow"),n+=s*t;let c=i<=o?1:i>=o+26?26:i-o;if(s<c)break;let u=36-c;t>Fi(2147483647/u)&&xi("overflow"),t*=u}let c=t.length+1;o=qi(n-s,c,0==s),Fi(n/c)>2147483647-i&&xi("overflow"),i+=Fi(n/c),n%=c,t.splice(n++,0,i)}var a;return String.fromCodePoint(...t)},zi=function(e){let t=[],r=(e=Mi(e)).length,n=128,i=0,o=72;for(let r of e)r<128&&t.push(Wi(r));let s=t.length,a=s;for(s&&t.push("-");a<r;){let r=2147483647;for(let t of e)t>=n&&t<r&&(r=t);let l=a+1;r-n>Fi((2147483647-i)/l)&&xi("overflow"),i+=(r-n)*l,n=r;for(let r of e)if(r<n&&++i>2147483647&&xi("overflow"),r==n){let e=i;for(let r=36;;r+=36){let n=r<=o?1:r>=o+26?26:r-o;if(e<n)break;let i=e-n,s=36-n;t.push(Wi(Hi(n+i%s,0))),e=Fi(i/s)}t.push(Wi(Hi(e,0))),o=qi(i,l,a==s),i=0,++a}++i,++n}return t.join("")},($i={version:"2.1.0",ucs2:{decode:Mi,encode:e=>String.fromCodePoint(...e)},decode:Vi,encode:zi,toASCII:function(e){return Ni(e,(function(e){return Ui.test(e)?"xn--"+zi(e):e}))},toUnicode:function(e){return Ni(e,(function(e){return Li.test(e)?Vi(e.slice(4).toLowerCase()):e}))}}).toASCII,$i.toUnicode,$i.ucs2,$i.version}));function Gi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Qi,Yi,Ji,Xi,Zi=y((()=>{v(),ht(),Je(),Qi=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var c,u,h,f,p=e[l].replace(o,"%20"),d=p.indexOf(r);d>=0?(c=p.substr(0,d),u=p.substr(d+1)):(c=p,u=""),h=decodeURIComponent(c),f=decodeURIComponent(u),Gi(i,h)?Array.isArray(i[h])?i[h].push(f):i[h]=[i[h],f]:i[h]=f}return i},Yi=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Ji=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var i=encodeURIComponent(Yi(n))+r;return Array.isArray(e[n])?e[n].map((function(e){return i+encodeURIComponent(Yi(e))})).join(t):i+encodeURIComponent(Yi(e[n]))})).join(t):n?encodeURIComponent(Yi(n))+r+encodeURIComponent(Yi(e)):""},(Xi={}).decode=Xi.parse=Qi,Xi.encode=Xi.stringify=Ji,Xi.decode,Xi.encode,Xi.parse,Xi.stringify}));function eo(){throw new Error("setTimeout has not been defined")}function to(){throw new Error("clearTimeout has not been defined")}function ro(e){if(lo===setTimeout)return setTimeout(e,0);if((lo===eo||!lo)&&setTimeout)return lo=setTimeout,setTimeout(e,0);try{return lo(e,0)}catch{try{return lo.call(null,e,0)}catch{return lo.call(this||uo,e,0)}}}function no(){go&&fo&&(go=!1,fo.length?po=fo.concat(po):yo=-1,po.length&&io())}function io(){if(!go){var e=ro(no);go=!0;for(var t=po.length;t;){for(fo=po,po=[];++yo<t;)fo&&fo[yo].run();yo=-1,t=po.length}fo=null,go=!1,function(e){if(co===clearTimeout)return clearTimeout(e);if((co===to||!co)&&clearTimeout)return co=clearTimeout,clearTimeout(e);try{co(e)}catch{try{return co.call(null,e)}catch{return co.call(this||uo,e)}}}(e)}}function oo(e,t){(this||uo).fun=e,(this||uo).array=t}function so(){}var ao,lo,co,uo,ho,fo,po,go,yo,mo,bo,wo,vo,_o,So,Eo,Ao,Io=y((()=>{v(),ht(),Je(),uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:r.g,ho=ao={},function(){try{lo="function"==typeof setTimeout?setTimeout:eo}catch{lo=eo}try{co="function"==typeof clearTimeout?clearTimeout:to}catch{co=to}}(),po=[],go=!1,yo=-1,ho.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];po.push(new oo(e,t)),1!==po.length||go||ro(io)},oo.prototype.run=function(){(this||uo).fun.apply(null,(this||uo).array)},ho.title="browser",ho.browser=!0,ho.env={},ho.argv=[],ho.version="",ho.versions={},ho.on=so,ho.addListener=so,ho.once=so,ho.off=so,ho.removeListener=so,ho.removeAllListeners=so,ho.emit=so,ho.prependListener=so,ho.prependOnceListener=so,ho.listeners=function(){return[]},ho.binding=function(){throw new Error("process.binding is not supported")},ho.cwd=function(){return"/"},ho.chdir=function(){throw new Error("process.chdir is not supported")},ho.umask=function(){return 0},(mo=ao).binding,mo.browser,mo.chdir,mo.cwd,mo.emit,mo.env,mo.listeners,mo.nextTick,mo.off,mo.on,mo.once,mo.prependListener,mo.prependOnceListener,mo.removeAllListeners,mo.removeListener,mo.title,mo.umask,mo.version,mo.versions})),To=y((()=>{v(),ht(),Je(),bo={},wo=!1,vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:r.g,(_o=function(){if(wo)return bo;wo=!0;var e,t,r=bo={};function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch{try{return e.call(null,t,0)}catch{return e.call(this||vo,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch{e=n}try{t="function"==typeof clearTimeout?clearTimeout:i}catch{t=i}}();var s,a=[],l=!1,c=-1;function u(){!l||!s||(l=!1,s.length?a=s.concat(a):c=-1,a.length&&h())}function h(){if(!l){var e=o(u);l=!0;for(var r=a.length;r;){for(s=a,a=[];++c<r;)s&&s[c].run();c=-1,r=a.length}s=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{return t(e)}catch{try{return t.call(null,e)}catch{return t.call(this||vo,e)}}}(e)}}function f(e,t){(this||vo).fun=e,(this||vo).array=t}function p(){}return r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new f(e,t)),1===a.length&&!l&&o(h)},f.prototype.run=function(){(this||vo).fun.apply(null,(this||vo).array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(){return[]},r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},bo}()).platform="browser",_o.addListener,_o.argv,_o.binding,_o.browser,_o.chdir,_o.cwd,_o.emit,_o.env,_o.listeners,_o.nextTick,_o.off,_o.on,_o.once,_o.prependListener,_o.prependOnceListener,_o.removeAllListeners,_o.removeListener,_o.title,_o.umask,_o.version,_o.versions})),Ro=y((()=>{v(),ht(),Je(),To(),So={},Eo=!1,Ao=function(){if(Eo)return So;Eo=!0;var e=_o;function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var n,i="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var a;s>=0?a=arguments[s]:(void 0===n&&(n=e.cwd()),a=n),t(a),0!==a.length&&(i=a+"/"+i,o=47===a.charCodeAt(0))}return i=r(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0===(e=r(e,!n)).length&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var l=r.length-a,c=s<l?s:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===r.charCodeAt(a+h))return r.slice(a+h+1);if(0===h)return r.slice(a+h)}else s>c&&(47===e.charCodeAt(i+h)?u=h:0===h&&(u=0));break}var f=e.charCodeAt(i+h);if(f!==r.charCodeAt(a+h))break;47===f&&(u=h)}var p="";for(h=i+u+1;h<=o;++h)(h===o||47===e.charCodeAt(h))&&(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(a+u):(a+=u,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(r=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===l&&(s=!1,l=n+1),a>=0&&(c===r.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===i&&(o=!1,i=a+1),46===l?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){n=a+1;break}}return-1===r||-1===i||0===s||1===s&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var s=-1,a=0,l=-1,c=!0,u=e.length-1,h=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){a=u+1;break}return-1===s||-1===l||0===h||1===h&&s===l-1&&s===a+1?-1!==l&&(r.base=r.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(r.name=e.slice(1,s),r.base=e.slice(1,l)):(r.name=e.slice(a,s),r.base=e.slice(a,l)),r.ext=e.slice(s,l)),a>0?r.dir=e.slice(0,a-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,So=n}()})),ko={};function Oo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Co(e,t,r){if(e&&Uo.isObject(e)&&e instanceof Oo)return e;var n=new Oo;return n.parse(e,t,r),n}function Po(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return os?function(e){let t=e.hostname,r=e.pathname;for(let e=0;e<r.length;e++)if("%"===r[e]){let t=r.codePointAt(e+2)||32;if("2"===r[e+1]&&102===t||"5"===r[e+1]&&99===t)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(ss,"\\"),r=decodeURIComponent(r),""!==t)return`\\\\${t}${r}`;{let e=32|r.codePointAt(1),t=r[2];if(e<ns||e>is||":"!==t)throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}(e):function(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let e=0;e<t.length;e++)if("%"===t[e]){let r=t.codePointAt(e+2)||32;if("2"===t[e+1]&&102===r)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}(e)}function Bo(e){let t=Zo.resolve(e),r=e.charCodeAt(e.length-1);(r===rs||os&&r===ts)&&t[t.length-1]!==Zo.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(as,"%25")),!os&&t.includes("\\")&&(t=t.replace(ls,"%5C")),t.includes("\n")&&(t=t.replace(cs,"%0A")),t.includes("\r")&&(t=t.replace(us,"%0D")),t.includes("\t")&&(t=t.replace(hs,"%09")),n.pathname=t,n}function xo(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return Es?function(e){let t=e.hostname,r=e.pathname;for(let e=0;e<r.length;e++)if("%"===r[e]){let t=r.codePointAt(e+2)||32;if("2"===r[e+1]&&102===t||"5"===r[e+1]&&99===t)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(As,"\\"),r=decodeURIComponent(r),""!==t)return`\\\\${t}${r}`;{let e=32|r.codePointAt(1),t=r[2];if(e<_s||e>Ss||":"!==t)throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}(e):function(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let e=0;e<t.length;e++)if("%"===t[e]){let r=t.codePointAt(e+2)||32;if("2"===t[e+1]&&102===r)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}(e)}function No(e){let t=Ao.resolve(e),r=e.charCodeAt(e.length-1);(r===vs||Es&&r===ws)&&t[t.length-1]!==Ao.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(Is,"%25")),!Es&&t.includes("\\")&&(t=t.replace(Ts,"%5C")),t.includes("\n")&&(t=t.replace(Rs,"%0A")),t.includes("\r")&&(t=t.replace(ks,"%0D")),t.includes("\t")&&(t=t.replace(Os,"%09")),n.pathname=t,n}b(ko,{URL:()=>bs,Url:()=>ps,default:()=>Mo,fileURLToPath:()=>xo,format:()=>ds,parse:()=>ms,pathToFileURL:()=>No,resolve:()=>gs,resolveObject:()=>ys});var Mo,Lo,Uo,jo,Do,Fo,Wo,Ho,qo,Vo,zo,$o,Ko,Go,Qo,Yo,Jo,Xo,Zo,es,ts,rs,ns,is,os,ss,as,ls,cs,us,hs,fs,ps,ds,gs,ys,ms,bs,ws,vs,_s,Ss,Es,As,Is,Ts,Rs,ks,Os,Cs=y((()=>{v(),ht(),Je(),Ki(),Zi(),Io(),Ro(),To(),Lo=$i,Uo={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},(Mo={}).parse=Co,Mo.resolve=function(e,t){return Co(e,!1,!0).resolve(t)},Mo.resolveObject=function(e,t){return e?Co(e,!1,!0).resolveObject(t):t},Mo.format=function(e){return Uo.isString(e)&&(e=Co(e)),e instanceof Oo?e.format():Oo.prototype.format.call(e)},Mo.Url=Oo,jo=/^([a-z0-9.+-]+:)/i,Do=/:[0-9]*$/,Fo=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Wo=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Ho=["'"].concat(Wo),qo=["%","/","?",";","#"].concat(Ho),Vo=["/","?","#"],zo=/^[+a-z0-9A-Z_-]{0,63}$/,$o=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ko={javascript:!0,"javascript:":!0},Go={javascript:!0,"javascript:":!0},Qo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Yo=Xi,Oo.prototype.parse=function(e,t,r){if(!Uo.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!r&&1===e.split("#").length){var a=Fo.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Yo.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=jo.exec(s);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===s.substr(0,2);!u||l&&Go[l]||(s=s.substr(2),this.slashes=!0)}if(!Go[l]&&(u||l&&!Qo[l])){for(var h,f,p=-1,d=0;d<Vo.length;d++)-1!==(g=s.indexOf(Vo[d]))&&(-1===p||g<p)&&(p=g);for(-1!==(f=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(h=s.slice(0,f),s=s.slice(f+1),this.auth=decodeURIComponent(h)),p=-1,d=0;d<qo.length;d++){var g;-1!==(g=s.indexOf(qo[d]))&&(-1===p||g<p)&&(p=g)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var m=this.hostname.split(/\./),b=(d=0,m.length);d<b;d++){var w=m[d];if(w&&!w.match(zo)){for(var v="",_=0,S=w.length;_<S;_++)w.charCodeAt(_)>127?v+="x":v+=w[_];if(!v.match(zo)){var E=m.slice(0,d),A=m.slice(d+1),I=w.match($o);I&&(E.push(I[1]),A.unshift(I[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=Lo.toASCII(this.hostname));var T=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+T,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!Ko[c])for(d=0,b=Ho.length;d<b;d++){var k=Ho[d];if(-1!==s.indexOf(k)){var O=encodeURIComponent(k);O===k&&(O=escape(k)),s=s.split(k).join(O)}}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var P=s.indexOf("?");if(-1!==P?(this.search=s.substr(P),this.query=s.substr(P+1),t&&(this.query=Yo.parse(this.query)),s=s.slice(0,P)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Qo[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){T=this.pathname||"";var B=this.search||"";this.path=T+B}return this.href=this.format(),this},Oo.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Uo.isObject(this.query)&&Object.keys(this.query).length&&(o=Yo.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Qo[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},Oo.prototype.resolve=function(e){return this.resolveObject(Co(e,!1,!0)).format()},Oo.prototype.resolveObject=function(e){if(Uo.isString(e)){var t=new Oo;t.parse(e,!1,!0),e=t}for(var r=new Oo,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(r[l]=e[l])}return Qo[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Qo[e.protocol]){for(var c=Object.keys(e),u=0;u<c.length;u++){var h=c[u];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Go[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",d=r.search||"";r.path=p+d}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=y||g||r.host&&e.pathname,b=m,w=r.pathname&&r.pathname.split("/")||[],v=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Qo[r.protocol]);if(v&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),m=m&&(""===f[0]||""===w[0])),y)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),r.search=e.search,r.query=e.query;else if(!Uo.isNullOrUndefined(e.search))return v&&(r.hostname=r.host=w.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=e.search,r.query=e.query,Uo.isNull(r.pathname)&&Uo.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var _=w.slice(-1)[0],S=(r.host||e.host||w.length>1)&&("."===_||".."===_)||""===_,E=0,A=w.length;A>=0;A--)"."===(_=w[A])?w.splice(A,1):".."===_?(w.splice(A,1),E++):E&&(w.splice(A,1),E--);if(!m&&!b)for(;E--;E)w.unshift("..");!m||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var I,T=""===w[0]||w[0]&&"/"===w[0].charAt(0);return v&&(r.hostname=r.host=T?"":w.length?w.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),(m=m||r.host&&w.length)&&!T&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),Uo.isNull(r.pathname)&&Uo.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Oo.prototype.parseHost=function(){var e=this.host,t=Do.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Mo.Url,Mo.format,Mo.resolve,Mo.resolveObject,Jo={},Xo=!1,Zo=function(){if(Xo)return Jo;Xo=!0;var e=mo;function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var n,i="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var a;s>=0?a=arguments[s]:(void 0===n&&(n=e.cwd()),a=n),t(a),0!==a.length&&(i=a+"/"+i,o=47===a.charCodeAt(0))}return i=r(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0===(e=r(e,!n)).length&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var l=r.length-a,c=s<l?s:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===r.charCodeAt(a+h))return r.slice(a+h+1);if(0===h)return r.slice(a+h)}else s>c&&(47===e.charCodeAt(i+h)?u=h:0===h&&(u=0));break}var f=e.charCodeAt(i+h);if(f!==r.charCodeAt(a+h))break;47===f&&(u=h)}var p="";for(h=i+u+1;h<=o;++h)(h===o||47===e.charCodeAt(h))&&(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(a+u):(a+=u,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(r=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===l&&(s=!1,l=n+1),a>=0&&(c===r.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===i&&(o=!1,i=a+1),46===l?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){n=a+1;break}}return-1===r||-1===i||0===s||1===s&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var s=-1,a=0,l=-1,c=!0,u=e.length-1,h=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){a=u+1;break}return-1===s||-1===l||0===h||1===h&&s===l-1&&s===a+1?-1!==l&&(r.base=r.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(r.name=e.slice(1,s),r.base=e.slice(1,l)):(r.name=e.slice(a,s),r.base=e.slice(a,l)),r.ext=e.slice(s,l)),a>0?r.dir=e.slice(0,a-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Jo=n}(),es=typeof Deno<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,Mo.URL=typeof URL<"u"?URL:null,Mo.pathToFileURL=Bo,Mo.fileURLToPath=Po,Mo.Url,Mo.format,Mo.resolve,Mo.resolveObject,Mo.URL,ts=92,rs=47,ns=97,is=122,os="win32"===es,ss=/\//g,as=/%/g,ls=/\\/g,cs=/\n/g,us=/\r/g,hs=/\t/g,fs=typeof Deno<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,Mo.URL=typeof URL<"u"?URL:null,Mo.pathToFileURL=No,Mo.fileURLToPath=xo,ps=Mo.Url,ds=Mo.format,gs=Mo.resolve,ys=Mo.resolveObject,ms=Mo.parse,bs=Mo.URL,ws=92,vs=47,_s=97,Ss=122,Es="win32"===fs,As=/\//g,Is=/%/g,Ts=/\\/g,Rs=/\n/g,ks=/\r/g,Os=/\t/g})),Ps=m(((e,t)=>{v(),ht(),Je(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}})),Bs=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var t=Tn(),r=(ut(),w(Xe));function n(e,t){let n=new Array(e.length);for(let t=0;t<e.length;t++)"string"==typeof e[t].chunk?n[t]=r.Buffer.from(e[t].chunk,"utf8"):n[t]=e[t].chunk;this._write(r.Buffer.concat(n),"binary",t)}e.writev=n;var i=class extends t.Duplex{constructor(e,t,r){super({objectMode:!0}),this.proxy=t,this.socket=r,this.writeQueue=[],e.objectMode||(this._writev=n.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",(e=>{this.destroyed||this.push(e)}))}_read(e){this.proxy.read(e)}_write(e,t,r){this.isSocketOpen?this.writeToProxy(e,t,r):this.writeQueue.push({chunk:e,encoding:t,cb:r})}_final(e){this.writeQueue=[],this.proxy.end(e)}_destroy(e,t){this.writeQueue=[],this.proxy.destroy(),t(e)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(e,t,r){!1===this.proxy.write(e,t)?this.proxy.once("drain",r):r()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:e,encoding:t,cb:r}=this.writeQueue.shift();this.writeToProxy(e,t,r)}}};e.BufferedDuplex=i})),xs=m((e=>{v(),ht(),Je();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var r=(ut(),w(Xe)),n=t(Ps()),i=t(Nn()),o=Tn(),s=t(Ii()),a=Bs(),l=(0,i.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function u(e,t){let r=`${e.protocol}://${e.hostname}:${e.port}${e.path}`;return"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function h(e){let t=e;return e.port||("wss"===e.protocol?t.port=443:t.port=80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),!s.default&&!e.forceNativeWebSocket&&"wss"===e.protocol&&c.forEach((r=>{Object.prototype.hasOwnProperty.call(e,r)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,r)&&(t.wsOptions[r]=e[r])})),t}e.streamBuilder=(e,t)=>{l("streamBuilder");let r=h(t);r.hostname=r.hostname||r.host||"localhost";let i=u(r,e),o=function(e,t,r){l("createWebSocket"),l(`protocol: ${r.protocolId} ${r.protocolVersion}`);let i,o="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";return l(`creating new Websocket for url: ${t} and protocol: ${o}`),i=r.createWebsocket?r.createWebsocket(t,[o],r):new n.default(t,[o],r.wsOptions),i}(0,i,r),s=n.default.createWebSocketStream(o,r.wsOptions);return s.url=i,o.on("close",(()=>{s.destroy()})),s},e.browserStreamBuilder=(e,t)=>{l("browserStreamBuilder");let n,i=function(e){let t=h(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let e=new URL(document.URL);t.hostname=e.hostname,t.port||(t.port=Number(e.port))}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,s=t.browserBufferTimeout||1e3,c=!t.objectMode,f=function(e,t){let r,n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",i=u(t,e);return r=t.createWebsocket?t.createWebsocket(i,[n],t):new WebSocket(i,[n]),r.binaryType="arraybuffer",r}(e,t),p=function(e){let t=new o.Transform({objectMode:e.objectMode});return t._write=function e(t,n,o){if(f.bufferedAmount>i)setTimeout(e,s,t,n,o);else{c&&"string"==typeof t&&(t=r.Buffer.from(t,"utf8"));try{f.send(t)}catch(e){return o(e)}o()}},t._flush=function(e){f.close(),e()},t}(t);t.objectMode||(p._writev=a.writev.bind(p)),p.on("close",(()=>{f.close()}));let d=typeof f.addEventListener<"u";function g(){l("WebSocket onOpen"),n instanceof a.BufferedDuplex&&n.socketReady()}function y(e){l("WebSocket onClose",e),n.end(),n.destroy()}function m(e){l("WebSocket onError",e);let t=new Error("WebSocket error");t.event=e,n.destroy(t)}function b(e){let{data:t}=e;t=t instanceof ArrayBuffer?r.Buffer.from(t):r.Buffer.from(t,"utf8"),p&&!p.destroyed&&p.push(t)}return f.readyState===f.OPEN?(n=p,n.socket=f):(n=new a.BufferedDuplex(t,p,f),d?f.addEventListener("open",g):f.onopen=g),d?(f.addEventListener("close",y),f.addEventListener("error",m),f.addEventListener("message",b)):(f.onclose=y,f.onerror=m,f.onmessage=b),n}})),Ns={};function Ms(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}b(Ns,{Server:()=>Ms,Socket:()=>Ms,Stream:()=>Ms,_createServerHandle:()=>Ms,_normalizeArgs:()=>Ms,_setSimultaneousAccepts:()=>Ms,connect:()=>Ms,createConnection:()=>Ms,createServer:()=>Ms,default:()=>Ls,isIP:()=>Ms,isIPv4:()=>Ms,isIPv6:()=>Ms});var Ls,Us=y((()=>{v(),ht(),Je(),Ls={_createServerHandle:Ms,_normalizeArgs:Ms,_setSimultaneousAccepts:Ms,connect:Ms,createConnection:Ms,createServer:Ms,isIP:Ms,isIPv4:Ms,isIPv6:Ms,Server:Ms,Socket:Ms,Stream:Ms}})),js=m((e=>{v(),ht(),Je();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((Us(),w(Ns))),n=(0,t(Nn()).default)("mqttjs:tcp");e.default=(e,t)=>{t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost";let{port:i,path:o}=t,s=t.hostname;return n("port %d and host %s",i,s),r.default.createConnection({port:i,host:s,path:o})}})),Ds={};b(Ds,{default:()=>Fs});var Fs,Ws=y((()=>{v(),ht(),Je(),Fs={}})),Hs=m((e=>{v(),ht(),Je();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((Ws(),w(Ds))),n=t((Us(),w(Ns))),i=(0,t(Nn()).default)("mqttjs:tls");e.default=(e,t)=>{t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",0===n.default.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,i("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);let o=r.default.connect(t);function s(r){t.rejectUnauthorized&&e.emit("error",r),o.end()}return o.on("secureConnect",(()=>{t.rejectUnauthorized&&!o.authorized?o.emit("error",new Error("TLS not authorized")):o.removeListener("error",s)})),o.on("error",s),o}})),qs=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0});var t,r,n,i=(ut(),w(Xe)),o=Tn(),s=Bs();e.default=(e,a)=>{if(a.hostname=a.hostname||a.host,!a.hostname)throw new Error("Could not determine host. Specify host manually.");let l="MQIsdp"===a.protocolId&&3===a.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(a);let c=function(e,t){let r="wxs"===e.protocol?"wss":"ws",n=`${r}://${e.hostname}${e.path}`;return e.port&&80!==e.port&&443!==e.port&&(n=`${r}://${e.hostname}:${e.port}${e.path}`),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(a,e);t=wx.connectSocket({url:c,protocols:[l]}),r=function(){let e=new o.Transform;return e._write=(e,r,n)=>{t.send({data:e.buffer,success(){n()},fail(e){n(new Error(e))}})},e._flush=e=>{t.close({success(){e()}})},e}(),(n=new s.BufferedDuplex(a,r,t))._destroy=(e,r)=>{t.close({success(){r&&r(e)}})};let u=n.destroy;return n.destroy=(e,r)=>(n.destroy=u,setTimeout((()=>{t.close({fail(){n._destroy(e,r)}})}),0),n),t.onOpen((()=>{n.socketReady()})),t.onMessage((e=>{let{data:t}=e;t=t instanceof ArrayBuffer?i.Buffer.from(t):i.Buffer.from(t,"utf8"),r.push(t)})),t.onClose((()=>{n.emit("close"),n.end(),n.destroy()})),t.onError((e=>{let t=new Error(e.errMsg);n.destroy(t)})),n}})),Vs=m((e=>{v(),ht(),Je(),Object.defineProperty(e,"__esModule",{value:!0});var t,r,n,i=(ut(),w(Xe)),o=Tn(),s=Bs(),a=!1;e.default=(e,l)=>{if(l.hostname=l.hostname||l.host,!l.hostname)throw new Error("Could not determine host. Specify host manually.");let c="MQIsdp"===l.protocolId&&3===l.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(l);let u=function(e,t){let r="alis"===e.protocol?"wss":"ws",n=`${r}://${e.hostname}${e.path}`;return e.port&&80!==e.port&&443!==e.port&&(n=`${r}://${e.hostname}:${e.port}${e.path}`),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(l,e);return(t=l.my).connectSocket({url:u,protocols:c}),r=function(){let e=new o.Transform;return e._write=(e,r,n)=>{t.sendSocketMessage({data:e.buffer,success(){n()},fail(){n(new Error)}})},e._flush=e=>{t.closeSocket({success(){e()}})},e}(),n=new s.BufferedDuplex(l,r,t),a||(a=!0,t.onSocketOpen((()=>{n.socketReady()})),t.onSocketMessage((e=>{if("string"==typeof e.data){let t=i.Buffer.from(e.data,"base64");r.push(t)}else{let t=new FileReader;t.addEventListener("load",(()=>{let e=t.result;e=e instanceof ArrayBuffer?i.Buffer.from(e):i.Buffer.from(e,"utf8"),r.push(e)})),t.readAsArrayBuffer(e.data)}})),t.onSocketClose((()=>{n.end(),n.destroy()})),t.onSocketError((e=>{n.destroy(e)}))),n}})),zs=m((e=>{v(),ht(),Je();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var r=t(Nn()),n=t((Cs(),w(ko))),i=t(Pi()),o=t(Ii());"function"!=typeof(null==_?void 0:_.nextTick)&&(_.nextTick=setImmediate);var s=(0,r.default)("mqttjs"),a=null;function l(e,t){var r,l,c,u;if(s("connecting to an MQTT broker..."),"object"==typeof e&&!t&&(t=e,e=""),t=t||{},e&&"string"==typeof e){let i=n.default.parse(e,!0),o={};if(null!=i.port&&(o.port=Number(i.port)),o.host=i.hostname,o.query=i.query,o.auth=i.auth,o.protocol=i.protocol,o.path=i.path,o.protocol=null===(r=o.protocol)||void 0===r?void 0:r.replace(/:$/,""),!(t=Object.assign(Object.assign({},o),t)).protocol)throw new Error("Missing protocol")}if(t.unixSocket=t.unixSocket||(null===(l=t.protocol)||void 0===l?void 0:l.includes("+unix")),t.unixSocket?t.protocol=t.protocol.replace("+unix",""):null!==(c=t.protocol)&&void 0!==c&&c.startsWith("ws")||null!==(u=t.protocol)&&void 0!==u&&u.startsWith("wx")||delete t.path,function(e){let t;e.auth&&(t=e.auth.match(/^(.+):(.+)$/),t?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${t.protocol}"!`)}}if(a||(a={},o.default||t.forceNativeWebSocket?(a.ws=xs().browserStreamBuilder,a.wss=xs().browserStreamBuilder,a.wx=qs().default,a.wxs=qs().default,a.ali=Vs().default,a.alis=Vs().default):(a.ws=xs().streamBuilder,a.wss=xs().streamBuilder,a.mqtt=js().default,a.tcp=js().default,a.ssl=Hs().default,a.tls=a.ssl,a.mqtts=Hs().default)),!a[t.protocol]){let e=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(((t,r)=>(!e||r%2!=0)&&"function"==typeof a[t]))[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");t.protocol&&(t.defaultProtocol=t.protocol);let h=new i.default((function(e){return t.servers&&((!e._reconnectCount||e._reconnectCount===t.servers.length)&&(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),s("calling streambuilder for",t.protocol),a[t.protocol](e,t)}),t);return h.on("error",(()=>{})),h}e.connectAsync=function(e,t,r=!0){return new Promise(((n,i)=>{let o=l(e,t),s={connect:()=>{a(),n(o)},end:()=>{a(),n(o)},error:e=>{a(),o.end(),i(e)}};function a(){Object.keys(s).forEach((e=>{o.off(e,s[e])}))}!1===r&&(s.close=()=>{s.error(new Error("Couldn't connect to server"))}),Object.keys(s).forEach((e=>{o.on(e,s[e])}))}))},e.default=l})),$s=m((e=>{v(),ht(),Je();var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)},o=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var s=o(Pi());e.MqttClient=s.default;var a=o(Wn());e.DefaultMessageIdProvider=a.default;var l=o(Bi());e.UniqueMessageIdProvider=l.default;var c=o(zn());e.Store=c.default;var u=n(zs());e.connect=u.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return u.connectAsync}});var h=o(Ci());e.KeepaliveManager=h.default,e.Client=s.default,i(Pi(),e),i(Gn(),e);var f=Qn();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return f.ReasonCodes}})})),Ks=m((e=>{v(),ht(),Je();var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0});var o=n($s());e.default=o,i($s(),e)}));const Gs=Ks();class Qs{static instance;currentLogLevel;logLevelOrder={ERROR:0,WARN:1,INFO:2,DEBUG:3};constructor(e="INFO"){this.currentLogLevel=e}static getInstance(e){return Qs.instance||(Qs.instance=new Qs(e)),Qs.instance}setLogLevel(e){this.currentLogLevel=e}info(e,...t){this.writeLog("INFO",e,...t)}error(e,...t){this.writeLog("ERROR",e,...t)}warn(e,...t){this.writeLog("WARN",e,...t)}debug(e,...t){this.writeLog("DEBUG",e,...t)}writeLog(e,t,...r){this.logLevelOrder[e]>this.logLevelOrder[this.currentLogLevel]||((new Date).toISOString(),t instanceof Error&&t.stack,r.map((e=>"object"==typeof e?JSON.stringify(e,null,2):String(e))).join(" "))}}const Ys=Qs.getInstance();class Js{client=null;brokerUrl;clientid;username;password;currentReconnectTime;reconnectTimeFloor;reconnectTimeCeiling;manualDisconnect=!1;static instance=null;task=null;onConnect=null;constructor(){this.currentReconnectTime=Number("60000")||6e4,this.reconnectTimeFloor=this.currentReconnectTime,this.reconnectTimeCeiling=Number("300000")||3e5}isReconnecting=!1;unsupportedReconnect=!1;reconnectTimeout=null;getState(){return this.client?.connected?n.Good:n.Disconnected}static getInstance(){return Js.instance}static createNewInstance(e,t,r,n,i,o){return Js.instance||(Js.instance=new Js,Js.instance.client=null,Js.instance.clientid=e,Js.instance.username=t,Js.instance.password=r,Js.instance.brokerUrl=o||"wss://wse.gradient.network:443/mqtt",Js.instance.task=n,Js.instance.onConnect=i,Js.instance.connect(Js.instance.task,Js.instance.onConnect)),Js.instance}static destroyInstance(){Js.instance&&(Js.instance.disconnect(),Js.instance=null)}static pauseMqttConnection(){Js.instance&&Js.instance.disconnect(!0)}static reconnect(e){Js.instance&&(e&&(Js.instance.brokerUrl=e),Js.instance.disconnect(),Js.instance.connect(Js.instance.task,Js.instance.onConnect))}connect(e,t){Ys.info("Connecting to broker..."),this.brokerUrl&&(this.client=Gs.connect(this.brokerUrl,{keepalive:parseInt("60"),username:this.username,password:this.password,clientId:this.clientid,reconnectPeriod:0,protocolVersion:5}),this.client.on("connect",(()=>{Ys.info("Connected to broker"),this.currentReconnectTime=this.reconnectTimeFloor,this.manualDisconnect=!1,Du.mqttService.resumeSubscribe(),t()})),this.client.on("close",(()=>{Ys.info("Connection closed"),this.handleReconnect()})),this.client.on("offline",(()=>{Ys.info("Client is offline"),this.handleReconnect()})),this.client.on("disconnect",(e=>{Ys.info("Disconnected from broker",e),152===e.reasonCode&&(this.unsupportedReconnect=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null))})),this.client.on("error",(e=>{Ys.error("Error occurred",e),String(e).includes("Banned")?this.unsupportedReconnect=!0:this.handleReconnect()})),this.client.on("message",((t,r)=>{e(t,r.toString())})))}handleReconnect(){this.manualDisconnect||this.isReconnecting||this.client&&this.client.connected||this.unsupportedReconnect||(Ys.info(`Run handleReconnect, Pls wait ${this.currentReconnectTime/1e3}s...`),this.isReconnecting=!0,this.reconnectTimeout=setTimeout((()=>{if(!this.manualDisconnect&&!this.unsupportedReconnect){Ys.info("Attempting to reconnect...");try{this.connect(this.task,this.onConnect)}catch(e){Ys.error("HandleReconnect Error:",e)}finally{this.isReconnecting=!1}}}),this.currentReconnectTime),this.currentReconnectTime=Math.min(2*this.currentReconnectTime,this.reconnectTimeCeiling))}subscribe(e){this.client&&this.client.subscribe(e,(t=>{t||Ys.info(`Subscribed to ${e}`)}))}unsubscribe(e){this.client&&this.client.unsubscribe(e,(t=>{t||Ys.info(`Unsubscribed from ${e}`)}))}publish(e,t,r){this.client&&this.client.connected?this.client.publish(e,t,r,(t=>{t||Ys.info(`Message published to ${e}`)})):Ys.error("publish failed: MQTT client is not connected")}async publishAsync(e,t,r){return this.client&&this.client.connected?this.client.publishAsync(e,t,r):void Ys.error("publish failed: MQTT client is not connected")}disconnect(e=!1){this.client&&(e&&(this.manualDisconnect=!0),this.client.end(!0,(()=>{Ys.info("Disconnected from broker")})),this.client=null)}}const Xs=Js;async function Zs(e,t,r){return new Promise((n=>{chrome.runtime.sendMessage({target:e,type:t,data:r},(e=>{n(e)}))}))}var ea,ta,ra,na,ia;function oa(e){return function(t,r,n){const i=n.value;return chrome.runtime.onMessageExternal.addListener(((r,n,o)=>{if(r.action===e)return i.call(t,r,n,o),!0})),n}}function sa(e){return function(t,r,n){const i=n.value;return chrome.runtime.onMessage.addListener(((r,n,o)=>{if(r.action===e)return i.call(t,r,n,o),!0})),n}}!function(e){e.OK="ok",e.ERROR="error"}(ea||(ea={})),function(e){e.BACKGROUND="background",e.OFFSCREEN="offscreen"}(ta||(ta={})),function(e){e.ON_WSS_MESSAGE="onWssMessage"}(ra||(ra={})),function(e){e.INIT_P2PSDK="initP2PSDK",e.SET_SKEY="setSkey",e.ACTION_TAPS="actionTaps",e.GET_NAT_TYPE="getNatType",e.DEPLOY_DCDN_GRAY_RELEASE="deployDcdnGrayRelease",e.GET_WSS_CONNECTION_STATUS="getWssConnectionStatus",e.STOP_WSS_CONNECTION="stopWssConnection",e.WSS_ONLINE_REPORT="wssOnlineReport",e.WSS_VERSION_REPORT="wssVersionReport",e.WSS_LATENCY_REPORT="wssLatencyReport",e.WSS_IPCHANGE_REPORT="wssIpChangeReport",e.WSS_SHIELD_REPORT="wssShieldReport",e.WSS_KEY_REPORT="wssKeyReport"}(na||(na={})),function(e){e[e.IP_UNSUPPORTED_CLOSE=4001]="IP_UNSUPPORTED_CLOSE",e[e.IP_CHANGED_CLOSE=4002]="IP_CHANGED_CLOSE"}(ia||(ia={}));const aa=Symbol("messageHandlers");var la;!function(e){e.P2P="p2p",e.MQTT="mqtt"}(la||(la={}));const ca={online:{topic:na.WSS_ONLINE_REPORT},version:{topic:na.WSS_VERSION_REPORT},latency:{topic:na.WSS_LATENCY_REPORT},ipchange:{topic:na.WSS_IPCHANGE_REPORT},shield:{topic:na.WSS_SHIELD_REPORT},key:{topic:na.WSS_KEY_REPORT}},ua={online:{topic:"client/online"},version:{topic:"client/version"},latency:{topic:"client/latency2"},ipchange:{topic:"client/ipchange"},shield:{topic:"client/shield"},key:{topic:"client/key"}};class ha{getCurrentConnect(){return la.P2P}useP2pConnection(e){const t=this.getCurrentConnect(),r=t==la.P2P?ca:ua,{topic:n}=r[e];return{useP2p:t==la.P2P,topic:n}}async sendMessage(e,t){const r=Du.nodeService.getNode()?.clientid;if(!r)return;let n;const{useP2p:i,topic:o}=this.useP2pConnection(e);if(i){const e="string"==typeof t?JSON.parse(t):t;n=await Zs(ta.OFFSCREEN,o,e)}else n=await Du.mqttService.publishAsync(`${o}/${r}`,t);return n}onMessage(e){const t=this.getCurrentConnect();switch(e.type){case la.P2P:t==la.P2P&&this.handleP2PMessage(e.data);break;case la.MQTT:t==la.MQTT&&this.handleMqttMessage(e.data)}}handleP2PMessage(e){const t=Du.nodeService.getNode()?.clientid;if(!t)return;const{cmd:r,data:n}=e??{};if(7==r){const e=JSON.parse(n);if("latency"==e.type){if(t!=e.clientid)return;Du.offscreenService.performLatencyTask(e)}"sk"==e.type&&(Du.tapsTripleStore.recordTapsTriple(t,e),Du.offscreenService.setP2PArgs(e))}}handleMqttMessage(e){const t=Du.nodeService.getNode()?.clientid;if(t){if("latency"==e.type){if(t!=e.clientid)return;Du.offscreenService.performLatencyTask(e)}"sk"==e.type&&(Du.tapsTripleStore.recordTapsTriple(t,e),Du.offscreenService.setP2PArgs(e))}}async stopUnsupportedConnect(){this.getCurrentConnect()==la.P2P?Zs(ta.OFFSCREEN,na.STOP_WSS_CONNECTION,{code:ia.IP_UNSUPPORTED_CLOSE,reason:"ip unsupported to stop current connection"}):Du.mqttService.pauseConnection()}async reconnectCurrentConnect(){const e=this.getCurrentConnect();await new Promise((e=>{setTimeout(e,2e3)})),e==la.P2P?Zs(ta.OFFSCREEN,na.STOP_WSS_CONNECTION,{code:ia.IP_CHANGED_CLOSE,reason:"ip changed, stop current connection and will reconnect"}):Du.mqttService.reconnect()}async getConnectStatus(e,r,i){const o=this.getCurrentConnect();let s=t.Disconnected;o==la.MQTT&&(s=Du.mqttService.getMqttState()==n.Good?t.Good:t.Disconnected),o==la.P2P&&(s=(await Zs(ta.OFFSCREEN,na.GET_WSS_CONNECTION_STATUS,"")).data?t.Good:t.Disconnected),i(s)}}!function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);o>3&&s&&Object.defineProperty(t,r,s)}([sa("getConnectStatus")],ha.prototype,"getConnectStatus",null);class fa{mqtt=void 0;subscribeNodes=[];nodeBuffer=null;getMqttState(){return this.mqtt?this.mqtt?.getState():n.Disconnected}onMessage=async(e,t)=>{const r=JSON.parse(t);Du.connectivityServices.onMessage({type:la.MQTT,data:r})};onConnect=()=>{};subscribe(e){this.mqtt&&(this.mqtt?.subscribe(`client/task/${e.clientid}`),this.subscribeNodes.push(e.clientid))}clearSubscribe(){this.mqtt&&this.subscribeNodes.forEach((e=>{this.mqtt?.unsubscribe(`client/task/${e}`)}))}resumeSubscribe(){this.mqtt&&(this.clearSubscribe(),this.subscribeNodes.forEach((e=>{this.mqtt?.subscribe(`client/task/${e}`)})))}create(e,t){this.mqtt?this.nodeBuffer&&this.nodeBuffer.clientid!==e.clientid&&(this.destroy(),this.mqtt=Xs.createNewInstance(e.clientid,e.username,e.password,this.onMessage,this.onConnect,t)):this.mqtt=Xs.createNewInstance(e.clientid,e.username,e.password,this.onMessage,this.onConnect,t),this.subscribe(e),this.nodeBuffer=e}destroy(){this.mqtt&&(this.clearSubscribe(),this.subscribeNodes=[],Xs.destroyInstance(),this.mqtt=void 0)}pauseConnection(){this.mqtt&&Xs.pauseMqttConnection()}reconnect(e){this.mqtt&&(Xs.reconnect(e),this.resumeSubscribe())}publish(e,t,r=0){this.mqtt&&this.mqtt.publish(e,t,{qos:r,retain:!1})}async publishAsync(e,t,r=0){if(this.mqtt)return this.mqtt.publishAsync(e,t,{qos:r,retain:!1})}}function pa(e,t){return function(){return e.apply(t,arguments)}}const{toString:da}=Object.prototype,{getPrototypeOf:ga}=Object,ya=(ma=Object.create(null),e=>{const t=da.call(e);return ma[t]||(ma[t]=t.slice(8,-1).toLowerCase())});var ma;const ba=e=>(e=e.toLowerCase(),t=>ya(t)===e),wa=e=>t=>typeof t===e,{isArray:va}=Array,_a=wa("undefined"),Sa=ba("ArrayBuffer"),Ea=wa("string"),Aa=wa("function"),Ia=wa("number"),Ta=e=>null!==e&&"object"==typeof e,Ra=e=>{if("object"!==ya(e))return!1;const t=ga(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},ka=ba("Date"),Oa=ba("File"),Ca=ba("Blob"),Pa=ba("FileList"),Ba=ba("URLSearchParams"),[xa,Na,Ma,La]=["ReadableStream","Request","Response","Headers"].map(ba);function Ua(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),va(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function ja(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const Da="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self||"undefined"!=typeof self?self:global,Fa=e=>!_a(e)&&e!==Da,Wa=(Ha="undefined"!=typeof Uint8Array&&ga(Uint8Array),e=>Ha&&e instanceof Ha);var Ha;const qa=ba("HTMLFormElement"),Va=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),za=ba("RegExp"),$a=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ua(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},Ka="abcdefghijklmnopqrstuvwxyz",Ga="0123456789",Qa={DIGIT:Ga,ALPHA:Ka,ALPHA_DIGIT:Ka+Ka.toUpperCase()+Ga},Ya=ba("AsyncFunction"),Ja=(Xa="function"==typeof setImmediate,Za=Aa(Da.postMessage),Xa?setImmediate:Za?(el=`axios@${Math.random()}`,tl=[],Da.addEventListener("message",(({source:e,data:t})=>{e===Da&&t===el&&tl.length&&tl.shift()()}),!1),e=>{tl.push(e),Da.postMessage(el,"*")}):e=>setTimeout(e));var Xa,Za,el,tl;const rl="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Da):"undefined"!=typeof process&&process.nextTick||Ja,nl={isArray:va,isArrayBuffer:Sa,isBuffer:function(e){return null!==e&&!_a(e)&&null!==e.constructor&&!_a(e.constructor)&&Aa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Aa(e.append)&&("formdata"===(t=ya(e))||"object"===t&&Aa(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Sa(e.buffer),t},isString:Ea,isNumber:Ia,isBoolean:e=>!0===e||!1===e,isObject:Ta,isPlainObject:Ra,isReadableStream:xa,isRequest:Na,isResponse:Ma,isHeaders:La,isUndefined:_a,isDate:ka,isFile:Oa,isBlob:Ca,isRegExp:za,isFunction:Aa,isStream:e=>Ta(e)&&Aa(e.pipe),isURLSearchParams:Ba,isTypedArray:Wa,isFileList:Pa,forEach:Ua,merge:function e(){const{caseless:t}=Fa(this)&&this||{},r={},n=(n,i)=>{const o=t&&ja(r,i)||i;Ra(r[o])&&Ra(n)?r[o]=e(r[o],n):Ra(n)?r[o]=e({},n):va(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Ua(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(Ua(t,((t,n)=>{r&&Aa(t)?e[n]=pa(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==r&&ga(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:ya,kindOfTest:ba,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(va(e))return e;let t=e.length;if(!Ia(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:qa,hasOwnProperty:Va,hasOwnProp:Va,reduceDescriptors:$a,freezeMethods:e=>{$a(e,((t,r)=>{if(Aa(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Aa(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return va(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ja,global:Da,isContextDefined:Fa,ALPHABET:Qa,generateString:(e=16,t=Qa.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&Aa(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Ta(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=va(e)?[]:{};return Ua(e,((e,t)=>{const o=r(e,n+1);!_a(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:Ya,isThenable:e=>e&&(Ta(e)||Aa(e))&&Aa(e.then)&&Aa(e.catch),setImmediate:Ja,asap:rl};function il(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}nl.inherits(il,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nl.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ol=il.prototype,sl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{sl[e]={value:e}})),Object.defineProperties(il,sl),Object.defineProperty(ol,"isAxiosError",{value:!0}),il.from=(e,t,r,n,i,o)=>{const s=Object.create(ol);return nl.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),il.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const al=il;function ll(e){return nl.isPlainObject(e)||nl.isArray(e)}function cl(e){return nl.endsWith(e,"[]")?e.slice(0,-2):e}function ul(e,t,r){return e?e.concat(t).map((function(e,t){return e=cl(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const hl=nl.toFlatObject(nl,{},null,(function(e){return/^is[A-Z]/.test(e)})),fl=function(e,t,r){if(!nl.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=nl.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!nl.isUndefined(t[e])}))).metaTokens,i=r.visitor||c,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&nl.isSpecCompliantForm(t);if(!nl.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(nl.isDate(e))return e.toISOString();if(!a&&nl.isBlob(e))throw new al("Blob is not supported. Use a Buffer instead.");return nl.isArrayBuffer(e)||nl.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,i){let a=e;if(e&&!i&&"object"==typeof e)if(nl.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(nl.isArray(e)&&function(e){return nl.isArray(e)&&!e.some(ll)}(e)||(nl.isFileList(e)||nl.endsWith(r,"[]"))&&(a=nl.toArray(e)))return r=cl(r),a.forEach((function(e,n){!nl.isUndefined(e)&&null!==e&&t.append(!0===s?ul([r],n,o):null===s?r:r+"[]",l(e))})),!1;return!!ll(e)||(t.append(ul(i,r,o),l(e)),!1)}const u=[],h=Object.assign(hl,{defaultVisitor:c,convertValue:l,isVisitable:ll});if(!nl.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!nl.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),nl.forEach(r,(function(r,o){!0===(!(nl.isUndefined(r)||null===r)&&i.call(t,r,nl.isString(o)?o.trim():o,n,h))&&e(r,n?n.concat(o):[o])})),u.pop()}}(e),t};function pl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function dl(e,t){this._pairs=[],e&&fl(e,this,t)}const gl=dl.prototype;gl.append=function(e,t){this._pairs.push([e,t])},gl.toString=function(e){const t=e?function(t){return e.call(this,t,pl)}:pl;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const yl=dl;function ml(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bl(e,t,r){if(!t)return e;const n=r&&r.encode||ml,i=r&&r.serialize;let o;if(o=i?i(t,r):nl.isURLSearchParams(t)?t.toString():new yl(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const wl=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){nl.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},vl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_l={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:yl,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Sl="undefined"!=typeof self&&"undefined"!=typeof document,El=(Al="undefined"!=typeof navigator&&navigator.product,Sl&&["ReactNative","NativeScript","NS"].indexOf(Al)<0);var Al;const Il="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Tl=Sl&&self.location.href||"http://localhost",Rl={...s,..._l},kl=function(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;return o=!o&&nl.isArray(n)?n.length:o,a?(nl.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s):(n[o]&&nl.isObject(n[o])||(n[o]=[]),t(e,r,n[o],i)&&nl.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!s)}if(nl.isFormData(e)&&nl.isFunction(e.entries)){const r={};return nl.forEachEntry(e,((e,n)=>{t(function(e){return nl.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null},Ol={transitional:vl,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=nl.isObject(e);if(i&&nl.isHTMLForm(e)&&(e=new FormData(e)),nl.isFormData(e))return n?JSON.stringify(kl(e)):e;if(nl.isArrayBuffer(e)||nl.isBuffer(e)||nl.isStream(e)||nl.isFile(e)||nl.isBlob(e)||nl.isReadableStream(e))return e;if(nl.isArrayBufferView(e))return e.buffer;if(nl.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return fl(e,new Rl.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Rl.isNode&&nl.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=nl.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return fl(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e){if(nl.isString(e))try{return(0,JSON.parse)(e),nl.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ol.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(nl.isResponse(e)||nl.isReadableStream(e))return e;if(e&&nl.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw al.from(e,al.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rl.classes.FormData,Blob:Rl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nl.forEach(["delete","get","head","post","put","patch"],(e=>{Ol.headers[e]={}}));const Cl=Ol,Pl=nl.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bl=Symbol("internals");function xl(e){return e&&String(e).trim().toLowerCase()}function Nl(e){return!1===e||null==e?e:nl.isArray(e)?e.map(Nl):String(e)}function Ml(e,t,r,n,i){return nl.isFunction(n)?n.call(this,t,r):(i&&(t=r),nl.isString(t)?nl.isString(n)?-1!==t.indexOf(n):nl.isRegExp(n)?n.test(t):void 0:void 0)}class Ll{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=xl(t);if(!i)throw new Error("header name must be a non-empty string");const o=nl.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=Nl(e))}const o=(e,t)=>nl.forEach(e,((e,r)=>i(e,r,t)));if(nl.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(nl.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&Pl[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(nl.isHeaders(e))for(const[t,n]of e.entries())i(n,t,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=xl(e)){const r=nl.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(nl.isFunction(t))return t.call(this,e,r);if(nl.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xl(e)){const r=nl.findKey(this,e);return!(!r||void 0===this[r]||t&&!Ml(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=xl(e)){const i=nl.findKey(r,e);!i||t&&!Ml(0,r[i],i,t)||(delete r[i],n=!0)}}return nl.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!Ml(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return nl.forEach(this,((n,i)=>{const o=nl.findKey(r,i);if(o)return t[o]=Nl(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete t[i],t[s]=Nl(n),r[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return nl.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&nl.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[Bl]=this[Bl]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=xl(e);t[n]||(function(e,t){const r=nl.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return nl.isArray(e)?e.forEach(n):n(e),this}}Ll.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),nl.reduceDescriptors(Ll.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),nl.freezeMethods(Ll);const Ul=Ll;function jl(e,t){const r=this||Cl,n=t||r,i=Ul.from(n.headers);let o=n.data;return nl.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Dl(e){return!(!e||!e.__CANCEL__)}function Fl(e,t,r){al.call(this,null==e?"canceled":e,al.ERR_CANCELED,t,r),this.name="CanceledError"}nl.inherits(Fl,al,{__CANCEL__:!0});const Wl=Fl;function Hl(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new al("Request failed with status code "+r.status,[al.ERR_BAD_REQUEST,al.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const ql=(e,t,r=3)=>{let n=0;const i=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=n[s];i||(i=l),r[o]=a,n[o]=l;let u=s,h=0;for(;u!==o;)h+=r[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const f=c&&l-c;return f?Math.round(1e3*h/f):void 0}}(50,250);return function(e,t){let r,n,i=0,o=1e3/t;const s=(t,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-i;a>=o?s(e,t):(r=e,n||(n=setTimeout((()=>{n=null,s(r)}),o-a)))},()=>r&&s(r)]}((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,l=i(a);n=o,e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),r)},Vl=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},zl=e=>(...t)=>nl.asap((()=>e(...t))),$l=Rl.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(self.location.href),function(e){const t=nl.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0},Kl=Rl.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const s=[e+"="+encodeURIComponent(t)];nl.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),nl.isString(n)&&s.push("path="+n),nl.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Gl(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ql=e=>e instanceof Ul?{...e}:e;function Yl(e,t){t=t||{};const r={};function n(e,t,r){return nl.isPlainObject(e)&&nl.isPlainObject(t)?nl.merge.call({caseless:r},e,t):nl.isPlainObject(t)?nl.merge({},t):nl.isArray(t)?t.slice():t}function i(e,t,r){return nl.isUndefined(t)?nl.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!nl.isUndefined(t))return n(void 0,t)}function s(e,t){return nl.isUndefined(t)?nl.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(Ql(e),Ql(t),!0)};return nl.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=l[n]||i,s=o(e[n],t[n],n);nl.isUndefined(s)&&o!==a||(r[n]=s)})),r}const Jl=e=>{const t=Yl({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=Ul.from(a),t.url=bl(Gl(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),nl.isFormData(n))if(Rl.hasStandardBrowserEnv||Rl.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Rl.hasStandardBrowserEnv&&(i&&nl.isFunction(i)&&(i=i(t)),i||!1!==i&&$l(t.url))){const e=o&&s&&Kl.read(s);e&&a.set(o,e)}return t},Xl="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Jl(e);let i=n.data;const o=Ul.from(n.headers).normalize();let s,a,l,c,u,{responseType:h,onUploadProgress:f,onDownloadProgress:p}=n;function d(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let g=new XMLHttpRequest;function y(){if(!g)return;const n=Ul.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Hl((function(e){t(e),d()}),(function(e){r(e),d()}),{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)},g.onabort=function(){g&&(r(new al("Request aborted",al.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new al("Network Error",al.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||vl;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new al(t,i.clarifyTimeoutError?al.ETIMEDOUT:al.ECONNABORTED,e,g)),g=null},void 0===i&&o.setContentType(null),"setRequestHeader"in g&&nl.forEach(o.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),nl.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),h&&"json"!==h&&(g.responseType=n.responseType),p&&([l,u]=ql(p,!0),g.addEventListener("progress",l)),f&&g.upload&&([a,c]=ql(f),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{g&&(r(!t||t.type?new Wl(null,e,g):t),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);m&&-1===Rl.protocols.indexOf(m)?r(new al("Unsupported protocol "+m+":",al.ERR_BAD_REQUEST,e)):g.send(i||null)}))},Zl=(e,t)=>{let r,n=new AbortController;const i=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof al?t:new Wl(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new al(`timeout ${t} of ms exceeded`,al.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},ec=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},tc=(e,t,r,n,i)=>{const o=async function*(e,t,r){for await(const n of e)yield*ec(ArrayBuffer.isView(n)?n:await r(String(n)),t)}(e,t,i);let s,a=0,l=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return l(),void e.close();let i=n.byteLength;if(r){let e=a+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw l(e),e}},cancel:e=>(l(e),o.return())},{highWaterMark:2})},rc="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,nc=rc&&"function"==typeof ReadableStream,ic=rc&&("function"==typeof TextEncoder?(oc=new TextEncoder,e=>oc.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var oc;const sc=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},ac=nc&&sc((()=>{let e=!1;const t=new Request(Rl.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),lc=nc&&sc((()=>nl.isReadableStream(new Response("").body))),cc={stream:lc&&(e=>e.body)};var uc;rc&&(uc=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!cc[e]&&(cc[e]=nl.isFunction(uc[e])?t=>t[e]():(t,r)=>{throw new al(`Response type '${e}' is not supported`,al.ERR_NOT_SUPPORT,r)})})));const hc={http:null,xhr:Xl,fetch:rc&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=Jl(e);c=c?(c+"").toLowerCase():"text";let p,d,[g,y]=i||o||s?Zl([i,o],s):[];const m=()=>{!p&&setTimeout((()=>{g&&g.unsubscribe()})),p=!0};let b;try{if(l&&ac&&"get"!==r&&"head"!==r&&0!==(b=await(async(e,t)=>{const r=nl.toFiniteNumber(e.getContentLength());return null==r?(async e=>null==e?0:nl.isBlob(e)?e.size:nl.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:nl.isArrayBufferView(e)||nl.isArrayBuffer(e)?e.byteLength:(nl.isURLSearchParams(e)&&(e+=""),nl.isString(e)?(await ic(e)).byteLength:void 0))(t):r})(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(nl.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=Vl(b,ql(zl(l)));n=tc(r.body,65536,e,t,ic)}}nl.isString(h)||(h=h?"include":"omit"),d=new Request(t,{...f,signal:g,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:h});let i=await fetch(d);const o=lc&&("stream"===c||"response"===c);if(lc&&(a||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=nl.toFiniteNumber(i.headers.get("content-length")),[r,n]=a&&Vl(t,ql(zl(a),!0))||[];i=new Response(tc(i.body,65536,r,(()=>{n&&n(),o&&m()}),ic),e)}c=c||"text";let s=await cc[nl.findKey(cc,c)||"text"](i,e);return!o&&m(),y&&y(),await new Promise(((t,r)=>{Hl(t,r,{data:s,headers:Ul.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:d})}))}catch(t){if(m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new al("Network Error",al.ERR_NETWORK,e,d),{cause:t.cause||t});throw al.from(t,t&&t.code,e,d)}})};nl.forEach(hc,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const fc=e=>`- ${e}`,pc=e=>nl.isFunction(e)||null===e||!1===e,dc=e=>{e=nl.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!pc(r)&&(n=hc[(t=String(r)).toLowerCase()],void 0===n))throw new al(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(fc).join("\n"):" "+fc(e[0]):"as no adapter specified";throw new al("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function gc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wl(null,e)}function yc(e){return gc(e),e.headers=Ul.from(e.headers),e.data=jl.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dc(e.adapter||Cl.adapter)(e).then((function(t){return gc(e),t.data=jl.call(e,e.transformResponse,t),t.headers=Ul.from(t.headers),t}),(function(t){return Dl(t)||(gc(e),t&&t.response&&(t.response.data=jl.call(e,e.transformResponse,t.response),t.response.headers=Ul.from(t.response.headers))),Promise.reject(t)}))}const mc={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{mc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const bc={};mc.transitional=function(e,t,r){return(n,i,o)=>{if(!1===e)throw new al(function(e,t){return"[Axios v1.7.3] Transitional option '"+e+"'"+t+(r?". "+r:"")}(i," has been removed"+(t?" in "+t:"")),al.ERR_DEPRECATED);return t&&!bc[i]&&(bc[i]=!0),!e||e(n,i,o)}};const wc={assertOptions:function(e,t,r){if("object"!=typeof e)throw new al("options must be an object",al.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new al("option "+o+" must be "+r,al.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new al("Unknown option "+o,al.ERR_BAD_OPTION)}},validators:mc},vc=wc.validators;class _c{constructor(e){this.defaults=e,this.interceptors={request:new wl,response:new wl}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Yl(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&wc.assertOptions(r,{silentJSONParsing:vc.transitional(vc.boolean),forcedJSONParsing:vc.transitional(vc.boolean),clarifyTimeoutError:vc.transitional(vc.boolean)},!1),null!=n&&(nl.isFunction(n)?t.paramsSerializer={serialize:n}:wc.assertOptions(n,{encode:vc.function,serialize:vc.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&nl.merge(i.common,i[t.method]);i&&nl.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Ul.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[yc.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=s.length;let f=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{f=e(f)}catch(e){t.call(this,e);break}}try{c=yc.call(this,f)}catch(e){return Promise.reject(e)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return bl(Gl((e=Yl(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}nl.forEach(["delete","get","head","options"],(function(e){_c.prototype[e]=function(t,r){return this.request(Yl(r||{},{method:e,url:t,data:(r||{}).data}))}})),nl.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Yl(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}_c.prototype[e]=t(),_c.prototype[e+"Form"]=t(!0)}));const Sc=_c;class Ec{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new Wl(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ec((function(t){e=t})),cancel:e}}}const Ac=Ec,Ic={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ic).forEach((([e,t])=>{Ic[t]=e}));const Tc=Ic,Rc=function e(t){const r=new Sc(t),n=pa(Sc.prototype.request,r);return nl.extend(n,Sc.prototype,r,{allOwnKeys:!0}),nl.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Yl(t,r))},n}(Cl);Rc.Axios=Sc,Rc.CanceledError=Wl,Rc.CancelToken=Ac,Rc.isCancel=Dl,Rc.VERSION="1.7.3",Rc.toFormData=fl,Rc.AxiosError=al,Rc.Cancel=Rc.CanceledError,Rc.all=function(e){return Promise.all(e)},Rc.spread=function(e){return function(t){return e.apply(null,t)}},Rc.isAxiosError=function(e){return nl.isObject(e)&&!0===e.isAxiosError},Rc.mergeConfig=Yl,Rc.AxiosHeaders=Ul,Rc.formToJSON=e=>kl(nl.isHTMLForm(e)?new FormData(e):e),Rc.getAdapter=dc,Rc.HttpStatusCode=Tc,Rc.default=Rc;const kc=Rc;let Oc=null;const Cc=async()=>{const e=await Du.loginInfoStore.getLoginInfo();return e?.token};kc.interceptors.request.use((async e=>{const t=await Cc();return t&&!e.__doingRefreshToken&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),kc.interceptors.response.use((async e=>(400===e.data?.code&&"You have been blocked"===e.data?.msg&&await h.logOut(),e)),(async e=>{const t=e.config;if(403===e.response?.status&&!t.__doingRefreshToken){const e=await(async()=>(Oc||(Oc=new Promise((async(e,t)=>{const r=await Du.loginInfoStore.getLoginInfo();if(!r)return Oc=null,t(!1);const{refresh:n,uid:i}=r;try{const t=await kc.post("https://securetoken.googleapis.com/v1/token?key=AIzaSyCWz-svq_InWzV9WaE3ez4XqxCE0C34ddI",`grant_type=refresh_token&refresh_token=${encodeURIComponent(n)}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},__doingRefreshToken:!0});if(200===t.status&&t.data.access_token){const r=t.data.access_token;await chrome.storage.local.set({loginInfo:{refresh:n,token:r,uid:i}}),e(!0)}else e(!1)}catch(t){401===t.response?.status||403===t.response?.status?(await(async()=>{await Du.loginInfoStore.eraseLoginInfo()})(),e(!1)):e(!1)}finally{Oc=null}}))),Oc))();if(e)return t.headers.Authorization=`Bearer ${await Cc()}`,kc(t)}return Promise.reject(e)}));const Pc=kc;var Bc=r(5373);const xc=async e=>(await Pc.get(e.url)).data;async function Nc(){return(await kc.get("https://api.gradient.network/api/status")).data}async function Mc(){return(await kc.get("https://api.gradient.network/api/status")).data}var Lc,Uc;!function(e){e[e.IMMEDIATE=1]="IMMEDIATE",e[e.NOT_IMMEDIATE=0]="NOT_IMMEDIATE"}(Lc||(Lc={})),function(e){e.RUNNING="running",e.STOPPED="stopped"}(Uc||(Uc={}));class jc{taskid;interval;intervalTime;setImmediateTimeout;constructor(e){this.taskid=e.taskid,this.intervalTime=e.intervalTime,this.setImmediateTimeout=e.setImmediateTimeout}async execute(){this.constructor.name,this.logInfo(`Started at ${(new Date).toISOString()}`);try{await this.executeTask(),this.logInfo(`Completed at ${(new Date).toISOString()}`)}catch(e){this.logError(`Failed at ${(new Date).toISOString()}`,e)}}currentStatus(){return this.interval?Uc.RUNNING:Uc.STOPPED}start(){this.currentStatus()!==Uc.RUNNING?(this.setImmediateTimeout&&this.setImmediateTimeout>0&&setTimeout((()=>{this.execute()}),this.setImmediateTimeout),this.interval=setInterval((()=>{this.execute()}),this.intervalTime)):this.logInfo(`[Task ${this.taskid}] Already running, skip`)}stop(){this.interval&&(clearInterval(this.interval),this.interval=void 0)}logInfo(...e){this.constructor.name}logError(...e){this.constructor.name}}const Dc=new class{generateOnlineMessage(e){return{type:"online",clientid:e.clientid,account:e.username,timestamp:Date.now()}}generateLatencyResultMessage(e,t,r){return{clientid:e.clientid,destcid:e.destcid,taskid:e.taskid,timestamp:Date.now(),type:"latency",ttl:t,signature:r}}generateVersionMessage(e){return{type:"version",clientid:e.clientid,version:chrome.runtime.getManifest().version}}generateIPChangeMessage(e,t,r){return{type:"ipchange",fromip:t,toip:r,clientid:e.clientid,timestamp:Date.now()}}generateShieldMessage(e,t){return{type:"shield",clientid:e.clientid,shield:t}}};class Fc extends jc{async executeTask(){const e=Du.nodeService.getNode();e&&await Du.connectivityServices.sendMessage("online",JSON.stringify(Dc.generateOnlineMessage(e)))}}class Wc extends jc{async executeTask(){const e=await Nc(),t=await Du.ipLocationFactory.getIP();if(t!==e.ip){try{await Du.ipLocationServiceFactory.reportIPChange(t||"",e.ip)}catch(e){this.logError("reportIPChange error",e)}await Du.connectivityServices.reconnectCurrentConnect(),await Du.ipLocationFactory.saveIP(e.ip),t&&await Du.ipLocationFactory.flagIPHasChanged()}else this.logInfo("IP has not changed, skip")}}var Hc;!function(e){e.VERSION="version",e.NOTICE="notice",e.BACKGROUND="background"}(Hc||(Hc={}));class qc{announcementGroupDTO=void 0;constructor(e){this.announcementGroupDTO=e}getAnnouncementItem(e){if(!this.announcementGroupDTO)return null;for(const t of this.announcementGroupDTO){if(t.id===e)return t;if("version"!==t.id&&"background"!==t.id&&e===Hc.NOTICE)return t}return null}getNotice(){const e=this.getAnnouncementItem(Hc.NOTICE);return e?{id:e.id,title:e.title,content:e.content}:null}getMinVersion(){const e=this.getAnnouncementItem(Hc.VERSION);return e?e.minVersion??null:null}getNewVersion(){const e=this.getAnnouncementItem(Hc.VERSION);return e?e.newVersion??null:null}getImage(){const e=this.getAnnouncementItem(Hc.BACKGROUND);return e?e.image:null}}function Vc(){return chrome.runtime.getManifest().version}class zc extends jc{reportInterval=u(1);versionHasChanged="unknown";constructor(e){super(e)}async executeTask(){this.checkVersionHasChanged(),await this.performFingerprintReport(),await this.performVersionReport()}async checkVersionHasChanged(){const e=await Du.versionReportStore.versionHasChanged(Vc());return this.versionHasChanged=e,e}async performFingerprintReport(){const e=Du.nodeService.getNode();if(!e)return;const t=await l("getFingerprint",null);if(await Du.fingerprintStore.checkFingerprintHashSame(t.overallHash))return void this.logInfo("fingerprint is the same, skip");const r=await async function(e,t){return await(async e=>(await Pc.post(e.url,e.data,{headers:{"Content-Type":"application/json"},paramsSerializer:e=>(0,Bc.stringify)(e)})).data)({url:`https://api.gradient.network/api/sentrynode/fp/add/${e}`,data:t})}(e.clientid,t);200===r.code&&(this.logInfo("performFingerprintReport success"),await Du.fingerprintStore.saveFingerprintHash(t.overallHash)),this.logInfo("performFingerprintReport resp",r)}async performVersionReport(){const e=Du.nodeService.getNode();if(e){if(!(await Du.versionReportStore.fromLastReport()<this.reportInterval)||this.versionHasChanged)return await Du.versionReportStore.isExpiredVersion()?(this.logInfo("current version is expired, destroy node"),void Du.nodeService.destroyNode()):function(e,t){const r=e.split(".").map(Number),n=t.split(".").map(Number),i=Math.max(r.length,n.length);for(let e=0;e<i;e++){const t=e<r.length?r[e]:0,i=e<n.length?n[e]:0;if(t>i)return!0;if(t<i)return!1}return!1}(await async function(){const e=await async function(){return Ys.info("getAnnouncement country=",null),(await xc({url:"https://api.gradient.network/api/market/pub/announcement/list"})).data}();return new qc(e).getMinVersion()??"0.0.0"}(),Vc())?(this.logInfo("current version is less than min version, destroy node"),Du.versionReportStore.flagAsExpiredVersion(),void Du.nodeService.destroyNode()):(await Du.connectivityServices.sendMessage("version",JSON.stringify(Dc.generateVersionMessage(e))),void Du.versionReportStore.recordVersionReport(Vc()));this.logInfo("today has reported and version has not changed, skip")}}}class $c extends jc{async executeTask(){const e=Du.nodeService.getNode();if(!e)return;const t=Du.tapsTripleStore;await t.getTapsTriple(e.clientid)?this.logInfo("taps triple already exists, skip"):await Du.connectivityServices.sendMessage("key",JSON.stringify({clientid:e.clientid}))}}class Kc extends jc{async getShield(e,t=!1){return await l("getShield",{clientid:e.clientid,version:Vc(),timestamp:t?(new Date).getTime():(await Mc()).time})}async executeTask(){const e=Du.nodeService.getNode();if(!e)return;this.logInfo("performShieldCheck",(new Date).toISOString());const t=await this.getShield(e,!0),r=await Du.shieldStore.getPersistShield(),n=r?.persistShield;if(this.logInfo({currentShield:t,persistShield:n}),n){const e=await l("checkShieldSame",{shield1:t,shield2:n});if(this.logInfo("shieldSame",e),e.isSame)return void this.logInfo("persist shield has not changed, skip")}this.logInfo("persist shield has changed, perform shield report");const i=await Du.connectivityServices.sendMessage("shield",JSON.stringify(Dc.generateShieldMessage(e,await this.getShield(e,!1))));this.logInfo("shield update finished",i),await Du.shieldStore.updatePersistShield(t)}}class Gc extends jc{async executeTask(){const e=Du.nodeService.getNode();if(e)try{const t=await(async e=>{const t=`https://api.gradient.network/api/sentrynode/get/${e.clientid}`;let r=await xc({url:t});return 404!==r.code&&r.data?({MQTT_KEEPALIVE:"60",DASHBOARD_URL:"https://app.gradient.network",FIREBASE_REFRESH_TOKEN_API_URL:"https://securetoken.googleapis.com/v1/token",FIREBASE_API_KEY:"AIzaSyCWz-svq_InWzV9WaE3ez4XqxCE0C34ddI",API_BASE:"https://api.gradient.network/api",MQTT_BROKER_URL:"wss://wse.gradient.network:443/mqtt",CDN_PREFIX:"https://images.gradient.network",AMPLITUDE_URL:"https://api2.amplitude.com",AMPLITUDE_API_KEY:"59ac3aa447f40eb570cc8e717bd1329b",OPEN_DASHBOARD:"true",AMPLITUDE_FACTOR:"500",LATENCY_WORTH_DRAWING_DISTANCE_GAP:"500",RECONNECT_TIME_CEILING:"300000",INITIAL_RECONNECT_TIME:"60000",NODE_CHECK_INTERVAL_IN_MINUTES:"10",IP_CHECK_INTERVAL_IN_MINUTES:"3",VERSION_REPORT_TIMEOUT_IN_MINUTES:"1",TAPS_TRIPLE_INTERVAL_IN_MINUTES:"1",SHIELD_CHECK_INTERVAL_IN_MINUTES:"1",FRESH_SHIELD_INTERVAL:"24",NACOS_GROUP:"p2p",NACOS_DATA_ID_SENTRY_NODE:"sentrynode",NACOS_CONFIG_CHECK_INTERVAL:"3600000"}.ALWAYS_ESCAPE_UNSUPPORTED&&(r.data.banned=!1),r.data):{id:"",duration:0,today:0,todayDuration:0,todayLatency:0,score:0,active:!1,lastActive:0,createAt:0,season:{},location:null,banned:!1,name:"",bannedReason:"",ip:""}})(e),r=await Nc();t.location&&r.ip&&t.location.ip===r.ip&&t.banned&&(this.logInfo("node is banned, stop current connection"),Du.connectivityServices.stopUnsupportedConnect())}catch(e){this.logError("performNodeCheck error",e)}}}const Qc={MQTT_KEEPALIVE:"60",DASHBOARD_URL:"https://app.gradient.network",FIREBASE_REFRESH_TOKEN_API_URL:"https://securetoken.googleapis.com/v1/token",FIREBASE_API_KEY:"AIzaSyCWz-svq_InWzV9WaE3ez4XqxCE0C34ddI",API_BASE:"https://api.gradient.network/api",MQTT_BROKER_URL:"wss://wse.gradient.network:443/mqtt",CDN_PREFIX:"https://images.gradient.network",AMPLITUDE_URL:"https://api2.amplitude.com",AMPLITUDE_API_KEY:"59ac3aa447f40eb570cc8e717bd1329b",OPEN_DASHBOARD:"true",AMPLITUDE_FACTOR:"500",LATENCY_WORTH_DRAWING_DISTANCE_GAP:"500",RECONNECT_TIME_CEILING:"300000",INITIAL_RECONNECT_TIME:"60000",NODE_CHECK_INTERVAL_IN_MINUTES:"10",IP_CHECK_INTERVAL_IN_MINUTES:"3",VERSION_REPORT_TIMEOUT_IN_MINUTES:"1",TAPS_TRIPLE_INTERVAL_IN_MINUTES:"1",SHIELD_CHECK_INTERVAL_IN_MINUTES:"1",FRESH_SHIELD_INTERVAL:"24",NACOS_GROUP:"p2p",NACOS_DATA_ID_SENTRY_NODE:"sentrynode",NACOS_CONFIG_CHECK_INTERVAL:"3600000"}.ONLINE_HEARTBEAT_INTERVAL_IN_MINUTES||"10";class Yc{tasks=[];constructor(){this.tasks=[new Fc({taskid:"onlineTime",intervalTime:c(parseInt(Qc)),setImmediateTimeout:Lc.NOT_IMMEDIATE}),new Wc({taskid:"performIPCheck",intervalTime:c(parseInt("3")),setImmediateTimeout:Lc.IMMEDIATE}),new zc({taskid:"versionAndFingerprint",intervalTime:u(1),setImmediateTimeout:c(parseInt("1"))}),new $c({taskid:"tapsTripleRequest",intervalTime:c(parseInt("1")),setImmediateTimeout:Lc.IMMEDIATE}),new Kc({taskid:"performShieldCheck",intervalTime:c(parseInt("1")),setImmediateTimeout:Lc.NOT_IMMEDIATE}),new Gc({taskid:"performNodeCheck",intervalTime:c(parseInt("10")),setImmediateTimeout:Lc.NOT_IMMEDIATE})]}startAll(){this.tasks.forEach((e=>e.start()))}stopAll(){this.tasks.forEach((e=>e.stop()))}stopTask(e){const t=this.tasks.find((t=>t.taskid==e));t&&t.stop()}startTask(e){const t=this.tasks.find((t=>t.taskid==e));t&&t.start()}}class Jc{name;constructor(e){this.name=e}initialize(){this.logInfo("initialize"),chrome.runtime.onMessage.addListener(this.handleMessage.bind(this))}handleMessage(e,t,r){const n=(this[aa]||[]).find((t=>t.type==e.type));if(n){const i=this[n.handler](e.data,t);i instanceof Promise?i.then((e=>{r(e)})):r(i)}return!0}dispose(){}logInfo(...e){this.constructor.name}logError(...e){this.constructor.name}}var Xc;class Zc extends Jc{constructor(){super("backgroundPortController")}async handleOnWssMessage(e){return this.logInfo("handleOnWssMessage",e),Du.connectivityServices.onMessage({type:la.P2P,data:e}),{status:ea.OK,data:"ok"}}}!function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);o>3&&s&&Object.defineProperty(t,r,s)}([(Xc=ra.ON_WSS_MESSAGE,function(e,t){e[aa]||(e[aa]=[]),e[aa].push({type:Xc,handler:t})})],Zc.prototype,"handleOnWssMessage",null);class eu{node=void 0;taskManager=new Yc;backgroundController=new Zc;async checkVersionHasChanged(){return await Du.versionReportStore.versionHasChanged(Vc())}async getCurrentNode(e,t,r){r(await this.getNodeForCurrentUser())}getNode(){return this.node}createMqttService(){this.node&&Du.mqttService.create(this.node)}async getNodeForCurrentUser(){const{uid:e}=await Du.loginInfoStore.getLoginInfo()??{};if(e){const t=await Du.nodeStore.getNodeByUid(e);if(t){if(t.token)return t;{const r=await async function(e){const t=await xc({url:`https://api.gradient.network/api/sentrynode/token/get/${e}`});if(200==t.code)return t.data.token;throw new Error("Failed to get node token")}(t.clientid);return r&&(t.token=r,Du.nodeStore.putNodeMap(e,t)),t}}}const t=await async function(){const e=await(async e=>(await Pc.post(e.url,e.data)).data)({url:"https://api.gradient.network/api/sentrynode/register"});if(e.clientid)return e;throw new Error("Failed to create node")}();return e&&t&&Du.nodeStore.putNodeMap(e,t),t}async initGlobalConfig(){this.node&&(await Du.globalConfig.init(this.node.clientid),Du.globalConfig.startRefreshInterval())}async initNode(){this.node=await this.getNodeForCurrentUser(),this.node&&(await this.initGlobalConfig(),await this.checkVersionHasChanged()&&Du.readAnnouncementStore.clearReadSentryNodeDescription(),await Du.offscreenService.createClient(this.node),this.backgroundController.initialize(),this.taskManager.startAll())}async destroyNode(){Du.mqttService.destroy(),Du.offscreenService.destroyClient(),await Du.nodeInfoStore.clearNodeInfo(),this.node=void 0}}!function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);o>3&&s&&Object.defineProperty(t,r,s)}([sa("getCurrentNode")],eu.prototype,"getCurrentNode",null);var tu=chrome.runtime.ContextType;let ru;const nu="offscreen.html";class iu{constructor(){}async createClient(e){await async function(){const e=chrome.runtime.getURL(nu);(await chrome.runtime.getContexts({contextTypes:[tu.OFFSCREEN_DOCUMENT],documentUrls:[e]})).length>0||(ru?await ru:(ru=chrome.offscreen.createDocument({url:nu,reasons:["WEB_RTC"],justification:"Run WebRTC in background to ping other hosts and help build our edging network."}),await ru,ru=null))}();const t=Du.tapsTripleStore,r=await t.getTapsTriple(e.clientid),n={clientid:e.clientid,biz_version:Vc()||"",token:e.token||"",skey:r?.key||""},i=await Zs(ta.OFFSCREEN,na.INIT_P2PSDK,n);Ys.info(`createClient response: ${JSON.stringify(i)}`)}async setP2PArgs(e){const t=await Zs(ta.OFFSCREEN,na.SET_SKEY,e);Ys.info(`setP2PArgs result: ${JSON.stringify(t)}`)}async performLatencyTask(e){const t=await Zs(ta.OFFSCREEN,na.ACTION_TAPS,e),{ttl:r,signature:n}=t.data??{};if(Ys.info(`Result: ${r} TTL: ${r}, signature: ${n}`),"number"==typeof r){const t=Du.connectivityServices;await t.sendMessage("latency",JSON.stringify(Dc.generateLatencyResultMessage(e,r,n||"")))}}async destroyClient(){await async function(){await chrome.offscreen.closeDocument()}()}}var ou=function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};class su{constructor(){}async init(){await Du.loginInfoStore.getLoginInfo()&&Du.nodeService.initNode()}async handleLogin(e,t,r){if(e.data){if(a(e.data,await Du.loginInfoStore.getLoginInfo()))return void r("OK");await Du.loginInfoStore.saveLoginInfo(e.data),Du.nodeService.initNode(),r("OK")}}async handleLogout(e,t,r){await Du.loginInfoStore.eraseLoginInfo(),Du.nodeService.destroyNode(),r("OK")}async getLoginInfo(e,t,r){r(await Du.loginInfoStore.getLoginInfo())}}ou([oa("login")],su.prototype,"handleLogin",null),ou([oa("logout")],su.prototype,"handleLogout",null),ou([sa("getLoginInfo")],su.prototype,"getLoginInfo",null);class au{async saveLoginInfo(e){await chrome.storage.local.set({loginInfo:e})}async getLoginInfo(){const{loginInfo:e}=await chrome.storage.local.get("loginInfo");return e}async eraseLoginInfo(){await chrome.storage.local.remove("loginInfo")}}var lu=r(1396),cu=r.n(lu);class uu{async getNodeMap(){const{nodeMapEncrypted:e}=await chrome.storage.local.get("nodeMapEncrypted");return e||(await chrome.storage.local.set({nodeMapEncrypted:{}}),{})}async getNodeByUid(e){const t=await this.getNodeMap();if(t)return await uu.decryptNode(t[e])}async putNodeMap(e,t){const r=await this.getNodeMap();r[e]=await uu.encryptNode(t),await chrome.storage.local.set({nodeMapEncrypted:r})}async eraseNodeMap(){await chrome.storage.local.remove("nodeMapEncrypted")}static async encryptNode(e){const t=await Du.identityService.getIdentity(),r=await Du.loginInfoStore.getLoginInfo(),n=r?.uid;let i="",o="";if(n&&t){const r=cu().SHA256(n+t),s=e.password,a=cu().lib.WordArray.random(16);return i=cu().AES.encrypt(s,r,{iv:a,mode:cu().mode.CBC,padding:cu().pad.Pkcs7}).toString(),o=a.toString(),{clientid:e.clientid,username:e.username,token:e.token??"",passwordEncrypted:i,iv:o,readSentryNodeDescription:e.readSentryNodeDescription}}throw new Error(`Failed to encrypt node: username, username=${n}, identity=${t}`)}static async decryptNode(e){if(void 0===e)return;const t=await Du.identityService.getIdentity(),r=await Du.loginInfoStore.getLoginInfo(),n=r?.uid;if(n&&t){const r=cu().SHA256(n+t),i=cu().enc.Hex.parse(e.iv),o=cu().AES.decrypt(e.passwordEncrypted,r,{iv:i,mode:cu().mode.CBC,padding:cu().pad.Pkcs7});return{username:e.username,password:o.toString(cu().enc.Utf8),clientid:e.clientid,token:e.token,readSentryNodeDescription:e.readSentryNodeDescription}}throw new Error(`Failed to decrypt node: username, username=${n}, identity=${t}`)}}class hu{async saveIP(e){await chrome.storage.local.set({ip:e})}async getIP(){const{ip:e}=await chrome.storage.local.get("ip");return e}async eraseIP(){await chrome.storage.local.remove("ip")}async saveLocation(e){await chrome.storage.local.set({location:e})}async getLocation(){const{location:e}=await chrome.storage.local.get("location");return e}async eraseLocation(){await chrome.storage.local.remove("location")}async flagIPHasChanged(){await chrome.storage.local.set({ipHasChanged:!0})}async isIPHasChanged(){const{ipHasChanged:e}=await chrome.storage.local.get("ipHasChanged");return e}}class fu{async reportIPChange(e,t){const r=Du.nodeService.getNode();r&&await Du.connectivityServices.sendMessage("ipchange",JSON.stringify(Dc.generateIPChangeMessage(r,e,t)))}}class pu{async saveIDentity(e){await chrome.storage.local.set({id:e})}async getIDentity(){const{id:e}=await chrome.storage.local.get("id");return e}async eraseIDentity(){await chrome.storage.local.remove("id")}}const du={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var gu,yu=new Uint8Array(16);function mu(){if(!gu&&!(gu="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gu(yu)}for(var bu=[],wu=0;wu<256;++wu)bu.push((wu+256).toString(16).slice(1));const vu=function(e,t,r){if(du.randomUUID&&!t&&!e)return du.randomUUID();var n=(e=e||{}).random||(e.rng||mu)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e,t=0){return(bu[e[t+0]]+bu[e[t+1]]+bu[e[t+2]]+bu[e[t+3]]+"-"+bu[e[t+4]]+bu[e[t+5]]+"-"+bu[e[t+6]]+bu[e[t+7]]+"-"+bu[e[t+8]]+bu[e[t+9]]+"-"+bu[e[t+10]]+bu[e[t+11]]+bu[e[t+12]]+bu[e[t+13]]+bu[e[t+14]]+bu[e[t+15]]).toLowerCase()}(n)};class _u{async generateIdentity(){const e=await Du.identityStore.getIDentity();if(e)return e;{const e=vu();return Du.identityStore.saveIDentity(e),e}}async getIdentity(){return await Du.identityStore.getIDentity()}}async function Su(e,t,r,n){if(!await async function(){const e=await Du.identityService.getIdentity();if(!e)return!1;const t=e.split("-")[0];return 0==parseInt(t,16)%Number("500")}())return;const i=await Du.identityService.getIdentity(),o=await Du.loginInfoStore.getLoginInfo(),s=!await t();await fetch("https://api2.amplitude.com/batch",{method:"POST",body:JSON.stringify({api_key:"59ac3aa447f40eb570cc8e717bd1329b",events:[{user_id:o?.uid,device_id:i,event_type:e,event_properties:{first_time:s,...n}}]})}),s&&await r()}var Eu=function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};class Au{popupStartTime=null;static accountTabViewingTimeInMs=0;static nodeTabViewingTimeInMs=0;constructor(){chrome.runtime.onConnect.addListener(this.onConnectListener)}onConnectListener=e=>{"popup"===e.name&&(this.popupStartTime=Date.now(),Au.accountTabViewingTimeInMs=0,Au.nodeTabViewingTimeInMs=0,e.onDisconnect.addListener(this.onDisconnectListener))};onDisconnectListener=()=>{this.popupStartTime&&(async function(e,t,r){Su("popup_view",Du.eventStore.checkPageView,Du.eventStore.recordPageView,{page_view_time_msec:e,reward_tab_view_time_msec:t,status_tab_view_time_msec:r})}(Date.now()-this.popupStartTime,Au.accountTabViewingTimeInMs,Au.nodeTabViewingTimeInMs),this.popupStartTime=null)};async reportGoDashboard(e,t,r){await async function(){Su("dashboard_click",Du.eventStore.checkGoDashboard,Du.eventStore.recordGoDashboard)}(),r("OK")}async reportTabViewingTime(e,t,r){"status"===e.data?Au.accountTabViewingTimeInMs+=100:Au.nodeTabViewingTimeInMs+=100,r("OK")}}Eu([sa("reportGoDashboard")],Au.prototype,"reportGoDashboard",null),Eu([sa("recordTabViewingTime")],Au.prototype,"reportTabViewingTime",null);class Iu{async recordPageView(){await chrome.storage.local.set({pageView:!0})}async checkPageView(){const{pageView:e}=await chrome.storage.local.get("pageView");return!!e}async recordCopyReferralCode(){await chrome.storage.local.set({copyReferralCode:!0})}async checkCopyReferralCode(){const{copyReferralCode:e}=await chrome.storage.local.get("copyReferralCode");return!!e}async recordLocateClick(){await chrome.storage.local.set({locateClick:!0})}async checkLocateClick(){const{locateClick:e}=await chrome.storage.local.get("locateClick");return!!e}async recordGoDashboard(){await chrome.storage.local.set({goDashboard:!0})}async checkGoDashboard(){const{goDashboard:e}=await chrome.storage.local.get("goDashboard");return!!e}async recordWebGLFailure(){await chrome.storage.local.set({webGLFailure:!0})}async checkWebGLFailure(){const{webGLFailure:e}=await chrome.storage.local.get("webGLFailure");return!!e}}class Tu{async recordVersionReport(e){await chrome.storage.local.set({versionReport:{version:e,time:Date.now()}})}async getVersionReport(){const{versionReport:e}=await chrome.storage.local.get("versionReport");return e}async fromLastReport(){const e=await this.getVersionReport();return e?Date.now()-e.time:1/0}async versionHasChanged(e){const t=await this.getVersionReport();return!t||e!==t.version}async flagAsExpiredVersion(){await chrome.storage.local.set({expiredVersion:!0})}async isExpiredVersion(){const{expiredVersion:e}=await chrome.storage.local.get("expiredVersion");return e}}class Ru{async saveNodeInfo(e){await chrome.storage.local.set({nodeInfo:e})}async getNodeInfo(){return(await chrome.storage.local.get("nodeInfo")).nodeInfo}async clearNodeInfo(){await chrome.storage.local.remove("nodeInfo")}}class ku{async saveFingerprintHash(e){await chrome.storage.local.set({overallHash:e})}async checkFingerprintHashSame(e){const{overallHash:t}=await chrome.storage.local.get("overallHash");return t===e}}class Ou{async recordReadAnnouncement(e){await chrome.storage.local.set({[`readAnnouncement-${e}`]:!0})}async checkReadAnnouncement(e){if(!e)return!0;const{[`readAnnouncement-${e}`]:t}=await chrome.storage.local.get(`readAnnouncement-${e}`);return!!t}async recordReadSentryNodeDescription(){await chrome.storage.local.set({readSentryNodeDescription:!0})}async checkReadSentryNodeDescription(){const{readSentryNodeDescription:e}=await chrome.storage.local.get("readSentryNodeDescription");return!!e}async clearReadSentryNodeDescription(){await chrome.storage.local.remove("readSentryNodeDescription")}}class Cu{async recordTapsTriple(e,t){await chrome.storage.local.set({[`tapsTriple-${e}`]:t})}async getTapsTriple(e){const t=(await chrome.storage.local.get(`tapsTriple-${e}`))[`tapsTriple-${e}`];if(t&&Object.keys(t).length>0){if(Number(t.until)<Math.floor(Date.now()/1e3))return;return t}}}const Pu=parseInt("24")||24;class Bu{async updatePersistShield(e){const t=Date.now();await chrome.storage.local.set({persistShield:{persistShield:e,timestamp:t}})}async getPersistShield(){const e=(await chrome.storage.local.get("persistShield")).persistShield;return e&&e.timestamp>Date.now()-60*Pu*60*1e3?e:null}}class xu{CACHE_DURATION=3e6;async saveNacosConfig(e,t,r){const n={data:r,timestamp:Date.now()};await chrome.storage.local.set({[`nacosConfig-${e}-${t}`]:n})}async getNacosConfig(e,t){const{[`nacosConfig-${e}-${t}`]:r}=await chrome.storage.local.get(`nacosConfig-${e}-${t}`);if(!r)return;const{data:n,timestamp:i}=r;if(!(Date.now()-i>this.CACHE_DURATION))return n;await chrome.storage.local.remove(`nacosConfig-${e}-${t}`)}}class Nu{dataId;nacosGroup;clientId;nacosStore;constructor(e){this.clientId=e,this.nacosGroup="p2p",this.dataId="sentrynode",this.nacosStore=new xu}async fetchNacosGlobalConfig(){let e={dcdnGrayRelease:{ratio:0,whiteList:[]}};if(!this.clientId)return e;try{const t=await this.nacosStore.getNacosConfig(this.nacosGroup,this.dataId);if(t)return t;e=await async function(e,t){return await xc({url:`https://api.gradient.network/api/nacos/pub/config/${t}/${e}`})}(this.dataId,this.nacosGroup),await this.nacosStore.saveNacosConfig(this.nacosGroup,this.dataId,e)}catch(e){return null}return e}}const Mu=async()=>(await Zs(ta.OFFSCREEN,na.GET_NAT_TYPE,"")).data;class Lu extends Nu{async isDcdnGrayRelease(e,t){if(!this.clientId)return!1;let r=4;for(let e=0;e<10;e++)try{const e=await Zs(ta.OFFSCREEN,na.GET_WSS_CONNECTION_STATUS,"");if(e.status==ea.OK){e.data&&(r=await Mu());break}await new Promise((e=>setTimeout(e,3e3)))}catch(e){}if(t.includes(this.clientId))return!0;if(1==r)return!0;if(2!=r)return!1;const n=cu().MD5(this.clientId).toString();return parseInt(n.substring(0,8),16)%100<100*e}async processOperation(e){this.clientId,await new Promise((e=>setTimeout(e,3e3))),(await Zs(ta.OFFSCREEN,na.DEPLOY_DCDN_GRAY_RELEASE,e)).status,ea.ERROR}}var Uu;!function(e){e.TRUE="true",e.FALSE="false",e.NOT_SET="not_set"}(Uu||(Uu={}));class ju{deviceId="";config=void 0;configResult;interval=null;refreshInterval=Number("3600000")||36e5;dcdnNacos;constructor(){this.configResult={dcdnGrayRelease:Uu.NOT_SET}}async init(e){this.deviceId=e,this.dcdnNacos=new Lu(e)}async refreshGlobalNacos(){if(!this.dcdnNacos)return;const e=await this.dcdnNacos.fetchNacosGlobalConfig();return e&&(await this.processConfig(e),this.config=e),e}getConfig(){return{deviceId:this.deviceId,config:this.config}}getConfigResult(){return this.configResult}startRefreshInterval(){this.interval&&clearInterval(this.interval),this.refreshGlobalNacos(),this.interval=setInterval((()=>{this.refreshGlobalNacos()}),this.refreshInterval)}async processConfig(e){(async()=>{if(!this.dcdnNacos)return;const t=await this.dcdnNacos.isDcdnGrayRelease(e.dcdnGrayRelease.ratio||0,e.dcdnGrayRelease.whiteList||[]);this.configResult.dcdnGrayRelease!=Uu.NOT_SET&&Boolean(this.configResult.dcdnGrayRelease)==t||(await this.dcdnNacos.processOperation(t),this.configResult.dcdnGrayRelease=t?Uu.TRUE:Uu.FALSE)})()}}const Du=new class{constructor(){}eventStore=new Iu;versionReportStore=new Tu;nodeInfoStore=new Ru;fingerprintStore=new ku;readAnnouncementStore=new Ou;tapsTripleStore=new Cu;nodeStore=new uu;loginInfoStore=new au;ipLocationFactory=new hu;identityStore=new pu;shieldStore=new Bu;globalConfig=new ju;nodeService=new eu;userSessionService=new su;mqttService=new fa;offscreenService=new iu;ipLocationServiceFactory=new fu;identityService=new _u;popupTimerService=new Au;connectivityServices=new ha};new class{instanceFactory=null;constructor(){this.instanceFactory=Du,this.instanceFactory.userSessionService.init(),chrome.runtime.onInstalled.addListener(this.onInstallTask),setInterval(this.keepAliveTask,1e3),{MQTT_KEEPALIVE:"60",DASHBOARD_URL:"https://app.gradient.network",FIREBASE_REFRESH_TOKEN_API_URL:"https://securetoken.googleapis.com/v1/token",FIREBASE_API_KEY:"AIzaSyCWz-svq_InWzV9WaE3ez4XqxCE0C34ddI",API_BASE:"https://api.gradient.network/api",MQTT_BROKER_URL:"wss://wse.gradient.network:443/mqtt",CDN_PREFIX:"https://images.gradient.network",AMPLITUDE_URL:"https://api2.amplitude.com",AMPLITUDE_API_KEY:"59ac3aa447f40eb570cc8e717bd1329b",OPEN_DASHBOARD:"true",AMPLITUDE_FACTOR:"500",LATENCY_WORTH_DRAWING_DISTANCE_GAP:"500",RECONNECT_TIME_CEILING:"300000",INITIAL_RECONNECT_TIME:"60000",NODE_CHECK_INTERVAL_IN_MINUTES:"10",IP_CHECK_INTERVAL_IN_MINUTES:"3",VERSION_REPORT_TIMEOUT_IN_MINUTES:"1",TAPS_TRIPLE_INTERVAL_IN_MINUTES:"1",SHIELD_CHECK_INTERVAL_IN_MINUTES:"1",FRESH_SHIELD_INTERVAL:"24",NACOS_GROUP:"p2p",NACOS_DATA_ID_SENTRY_NODE:"sentrynode",NACOS_CONFIG_CHECK_INTERVAL:"3600000"}.RUN_TEST&&this.runTest()}async keepAliveTask(){try{await chrome.runtime.sendMessage("ping")}catch(e){}}async onInstallTask(){await Du.identityService.generateIdentity(),h.goDashboard()}async runTest(){}}})()})();